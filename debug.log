[2025-04-24 12:33:39,343] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/usr/local/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/usr/local/lib/python3.10/site-packages/django/urls/resolvers.py", line 649, in resolve
    for pattern in self.url_patterns:
  File "/usr/local/lib/python3.10/site-packages/django/utils/functional.py", line 49, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "/usr/local/lib/python3.10/site-packages/django/urls/resolvers.py", line 696, in url_patterns
    patterns = getattr(self.urlconf_module, "urlpatterns", self.urlconf_module)
  File "/usr/local/lib/python3.10/site-packages/django/utils/functional.py", line 49, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "/usr/local/lib/python3.10/site-packages/django/urls/resolvers.py", line 689, in urlconf_module
    return import_module(self.urlconf_name)
  File "/usr/local/lib/python3.10/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1006, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 688, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 883, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/home/yahuokhoja/chatbot/chatbot/urls.py", line 8, in <module>
    path('chat/', include('bot.urls')),  # Подключение URL-ов из приложения bot
  File "/usr/local/lib/python3.10/site-packages/django/urls/conf.py", line 38, in include
    urlconf_module = import_module(urlconf_module)
  File "/usr/local/lib/python3.10/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1006, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 688, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 883, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/home/yahuokhoja/chatbot/bot/urls.py", line 4, in <module>
    from . import views
  File "/home/yahuokhoja/chatbot/bot/views.py", line 3, in <module>
    from pybit import HTTP
ModuleNotFoundError: No module named 'pybit'
[2025-04-24 12:33:41,091] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/usr/local/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/usr/local/lib/python3.10/site-packages/django/urls/resolvers.py", line 649, in resolve
    for pattern in self.url_patterns:
  File "/usr/local/lib/python3.10/site-packages/django/utils/functional.py", line 49, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "/usr/local/lib/python3.10/site-packages/django/urls/resolvers.py", line 696, in url_patterns
    patterns = getattr(self.urlconf_module, "urlpatterns", self.urlconf_module)
  File "/usr/local/lib/python3.10/site-packages/django/utils/functional.py", line 49, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "/usr/local/lib/python3.10/site-packages/django/urls/resolvers.py", line 689, in urlconf_module
    return import_module(self.urlconf_name)
  File "/usr/local/lib/python3.10/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1006, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 688, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 883, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/home/yahuokhoja/chatbot/chatbot/urls.py", line 8, in <module>
    path('chat/', include('bot.urls')),  # Подключение URL-ов из приложения bot
  File "/usr/local/lib/python3.10/site-packages/django/urls/conf.py", line 38, in include
    urlconf_module = import_module(urlconf_module)
  File "/usr/local/lib/python3.10/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1006, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 688, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 883, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/home/yahuokhoja/chatbot/bot/urls.py", line 4, in <module>
    from . import views
  File "/home/yahuokhoja/chatbot/bot/views.py", line 3, in <module>
    from pybit import HTTP
ModuleNotFoundError: No module named 'pybit'
[2025-04-24 12:36:46,209] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/usr/local/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/usr/local/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/usr/local/lib/python3.10/site-packages/django/urls/resolvers.py", line 649, in resolve
    for pattern in self.url_patterns:
  File "/usr/local/lib/python3.10/site-packages/django/utils/functional.py", line 49, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "/usr/local/lib/python3.10/site-packages/django/urls/resolvers.py", line 696, in url_patterns
    patterns = getattr(self.urlconf_module, "urlpatterns", self.urlconf_module)
  File "/usr/local/lib/python3.10/site-packages/django/utils/functional.py", line 49, in __get__
    res = instance.__dict__[self.name] = self.func(instance)
  File "/usr/local/lib/python3.10/site-packages/django/urls/resolvers.py", line 689, in urlconf_module
    return import_module(self.urlconf_name)
  File "/usr/local/lib/python3.10/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1006, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 688, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 883, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/home/yahuokhoja/chatbot/chatbot/urls.py", line 8, in <module>
    path('chat/', include('bot.urls')),  # Подключение URL-ов из приложения bot
  File "/usr/local/lib/python3.10/site-packages/django/urls/conf.py", line 38, in include
    urlconf_module = import_module(urlconf_module)
  File "/usr/local/lib/python3.10/importlib/__init__.py", line 126, in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
  File "<frozen importlib._bootstrap>", line 1050, in _gcd_import
  File "<frozen importlib._bootstrap>", line 1027, in _find_and_load
  File "<frozen importlib._bootstrap>", line 1006, in _find_and_load_unlocked
  File "<frozen importlib._bootstrap>", line 688, in _load_unlocked
  File "<frozen importlib._bootstrap_external>", line 883, in exec_module
  File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
  File "/home/yahuokhoja/chatbot/bot/urls.py", line 4, in <module>
    from . import views
  File "/home/yahuokhoja/chatbot/bot/views.py", line 3, in <module>
    from pybit import HTTP
ModuleNotFoundError: No module named 'pybit'
[2025-04-24 14:35:52,276] DEBUG django.db.backends: (0.056) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-24 14:35:52.051957' AND "django_session"."session_key" = '2507ghxljtv1otbye7p27cwyiqtr2ola') LIMIT 21; args=('2025-04-24 14:35:52.051957', '2507ghxljtv1otbye7p27cwyiqtr2ola'); alias=default
[2025-04-24 14:36:01,098] DEBUG django.db.backends: (0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-24 14:36:01.090978' AND "django_session"."session_key" = '2507ghxljtv1otbye7p27cwyiqtr2ola') LIMIT 21; args=('2025-04-24 14:36:01.090978', '2507ghxljtv1otbye7p27cwyiqtr2ola'); alias=default
[2025-04-25 09:08:06,001] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) 'chat/'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-25 09:08:06,014] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) 'chat/'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) 'chat/'>
[2025-04-25 09:08:06,044] WARNING django.request: Not Found: /
[2025-04-25 09:08:07,706] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) 'chat/'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-25 09:08:07,712] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) 'chat/'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) 'chat/'>
[2025-04-25 09:08:07,717] WARNING django.request: Not Found: /
[2025-04-25 09:08:08,106] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) 'chat/'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-25 09:08:08,110] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) 'chat/'>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) 'chat/'>
[2025-04-25 09:08:08,115] WARNING django.request: Not Found: /favicon.ico
[2025-04-25 09:10:17,256] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) 'chat/'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-25 09:10:17,261] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) 'chat/'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) 'chat/'>
[2025-04-25 09:10:17,265] WARNING django.request: Not Found: /
[2025-04-25 09:10:36,828] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) 'chat/'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-25 09:10:36,834] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) 'chat/'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) 'chat/'>
[2025-04-25 09:10:36,837] WARNING django.request: Not Found: /
[2025-04-25 09:10:38,899] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) 'chat/'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-25 09:10:38,905] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) 'chat/'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) 'chat/'>
[2025-04-25 09:10:38,910] WARNING django.request: Not Found: /
[2025-04-25 09:11:55,777] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) 'chat/'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-25 09:11:55,782] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) 'chat/'>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) 'chat/'>
[2025-04-25 09:11:55,785] WARNING django.request: Not Found: /
[2025-04-25 09:12:27,745] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 24, in index
    price = get_market_price(symbol)  # Получаем цену для этой пары
  File "/home/yahuokhoja/chatbot/bot/views.py", line 6, in get_market_price
    client = HTTP(
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py", line 58, in __init__
    super().__init__(**args)
TypeError: _V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124c16240>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'TypeError("_V5HTTPManager.__init__() got an unexpected keyword argument \'endpoint\'")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x71c12503d750>>')], 'id': 125074359280192, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124c16980>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x71c12503d750>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x71c124c10e50>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x71c124c10e50>')], 'id': 125074359282048, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124c16340>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 24, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('symbol', "'BTCUSDT'")], 'id': 125074359280448, 'pre_context': ['        else:', '            return None', '    except Exception as e:', '        return str(e)', '', 'def index(request):', '    symbol = "BTCUSDT"  # Пара по умолчанию'], 'context_line': '    price = get_market_price(symbol)  # Получаем цену для этой пары', 'post_context': ['    return render(request, "bot/index.html", {"price": price, "symbol": symbol})', '', '', '', ''], 'pre_context_lineno': 17, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124df81c0>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'get_market_price', 'lineno': 6, 'vars': [('symbol', "'BTCUSDT'")], 'id': 125074361254336, 'pre_context': ['from django.shortcuts import render', 'from pybit.unified_trading import HTTP', '', 'def get_market_price(symbol="BTCUSDT"):', '    # Обратите внимание на использование unified API'], 'context_line': '    client = HTTP(', 'post_context': ['        endpoint="https://api.bybit.com",', '        api_key="your_api_key",  # Ваш API-ключ', '        api_secret="your_api_secret"  # Ваш API-секрет', '    )', '', '    try:'], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124c04600>, 'type': 'user', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py', 'function': '__init__', 'lineno': 58, 'vars': [('self', "Error in formatting: AttributeError: 'HTTP' object has no attribute 'retry_codes'"), ('args', "{'api_key': 'your_api_key',\n 'api_secret': 'your_api_secret',\n 'endpoint': 'https://api.bybit.com'}"), ('__class__', "<class 'pybit.unified_trading.HTTP'>")], 'id': 125074359207424, 'pre_context': ['    UserHTTP,', '    BrokerHTTP,', '    InstitutionalLoanHTTP,', '    CryptoLoanHTTP,', '    EarnHTTP,', '):', '    def __init__(self, **args):'], 'context_line': '        super().__init__(**args)', 'post_context': ['', '', 'class WebSocket(_V5WebSocketManager):', '    def _validate_public_topic(self):', '        if "/v5/public" not in self.WS_URL:', '            raise TopicMismatchError('], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '40696', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x71c124bf4eb0>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x71c124bdcd30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 9, 12, 27, 745286, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x71c124e9fed0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x71c12477ba70>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'TypeError', 'exception_value': "_V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124c04600>, 'type': 'user', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py', 'function': '__init__', 'lineno': 58, 'vars': [('self', "Error in formatting: AttributeError: 'HTTP' object has no attribute 'retry_codes'"), ('args', "{'api_key': 'your_api_key',\n 'api_secret': 'your_api_secret',\n 'endpoint': 'https://api.bybit.com'}"), ('__class__', "<class 'pybit.unified_trading.HTTP'>")], 'id': 125074359207424, 'pre_context': ['    UserHTTP,', '    BrokerHTTP,', '    InstitutionalLoanHTTP,', '    CryptoLoanHTTP,', '    EarnHTTP,', '):', '    def __init__(self, **args):'], 'context_line': '        super().__init__(**args)', 'post_context': ['', '', 'class WebSocket(_V5WebSocketManager):', '    def _validate_public_topic(self):', '        if "/v5/public" not in self.WS_URL:', '            raise TopicMismatchError('], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 09:12:27,775] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 24, in index
    price = get_market_price(symbol)  # Получаем цену для этой пары
  File "/home/yahuokhoja/chatbot/bot/views.py", line 6, in get_market_price
    client = HTTP(
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py", line 58, in __init__
    super().__init__(**args)
TypeError: _V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124c16240>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'TypeError("_V5HTTPManager.__init__() got an unexpected keyword argument \'endpoint\'")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x71c12503d750>>')], 'id': 125074359280192, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124c16980>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x71c12503d750>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x71c124c10e50>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x71c124c10e50>')], 'id': 125074359282048, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124c16340>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 24, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('symbol', "'BTCUSDT'")], 'id': 125074359280448, 'pre_context': ['        else:', '            return None', '    except Exception as e:', '        return str(e)', '', 'def index(request):', '    symbol = "BTCUSDT"  # Пара по умолчанию'], 'context_line': '    price = get_market_price(symbol)  # Получаем цену для этой пары', 'post_context': ['    return render(request, "bot/index.html", {"price": price, "symbol": symbol})', '', '', '', ''], 'pre_context_lineno': 17, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124df81c0>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'get_market_price', 'lineno': 6, 'vars': [('symbol', "'BTCUSDT'")], 'id': 125074361254336, 'pre_context': ['from django.shortcuts import render', 'from pybit.unified_trading import HTTP', '', 'def get_market_price(symbol="BTCUSDT"):', '    # Обратите внимание на использование unified API'], 'context_line': '    client = HTTP(', 'post_context': ['        endpoint="https://api.bybit.com",', '        api_key="your_api_key",  # Ваш API-ключ', '        api_secret="your_api_secret"  # Ваш API-секрет', '    )', '', '    try:'], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124c04600>, 'type': 'user', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py', 'function': '__init__', 'lineno': 58, 'vars': [('self', "Error in formatting: AttributeError: 'HTTP' object has no attribute 'retry_codes'"), ('args', "{'api_key': 'your_api_key',\n 'api_secret': 'your_api_secret',\n 'endpoint': 'https://api.bybit.com'}"), ('__class__', "<class 'pybit.unified_trading.HTTP'>")], 'id': 125074359207424, 'pre_context': ['    UserHTTP,', '    BrokerHTTP,', '    InstitutionalLoanHTTP,', '    CryptoLoanHTTP,', '    EarnHTTP,', '):', '    def __init__(self, **args):'], 'context_line': '        super().__init__(**args)', 'post_context': ['', '', 'class WebSocket(_V5WebSocketManager):', '    def _validate_public_topic(self):', '        if "/v5/public" not in self.WS_URL:', '            raise TopicMismatchError('], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '40696', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x71c124bf4eb0>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x71c124bdcd30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 9, 12, 27, 745286, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x71c124e9fed0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x71c12477ba70>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'TypeError', 'exception_value': "_V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124c04600>, 'type': 'user', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py', 'function': '__init__', 'lineno': 58, 'vars': [('self', "Error in formatting: AttributeError: 'HTTP' object has no attribute 'retry_codes'"), ('args', "{'api_key': 'your_api_key',\n 'api_secret': 'your_api_secret',\n 'endpoint': 'https://api.bybit.com'}"), ('__class__', "<class 'pybit.unified_trading.HTTP'>")], 'id': 125074359207424, 'pre_context': ['    UserHTTP,', '    BrokerHTTP,', '    InstitutionalLoanHTTP,', '    CryptoLoanHTTP,', '    EarnHTTP,', '):', '    def __init__(self, **args):'], 'context_line': '        super().__init__(**args)', 'post_context': ['', '', 'class WebSocket(_V5WebSocketManager):', '    def _validate_public_topic(self):', '        if "/v5/public" not in self.WS_URL:', '            raise TopicMismatchError('], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 09:12:27,796] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 24, in index
    price = get_market_price(symbol)  # Получаем цену для этой пары
  File "/home/yahuokhoja/chatbot/bot/views.py", line 6, in get_market_price
    client = HTTP(
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py", line 58, in __init__
    super().__init__(**args)
TypeError: _V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'
[2025-04-25 09:12:29,445] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 24, in index
    price = get_market_price(symbol)  # Получаем цену для этой пары
  File "/home/yahuokhoja/chatbot/bot/views.py", line 6, in get_market_price
    client = HTTP(
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py", line 58, in __init__
    super().__init__(**args)
TypeError: _V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c1246204c0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'TypeError("_V5HTTPManager.__init__() got an unexpected keyword argument \'endpoint\'")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x71c12503d750>>')], 'id': 125074353030336, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124620580>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x71c12503d750>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x71c124c10e50>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x71c124c10e50>')], 'id': 125074353030528, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124620480>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 24, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('symbol', "'BTCUSDT'")], 'id': 125074353030272, 'pre_context': ['        else:', '            return None', '    except Exception as e:', '        return str(e)', '', 'def index(request):', '    symbol = "BTCUSDT"  # Пара по умолчанию'], 'context_line': '    price = get_market_price(symbol)  # Получаем цену для этой пары', 'post_context': ['    return render(request, "bot/index.html", {"price": price, "symbol": symbol})', '', '', '', ''], 'pre_context_lineno': 17, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124620640>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'get_market_price', 'lineno': 6, 'vars': [('symbol', "'BTCUSDT'")], 'id': 125074353030720, 'pre_context': ['from django.shortcuts import render', 'from pybit.unified_trading import HTTP', '', 'def get_market_price(symbol="BTCUSDT"):', '    # Обратите внимание на использование unified API'], 'context_line': '    client = HTTP(', 'post_context': ['        endpoint="https://api.bybit.com",', '        api_key="your_api_key",  # Ваш API-ключ', '        api_secret="your_api_secret"  # Ваш API-секрет', '    )', '', '    try:'], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124620540>, 'type': 'user', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py', 'function': '__init__', 'lineno': 58, 'vars': [('self', "Error in formatting: AttributeError: 'HTTP' object has no attribute 'retry_codes'"), ('args', "{'api_key': 'your_api_key',\n 'api_secret': 'your_api_secret',\n 'endpoint': 'https://api.bybit.com'}"), ('__class__', "<class 'pybit.unified_trading.HTTP'>")], 'id': 125074353030464, 'pre_context': ['    UserHTTP,', '    BrokerHTTP,', '    InstitutionalLoanHTTP,', '    CryptoLoanHTTP,', '    EarnHTTP,', '):', '    def __init__(self, **args):'], 'context_line': '        super().__init__(**args)', 'post_context': ['', '', 'class WebSocket(_V5WebSocketManager):', '    def _validate_public_topic(self):', '        if "/v5/public" not in self.WS_URL:', '            raise TopicMismatchError('], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '56956', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '77.247.198.88', 'HTTP_X_FORWARDED_FOR': '77.247.198.88', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x71c124bf4e90>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x71c124bdcd30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 9, 12, 29, 445228, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x71c12477ba70>, 'request_FILES_items': <generator object MultiValueDict.items at 0x71c12477bae0>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'TypeError', 'exception_value': "_V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124620540>, 'type': 'user', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py', 'function': '__init__', 'lineno': 58, 'vars': [('self', "Error in formatting: AttributeError: 'HTTP' object has no attribute 'retry_codes'"), ('args', "{'api_key': 'your_api_key',\n 'api_secret': 'your_api_secret',\n 'endpoint': 'https://api.bybit.com'}"), ('__class__', "<class 'pybit.unified_trading.HTTP'>")], 'id': 125074353030464, 'pre_context': ['    UserHTTP,', '    BrokerHTTP,', '    InstitutionalLoanHTTP,', '    CryptoLoanHTTP,', '    EarnHTTP,', '):', '    def __init__(self, **args):'], 'context_line': '        super().__init__(**args)', 'post_context': ['', '', 'class WebSocket(_V5WebSocketManager):', '    def _validate_public_topic(self):', '        if "/v5/public" not in self.WS_URL:', '            raise TopicMismatchError('], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 09:12:29,460] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 24, in index
    price = get_market_price(symbol)  # Получаем цену для этой пары
  File "/home/yahuokhoja/chatbot/bot/views.py", line 6, in get_market_price
    client = HTTP(
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py", line 58, in __init__
    super().__init__(**args)
TypeError: _V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c1246204c0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'TypeError("_V5HTTPManager.__init__() got an unexpected keyword argument \'endpoint\'")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x71c12503d750>>')], 'id': 125074353030336, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124620580>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x71c12503d750>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x71c124c10e50>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x71c124c10e50>')], 'id': 125074353030528, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124620480>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 24, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('symbol', "'BTCUSDT'")], 'id': 125074353030272, 'pre_context': ['        else:', '            return None', '    except Exception as e:', '        return str(e)', '', 'def index(request):', '    symbol = "BTCUSDT"  # Пара по умолчанию'], 'context_line': '    price = get_market_price(symbol)  # Получаем цену для этой пары', 'post_context': ['    return render(request, "bot/index.html", {"price": price, "symbol": symbol})', '', '', '', ''], 'pre_context_lineno': 17, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124620640>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'get_market_price', 'lineno': 6, 'vars': [('symbol', "'BTCUSDT'")], 'id': 125074353030720, 'pre_context': ['from django.shortcuts import render', 'from pybit.unified_trading import HTTP', '', 'def get_market_price(symbol="BTCUSDT"):', '    # Обратите внимание на использование unified API'], 'context_line': '    client = HTTP(', 'post_context': ['        endpoint="https://api.bybit.com",', '        api_key="your_api_key",  # Ваш API-ключ', '        api_secret="your_api_secret"  # Ваш API-секрет', '    )', '', '    try:'], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124620540>, 'type': 'user', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py', 'function': '__init__', 'lineno': 58, 'vars': [('self', "Error in formatting: AttributeError: 'HTTP' object has no attribute 'retry_codes'"), ('args', "{'api_key': 'your_api_key',\n 'api_secret': 'your_api_secret',\n 'endpoint': 'https://api.bybit.com'}"), ('__class__', "<class 'pybit.unified_trading.HTTP'>")], 'id': 125074353030464, 'pre_context': ['    UserHTTP,', '    BrokerHTTP,', '    InstitutionalLoanHTTP,', '    CryptoLoanHTTP,', '    EarnHTTP,', '):', '    def __init__(self, **args):'], 'context_line': '        super().__init__(**args)', 'post_context': ['', '', 'class WebSocket(_V5WebSocketManager):', '    def _validate_public_topic(self):', '        if "/v5/public" not in self.WS_URL:', '            raise TopicMismatchError('], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '56956', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '77.247.198.88', 'HTTP_X_FORWARDED_FOR': '77.247.198.88', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x71c124bf4e90>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x71c124bdcd30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 9, 12, 29, 445228, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x71c12477ba70>, 'request_FILES_items': <generator object MultiValueDict.items at 0x71c12477bae0>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'TypeError', 'exception_value': "_V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124620540>, 'type': 'user', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py', 'function': '__init__', 'lineno': 58, 'vars': [('self', "Error in formatting: AttributeError: 'HTTP' object has no attribute 'retry_codes'"), ('args', "{'api_key': 'your_api_key',\n 'api_secret': 'your_api_secret',\n 'endpoint': 'https://api.bybit.com'}"), ('__class__', "<class 'pybit.unified_trading.HTTP'>")], 'id': 125074353030464, 'pre_context': ['    UserHTTP,', '    BrokerHTTP,', '    InstitutionalLoanHTTP,', '    CryptoLoanHTTP,', '    EarnHTTP,', '):', '    def __init__(self, **args):'], 'context_line': '        super().__init__(**args)', 'post_context': ['', '', 'class WebSocket(_V5WebSocketManager):', '    def _validate_public_topic(self):', '        if "/v5/public" not in self.WS_URL:', '            raise TopicMismatchError('], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 09:12:29,478] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 24, in index
    price = get_market_price(symbol)  # Получаем цену для этой пары
  File "/home/yahuokhoja/chatbot/bot/views.py", line 6, in get_market_price
    client = HTTP(
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py", line 58, in __init__
    super().__init__(**args)
TypeError: _V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'
[2025-04-25 09:16:29,961] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 24, in index
    price = get_market_price(symbol)  # Получаем цену для этой пары
  File "/home/yahuokhoja/chatbot/bot/views.py", line 6, in get_market_price
    client = HTTP(
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py", line 58, in __init__
    super().__init__(**args)
TypeError: _V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c12461c180>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'TypeError("_V5HTTPManager.__init__() got an unexpected keyword argument \'endpoint\'")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x71c12503d750>>')], 'id': 125074353013120, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c1244a2380>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x71c12503d750>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x71c124c10e50>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x71c124c10e50>')], 'id': 125074351465344, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c1244a2340>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 24, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('symbol', "'BTCUSDT'")], 'id': 125074351465280, 'pre_context': ['        else:', '            return None', '    except Exception as e:', '        return str(e)', '', 'def index(request):', '    symbol = "BTCUSDT"  # Пара по умолчанию'], 'context_line': '    price = get_market_price(symbol)  # Получаем цену для этой пары', 'post_context': ['    return render(request, "bot/index.html", {"price": price, "symbol": symbol})', '', '', '', ''], 'pre_context_lineno': 17, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c1244a21c0>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'get_market_price', 'lineno': 6, 'vars': [('symbol', "'BTCUSDT'")], 'id': 125074351464896, 'pre_context': ['from django.shortcuts import render', 'from pybit.unified_trading import HTTP', '', 'def get_market_price(symbol="BTCUSDT"):', '    # Обратите внимание на использование unified API'], 'context_line': '    client = HTTP(', 'post_context': ['        endpoint="https://api.bybit.com",', '        api_key="5LB02jOV58UEZ2oPnR\'",  # Ваш API-ключ', '        api_secret="Wqb2clOVNhzG47jiXSy0JgB1pgRoivpg9N9Z"  # Ваш API-секрет', '    )', '', '    try:'], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124637300>, 'type': 'user', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py', 'function': '__init__', 'lineno': 58, 'vars': [('self', "Error in formatting: AttributeError: 'HTTP' object has no attribute 'retry_codes'"), ('args', "{'api_key': 'your_api_key',\n 'api_secret': 'your_api_secret',\n 'endpoint': 'https://api.bybit.com'}"), ('__class__', "<class 'pybit.unified_trading.HTTP'>")], 'id': 125074353124096, 'pre_context': ['    UserHTTP,', '    BrokerHTTP,', '    InstitutionalLoanHTTP,', '    CryptoLoanHTTP,', '    EarnHTTP,', '):', '    def __init__(self, **args):'], 'context_line': '        super().__init__(**args)', 'post_context': ['', '', 'class WebSocket(_V5WebSocketManager):', '    def _validate_public_topic(self):', '        if "/v5/public" not in self.WS_URL:', '            raise TopicMismatchError('], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '47464', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '77.247.198.88', 'HTTP_X_FORWARDED_FOR': '77.247.198.88', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_CACHE_CONTROL': 'max-age=0', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x71c124bf6530>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x71c124bdcd30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 9, 16, 29, 960814, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x71c12477be60>, 'request_FILES_items': <generator object MultiValueDict.items at 0x71c12477bed0>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'TypeError', 'exception_value': "_V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124637300>, 'type': 'user', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py', 'function': '__init__', 'lineno': 58, 'vars': [('self', "Error in formatting: AttributeError: 'HTTP' object has no attribute 'retry_codes'"), ('args', "{'api_key': 'your_api_key',\n 'api_secret': 'your_api_secret',\n 'endpoint': 'https://api.bybit.com'}"), ('__class__', "<class 'pybit.unified_trading.HTTP'>")], 'id': 125074353124096, 'pre_context': ['    UserHTTP,', '    BrokerHTTP,', '    InstitutionalLoanHTTP,', '    CryptoLoanHTTP,', '    EarnHTTP,', '):', '    def __init__(self, **args):'], 'context_line': '        super().__init__(**args)', 'post_context': ['', '', 'class WebSocket(_V5WebSocketManager):', '    def _validate_public_topic(self):', '        if "/v5/public" not in self.WS_URL:', '            raise TopicMismatchError('], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 09:16:29,970] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 24, in index
    price = get_market_price(symbol)  # Получаем цену для этой пары
  File "/home/yahuokhoja/chatbot/bot/views.py", line 6, in get_market_price
    client = HTTP(
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py", line 58, in __init__
    super().__init__(**args)
TypeError: _V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c12461c180>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'TypeError("_V5HTTPManager.__init__() got an unexpected keyword argument \'endpoint\'")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x71c12503d750>>')], 'id': 125074353013120, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c1244a2380>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x71c12503d750>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x71c124c10e50>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x71c124c10e50>')], 'id': 125074351465344, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c1244a2340>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 24, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('symbol', "'BTCUSDT'")], 'id': 125074351465280, 'pre_context': ['        else:', '            return None', '    except Exception as e:', '        return str(e)', '', 'def index(request):', '    symbol = "BTCUSDT"  # Пара по умолчанию'], 'context_line': '    price = get_market_price(symbol)  # Получаем цену для этой пары', 'post_context': ['    return render(request, "bot/index.html", {"price": price, "symbol": symbol})', '', '', '', ''], 'pre_context_lineno': 17, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c1244a21c0>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'get_market_price', 'lineno': 6, 'vars': [('symbol', "'BTCUSDT'")], 'id': 125074351464896, 'pre_context': ['from django.shortcuts import render', 'from pybit.unified_trading import HTTP', '', 'def get_market_price(symbol="BTCUSDT"):', '    # Обратите внимание на использование unified API'], 'context_line': '    client = HTTP(', 'post_context': ['        endpoint="https://api.bybit.com",', '        api_key="5LB02jOV58UEZ2oPnR\'",  # Ваш API-ключ', '        api_secret="Wqb2clOVNhzG47jiXSy0JgB1pgRoivpg9N9Z"  # Ваш API-секрет', '    )', '', '    try:'], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124637300>, 'type': 'user', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py', 'function': '__init__', 'lineno': 58, 'vars': [('self', "Error in formatting: AttributeError: 'HTTP' object has no attribute 'retry_codes'"), ('args', "{'api_key': 'your_api_key',\n 'api_secret': 'your_api_secret',\n 'endpoint': 'https://api.bybit.com'}"), ('__class__', "<class 'pybit.unified_trading.HTTP'>")], 'id': 125074353124096, 'pre_context': ['    UserHTTP,', '    BrokerHTTP,', '    InstitutionalLoanHTTP,', '    CryptoLoanHTTP,', '    EarnHTTP,', '):', '    def __init__(self, **args):'], 'context_line': '        super().__init__(**args)', 'post_context': ['', '', 'class WebSocket(_V5WebSocketManager):', '    def _validate_public_topic(self):', '        if "/v5/public" not in self.WS_URL:', '            raise TopicMismatchError('], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '47464', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '77.247.198.88', 'HTTP_X_FORWARDED_FOR': '77.247.198.88', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_CACHE_CONTROL': 'max-age=0', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x71c124bf6530>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x71c124bdcd30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 9, 16, 29, 960814, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x71c12477be60>, 'request_FILES_items': <generator object MultiValueDict.items at 0x71c12477bed0>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'TypeError', 'exception_value': "_V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x71c124637300>, 'type': 'user', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py', 'function': '__init__', 'lineno': 58, 'vars': [('self', "Error in formatting: AttributeError: 'HTTP' object has no attribute 'retry_codes'"), ('args', "{'api_key': 'your_api_key',\n 'api_secret': 'your_api_secret',\n 'endpoint': 'https://api.bybit.com'}"), ('__class__', "<class 'pybit.unified_trading.HTTP'>")], 'id': 125074353124096, 'pre_context': ['    UserHTTP,', '    BrokerHTTP,', '    InstitutionalLoanHTTP,', '    CryptoLoanHTTP,', '    EarnHTTP,', '):', '    def __init__(self, **args):'], 'context_line': '        super().__init__(**args)', 'post_context': ['', '', 'class WebSocket(_V5WebSocketManager):', '    def _validate_public_topic(self):', '        if "/v5/public" not in self.WS_URL:', '            raise TopicMismatchError('], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 09:16:29,981] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 24, in index
    price = get_market_price(symbol)  # Получаем цену для этой пары
  File "/home/yahuokhoja/chatbot/bot/views.py", line 6, in get_market_price
    client = HTTP(
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py", line 58, in __init__
    super().__init__(**args)
TypeError: _V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'
[2025-04-25 09:16:48,707] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 24, in index
    price = get_market_price(symbol)  # Получаем цену для этой пары
  File "/home/yahuokhoja/chatbot/bot/views.py", line 6, in get_market_price
    client = HTTP(
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py", line 58, in __init__
    super().__init__(**args)
TypeError: _V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e13203e080>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'TypeError("_V5HTTPManager.__init__() got an unexpected keyword argument \'endpoint\'")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x70e13245d750>>')], 'id': 124112509067392, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e13203df40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x70e13245d750>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x70e132038dc0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x70e132038dc0>')], 'id': 124112509067072, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e13203e3c0>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 24, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('symbol', "'BTCUSDT'")], 'id': 124112509068224, 'pre_context': ['        else:', '            return None', '    except Exception as e:', '        return str(e)', '', 'def index(request):', '    symbol = "BTCUSDT"  # Пара по умолчанию'], 'context_line': '    price = get_market_price(symbol)  # Получаем цену для этой пары', 'post_context': ['    return render(request, "bot/index.html", {"price": price, "symbol": symbol})', '', '', '', ''], 'pre_context_lineno': 17, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e131c12900>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'get_market_price', 'lineno': 6, 'vars': [('symbol', "'BTCUSDT'")], 'id': 124112504695040, 'pre_context': ['from django.shortcuts import render', 'from pybit.unified_trading import HTTP', '', 'def get_market_price(symbol="BTCUSDT"):', '    # Обратите внимание на использование unified API'], 'context_line': '    client = HTTP(', 'post_context': ['        endpoint="https://api.bybit.com",', '        api_key="5LB02jOV58UEZ2oPnR\'",  # Ваш API-ключ', '        api_secret="Wqb2clOVNhzG47jiXSy0JgB1pgRoivpg9N9Z"  # Ваш API-секрет', '    )', '', '    try:'], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e1320302c0>, 'type': 'user', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py', 'function': '__init__', 'lineno': 58, 'vars': [('self', "Error in formatting: AttributeError: 'HTTP' object has no attribute 'retry_codes'"), ('args', '{\'api_key\': "5LB02jOV58UEZ2oPnR\'",\n \'api_secret\': \'Wqb2clOVNhzG47jiXSy0JgB1pgRoivpg9N9Z\',\n \'endpoint\': \'https://api.bybit.com\'}'), ('__class__', "<class 'pybit.unified_trading.HTTP'>")], 'id': 124112509010624, 'pre_context': ['    UserHTTP,', '    BrokerHTTP,', '    InstitutionalLoanHTTP,', '    CryptoLoanHTTP,', '    EarnHTTP,', '):', '    def __init__(self, **args):'], 'context_line': '        super().__init__(**args)', 'post_context': ['', '', 'class WebSocket(_V5WebSocketManager):', '    def _validate_public_topic(self):', '        if "/v5/public" not in self.WS_URL:', '            raise TopicMismatchError('], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '58948', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x70e13201ceb0>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x70e132004d30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 9, 16, 48, 706824, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x70e1322c7ed0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x70e13199fa70>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'TypeError', 'exception_value': "_V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e1320302c0>, 'type': 'user', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py', 'function': '__init__', 'lineno': 58, 'vars': [('self', "Error in formatting: AttributeError: 'HTTP' object has no attribute 'retry_codes'"), ('args', '{\'api_key\': "5LB02jOV58UEZ2oPnR\'",\n \'api_secret\': \'Wqb2clOVNhzG47jiXSy0JgB1pgRoivpg9N9Z\',\n \'endpoint\': \'https://api.bybit.com\'}'), ('__class__', "<class 'pybit.unified_trading.HTTP'>")], 'id': 124112509010624, 'pre_context': ['    UserHTTP,', '    BrokerHTTP,', '    InstitutionalLoanHTTP,', '    CryptoLoanHTTP,', '    EarnHTTP,', '):', '    def __init__(self, **args):'], 'context_line': '        super().__init__(**args)', 'post_context': ['', '', 'class WebSocket(_V5WebSocketManager):', '    def _validate_public_topic(self):', '        if "/v5/public" not in self.WS_URL:', '            raise TopicMismatchError('], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 09:16:48,722] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 24, in index
    price = get_market_price(symbol)  # Получаем цену для этой пары
  File "/home/yahuokhoja/chatbot/bot/views.py", line 6, in get_market_price
    client = HTTP(
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py", line 58, in __init__
    super().__init__(**args)
TypeError: _V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e13203e080>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'TypeError("_V5HTTPManager.__init__() got an unexpected keyword argument \'endpoint\'")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x70e13245d750>>')], 'id': 124112509067392, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e13203df40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x70e13245d750>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x70e132038dc0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x70e132038dc0>')], 'id': 124112509067072, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e13203e3c0>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 24, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('symbol', "'BTCUSDT'")], 'id': 124112509068224, 'pre_context': ['        else:', '            return None', '    except Exception as e:', '        return str(e)', '', 'def index(request):', '    symbol = "BTCUSDT"  # Пара по умолчанию'], 'context_line': '    price = get_market_price(symbol)  # Получаем цену для этой пары', 'post_context': ['    return render(request, "bot/index.html", {"price": price, "symbol": symbol})', '', '', '', ''], 'pre_context_lineno': 17, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e131c12900>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'get_market_price', 'lineno': 6, 'vars': [('symbol', "'BTCUSDT'")], 'id': 124112504695040, 'pre_context': ['from django.shortcuts import render', 'from pybit.unified_trading import HTTP', '', 'def get_market_price(symbol="BTCUSDT"):', '    # Обратите внимание на использование unified API'], 'context_line': '    client = HTTP(', 'post_context': ['        endpoint="https://api.bybit.com",', '        api_key="5LB02jOV58UEZ2oPnR\'",  # Ваш API-ключ', '        api_secret="Wqb2clOVNhzG47jiXSy0JgB1pgRoivpg9N9Z"  # Ваш API-секрет', '    )', '', '    try:'], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e1320302c0>, 'type': 'user', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py', 'function': '__init__', 'lineno': 58, 'vars': [('self', "Error in formatting: AttributeError: 'HTTP' object has no attribute 'retry_codes'"), ('args', '{\'api_key\': "5LB02jOV58UEZ2oPnR\'",\n \'api_secret\': \'Wqb2clOVNhzG47jiXSy0JgB1pgRoivpg9N9Z\',\n \'endpoint\': \'https://api.bybit.com\'}'), ('__class__', "<class 'pybit.unified_trading.HTTP'>")], 'id': 124112509010624, 'pre_context': ['    UserHTTP,', '    BrokerHTTP,', '    InstitutionalLoanHTTP,', '    CryptoLoanHTTP,', '    EarnHTTP,', '):', '    def __init__(self, **args):'], 'context_line': '        super().__init__(**args)', 'post_context': ['', '', 'class WebSocket(_V5WebSocketManager):', '    def _validate_public_topic(self):', '        if "/v5/public" not in self.WS_URL:', '            raise TopicMismatchError('], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '58948', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x70e13201ceb0>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x70e132004d30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 9, 16, 48, 706824, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x70e1322c7ed0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x70e13199fa70>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'TypeError', 'exception_value': "_V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e1320302c0>, 'type': 'user', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py', 'function': '__init__', 'lineno': 58, 'vars': [('self', "Error in formatting: AttributeError: 'HTTP' object has no attribute 'retry_codes'"), ('args', '{\'api_key\': "5LB02jOV58UEZ2oPnR\'",\n \'api_secret\': \'Wqb2clOVNhzG47jiXSy0JgB1pgRoivpg9N9Z\',\n \'endpoint\': \'https://api.bybit.com\'}'), ('__class__', "<class 'pybit.unified_trading.HTTP'>")], 'id': 124112509010624, 'pre_context': ['    UserHTTP,', '    BrokerHTTP,', '    InstitutionalLoanHTTP,', '    CryptoLoanHTTP,', '    EarnHTTP,', '):', '    def __init__(self, **args):'], 'context_line': '        super().__init__(**args)', 'post_context': ['', '', 'class WebSocket(_V5WebSocketManager):', '    def _validate_public_topic(self):', '        if "/v5/public" not in self.WS_URL:', '            raise TopicMismatchError('], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 09:16:48,733] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 24, in index
    price = get_market_price(symbol)  # Получаем цену для этой пары
  File "/home/yahuokhoja/chatbot/bot/views.py", line 6, in get_market_price
    client = HTTP(
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py", line 58, in __init__
    super().__init__(**args)
TypeError: _V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'
[2025-04-25 09:16:53,147] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 24, in index
    price = get_market_price(symbol)  # Получаем цену для этой пары
  File "/home/yahuokhoja/chatbot/bot/views.py", line 6, in get_market_price
    client = HTTP(
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py", line 58, in __init__
    super().__init__(**args)
TypeError: _V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e131a14100>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'TypeError("_V5HTTPManager.__init__() got an unexpected keyword argument \'endpoint\'")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x70e13245d750>>')], 'id': 124112502604032, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e131a140c0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x70e13245d750>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x70e132038dc0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x70e132038dc0>')], 'id': 124112502603968, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e131a15640>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 24, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('symbol', "'BTCUSDT'")], 'id': 124112502609472, 'pre_context': ['        else:', '            return None', '    except Exception as e:', '        return str(e)', '', 'def index(request):', '    symbol = "BTCUSDT"  # Пара по умолчанию'], 'context_line': '    price = get_market_price(symbol)  # Получаем цену для этой пары', 'post_context': ['    return render(request, "bot/index.html", {"price": price, "symbol": symbol})', '', '', '', ''], 'pre_context_lineno': 17, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e131a14080>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'get_market_price', 'lineno': 6, 'vars': [('symbol', "'BTCUSDT'")], 'id': 124112502603904, 'pre_context': ['from django.shortcuts import render', 'from pybit.unified_trading import HTTP', '', 'def get_market_price(symbol="BTCUSDT"):', '    # Обратите внимание на использование unified API'], 'context_line': '    client = HTTP(', 'post_context': ['        endpoint="https://api.bybit.com",', '        api_key="5LB02jOV58UEZ2oPnR\'",  # Ваш API-ключ', '        api_secret="Wqb2clOVNhzG47jiXSy0JgB1pgRoivpg9N9Z"  # Ваш API-секрет', '    )', '', '    try:'], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e131a15500>, 'type': 'user', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py', 'function': '__init__', 'lineno': 58, 'vars': [('self', "Error in formatting: AttributeError: 'HTTP' object has no attribute 'retry_codes'"), ('args', '{\'api_key\': "5LB02jOV58UEZ2oPnR\'",\n \'api_secret\': \'Wqb2clOVNhzG47jiXSy0JgB1pgRoivpg9N9Z\',\n \'endpoint\': \'https://api.bybit.com\'}'), ('__class__', "<class 'pybit.unified_trading.HTTP'>")], 'id': 124112502609152, 'pre_context': ['    UserHTTP,', '    BrokerHTTP,', '    InstitutionalLoanHTTP,', '    CryptoLoanHTTP,', '    EarnHTTP,', '):', '    def __init__(self, **args):'], 'context_line': '        super().__init__(**args)', 'post_context': ['', '', 'class WebSocket(_V5WebSocketManager):', '    def _validate_public_topic(self):', '        if "/v5/public" not in self.WS_URL:', '            raise TopicMismatchError('], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '41596', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '77.247.198.88', 'HTTP_X_FORWARDED_FOR': '77.247.198.88', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x70e13201ce90>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x70e132004d30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 9, 16, 53, 147028, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x70e13199fa70>, 'request_FILES_items': <generator object MultiValueDict.items at 0x70e13199fae0>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'TypeError', 'exception_value': "_V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e131a15500>, 'type': 'user', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py', 'function': '__init__', 'lineno': 58, 'vars': [('self', "Error in formatting: AttributeError: 'HTTP' object has no attribute 'retry_codes'"), ('args', '{\'api_key\': "5LB02jOV58UEZ2oPnR\'",\n \'api_secret\': \'Wqb2clOVNhzG47jiXSy0JgB1pgRoivpg9N9Z\',\n \'endpoint\': \'https://api.bybit.com\'}'), ('__class__', "<class 'pybit.unified_trading.HTTP'>")], 'id': 124112502609152, 'pre_context': ['    UserHTTP,', '    BrokerHTTP,', '    InstitutionalLoanHTTP,', '    CryptoLoanHTTP,', '    EarnHTTP,', '):', '    def __init__(self, **args):'], 'context_line': '        super().__init__(**args)', 'post_context': ['', '', 'class WebSocket(_V5WebSocketManager):', '    def _validate_public_topic(self):', '        if "/v5/public" not in self.WS_URL:', '            raise TopicMismatchError('], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 09:16:53,155] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 24, in index
    price = get_market_price(symbol)  # Получаем цену для этой пары
  File "/home/yahuokhoja/chatbot/bot/views.py", line 6, in get_market_price
    client = HTTP(
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py", line 58, in __init__
    super().__init__(**args)
TypeError: _V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e131a14100>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'TypeError("_V5HTTPManager.__init__() got an unexpected keyword argument \'endpoint\'")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x70e13245d750>>')], 'id': 124112502604032, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e131a140c0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x70e13245d750>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x70e132038dc0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x70e132038dc0>')], 'id': 124112502603968, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e131a15640>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 24, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('symbol', "'BTCUSDT'")], 'id': 124112502609472, 'pre_context': ['        else:', '            return None', '    except Exception as e:', '        return str(e)', '', 'def index(request):', '    symbol = "BTCUSDT"  # Пара по умолчанию'], 'context_line': '    price = get_market_price(symbol)  # Получаем цену для этой пары', 'post_context': ['    return render(request, "bot/index.html", {"price": price, "symbol": symbol})', '', '', '', ''], 'pre_context_lineno': 17, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e131a14080>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'get_market_price', 'lineno': 6, 'vars': [('symbol', "'BTCUSDT'")], 'id': 124112502603904, 'pre_context': ['from django.shortcuts import render', 'from pybit.unified_trading import HTTP', '', 'def get_market_price(symbol="BTCUSDT"):', '    # Обратите внимание на использование unified API'], 'context_line': '    client = HTTP(', 'post_context': ['        endpoint="https://api.bybit.com",', '        api_key="5LB02jOV58UEZ2oPnR\'",  # Ваш API-ключ', '        api_secret="Wqb2clOVNhzG47jiXSy0JgB1pgRoivpg9N9Z"  # Ваш API-секрет', '    )', '', '    try:'], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e131a15500>, 'type': 'user', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py', 'function': '__init__', 'lineno': 58, 'vars': [('self', "Error in formatting: AttributeError: 'HTTP' object has no attribute 'retry_codes'"), ('args', '{\'api_key\': "5LB02jOV58UEZ2oPnR\'",\n \'api_secret\': \'Wqb2clOVNhzG47jiXSy0JgB1pgRoivpg9N9Z\',\n \'endpoint\': \'https://api.bybit.com\'}'), ('__class__', "<class 'pybit.unified_trading.HTTP'>")], 'id': 124112502609152, 'pre_context': ['    UserHTTP,', '    BrokerHTTP,', '    InstitutionalLoanHTTP,', '    CryptoLoanHTTP,', '    EarnHTTP,', '):', '    def __init__(self, **args):'], 'context_line': '        super().__init__(**args)', 'post_context': ['', '', 'class WebSocket(_V5WebSocketManager):', '    def _validate_public_topic(self):', '        if "/v5/public" not in self.WS_URL:', '            raise TopicMismatchError('], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '41596', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '77.247.198.88', 'HTTP_X_FORWARDED_FOR': '77.247.198.88', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x70e13201ce90>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x70e132004d30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 9, 16, 53, 147028, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x70e13199fa70>, 'request_FILES_items': <generator object MultiValueDict.items at 0x70e13199fae0>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'TypeError', 'exception_value': "_V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70e131a15500>, 'type': 'user', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py', 'function': '__init__', 'lineno': 58, 'vars': [('self', "Error in formatting: AttributeError: 'HTTP' object has no attribute 'retry_codes'"), ('args', '{\'api_key\': "5LB02jOV58UEZ2oPnR\'",\n \'api_secret\': \'Wqb2clOVNhzG47jiXSy0JgB1pgRoivpg9N9Z\',\n \'endpoint\': \'https://api.bybit.com\'}'), ('__class__', "<class 'pybit.unified_trading.HTTP'>")], 'id': 124112502609152, 'pre_context': ['    UserHTTP,', '    BrokerHTTP,', '    InstitutionalLoanHTTP,', '    CryptoLoanHTTP,', '    EarnHTTP,', '):', '    def __init__(self, **args):'], 'context_line': '        super().__init__(**args)', 'post_context': ['', '', 'class WebSocket(_V5WebSocketManager):', '    def _validate_public_topic(self):', '        if "/v5/public" not in self.WS_URL:', '            raise TopicMismatchError('], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 09:16:53,165] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 24, in index
    price = get_market_price(symbol)  # Получаем цену для этой пары
  File "/home/yahuokhoja/chatbot/bot/views.py", line 6, in get_market_price
    client = HTTP(
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/pybit/unified_trading.py", line 58, in __init__
    super().__init__(**args)
TypeError: _V5HTTPManager.__init__() got an unexpected keyword argument 'endpoint'
[2025-04-25 09:48:35,637] DEBUG django.db.backends: (0.012) 
            SELECT name, type FROM sqlite_master
            WHERE type in ('table', 'view') AND NOT name='sqlite_sequence'
            ORDER BY name; args=None; alias=default
[2025-04-25 09:48:35,661] DEBUG django.db.backends: (0.005) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-04-25 09:50:18,816] DEBUG django.db.backends: (0.015) 
            SELECT name, type FROM sqlite_master
            WHERE type in ('table', 'view') AND NOT name='sqlite_sequence'
            ORDER BY name; args=None; alias=default
[2025-04-25 09:50:18,840] DEBUG django.db.backends: (0.003) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-04-25 09:50:36,071] DEBUG django.db.backends: (0.004) 
            SELECT name, type FROM sqlite_master
            WHERE type in ('table', 'view') AND NOT name='sqlite_sequence'
            ORDER BY name; args=None; alias=default
[2025-04-25 09:50:36,082] DEBUG django.db.backends: (0.002) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-04-25 09:50:36,086] DEBUG django.db.backends: (0.001) 
            SELECT name, type FROM sqlite_master
            WHERE type in ('table', 'view') AND NOT name='sqlite_sequence'
            ORDER BY name; args=None; alias=default
[2025-04-25 09:50:36,092] DEBUG django.db.backends: (0.005) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-04-25 09:50:36,130] DEBUG django.db.backends: (0.010) 
            SELECT name, type FROM sqlite_master
            WHERE type in ('table', 'view') AND NOT name='sqlite_sequence'
            ORDER BY name; args=None; alias=default
[2025-04-25 09:50:36,132] DEBUG django.db.backends: (0.000) PRAGMA foreign_keys = OFF; args=None; alias=default
[2025-04-25 09:50:36,133] DEBUG django.db.backends: (0.000) PRAGMA foreign_keys; args=None; alias=default
[2025-04-25 09:50:36,133] DEBUG django.db.backends: (0.000) BEGIN; args=None; alias=default
[2025-04-25 09:50:36,135] DEBUG django.db.backends.schema: CREATE TABLE "bot_activeorder" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "order_id" varchar(255) NOT NULL, "symbol" varchar(50) NOT NULL, "api_key" varchar(255) NOT NULL, "api_secret" varchar(255) NOT NULL); (params None)
[2025-04-25 09:50:36,142] DEBUG django.db.backends: (0.007) CREATE TABLE "bot_activeorder" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "order_id" varchar(255) NOT NULL, "symbol" varchar(50) NOT NULL, "api_key" varchar(255) NOT NULL, "api_secret" varchar(255) NOT NULL); args=None; alias=default
[2025-04-25 09:50:36,143] DEBUG django.db.backends.schema: DROP TABLE "bot_message"; (params ())
[2025-04-25 09:50:36,144] DEBUG django.db.backends: (0.001) DROP TABLE "bot_message"; args=(); alias=default
[2025-04-25 09:50:36,145] DEBUG django.db.backends: (0.000) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('bot', '0002_activeorder_delete_message', '2025-04-25 09:50:36.144363'); args=['bot', '0002_activeorder_delete_message', '2025-04-25 09:50:36.144363']; alias=default
[2025-04-25 09:50:36,146] DEBUG django.db.backends: (0.001) PRAGMA foreign_key_check; args=None; alias=default
[2025-04-25 09:50:36,168] DEBUG django.db.backends: (0.021) COMMIT; args=None; alias=default
[2025-04-25 09:50:36,168] DEBUG django.db.backends: (0.000) PRAGMA foreign_keys = ON; args=None; alias=default
[2025-04-25 09:50:36,173] DEBUG django.db.backends: (0.005) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-04-25 09:50:36,186] DEBUG django.db.backends: (0.002) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'admin'; args=('admin',); alias=default
[2025-04-25 09:50:36,190] DEBUG django.db.backends: (0.002) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'admin' AND "django_content_type"."model" IN ('logentry')); args=('admin', 'logentry'); alias=default
[2025-04-25 09:50:36,200] DEBUG django.db.backends: (0.002) SELECT "auth_permission"."content_type_id" AS "content_type", "auth_permission"."codename" AS "codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (1) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, 2 ASC; args=(1,); alias=default
[2025-04-25 09:50:36,206] DEBUG django.db.backends: (0.004) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'admin'; args=('admin',); alias=default
[2025-04-25 09:50:36,210] DEBUG django.db.backends: (0.002) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'auth'; args=('auth',); alias=default
[2025-04-25 09:50:36,215] DEBUG django.db.backends: (0.002) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'auth' AND "django_content_type"."model" IN ('user', 'permission', 'group')); args=('auth', 'user', 'permission', 'group'); alias=default
[2025-04-25 09:50:36,219] DEBUG django.db.backends: (0.002) SELECT "auth_permission"."content_type_id" AS "content_type", "auth_permission"."codename" AS "codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (2, 3, 4) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, 2 ASC; args=(2, 3, 4); alias=default
[2025-04-25 09:50:36,224] DEBUG django.db.backends: (0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'auth'; args=('auth',); alias=default
[2025-04-25 09:50:36,231] DEBUG django.db.backends: (0.005) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'contenttypes'; args=('contenttypes',); alias=default
[2025-04-25 09:50:36,235] DEBUG django.db.backends: (0.003) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'contenttypes' AND "django_content_type"."model" IN ('contenttype')); args=('contenttypes', 'contenttype'); alias=default
[2025-04-25 09:50:36,241] DEBUG django.db.backends: (0.004) SELECT "auth_permission"."content_type_id" AS "content_type", "auth_permission"."codename" AS "codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (5) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, 2 ASC; args=(5,); alias=default
[2025-04-25 09:50:36,246] DEBUG django.db.backends: (0.002) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'contenttypes'; args=('contenttypes',); alias=default
[2025-04-25 09:50:36,249] DEBUG django.db.backends: (0.002) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'sessions'; args=('sessions',); alias=default
[2025-04-25 09:50:36,253] DEBUG django.db.backends: (0.003) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'sessions' AND "django_content_type"."model" IN ('session')); args=('sessions', 'session'); alias=default
[2025-04-25 09:50:36,260] DEBUG django.db.backends: (0.003) SELECT "auth_permission"."content_type_id" AS "content_type", "auth_permission"."codename" AS "codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (6) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, 2 ASC; args=(6,); alias=default
[2025-04-25 09:50:36,265] DEBUG django.db.backends: (0.002) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'sessions'; args=('sessions',); alias=default
[2025-04-25 09:50:36,269] DEBUG django.db.backends: (0.002) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'bot'; args=('bot',); alias=default
[2025-04-25 09:50:36,270] DEBUG django.db.backends: (0.000) BEGIN; args=None; alias=default
[2025-04-25 09:50:36,275] DEBUG django.db.backends: (0.004) INSERT INTO "django_content_type" ("app_label", "model") VALUES ('bot', 'activeorder'); args=('bot', 'activeorder'); alias=default
[2025-04-25 09:50:36,295] DEBUG django.db.backends: (0.020) COMMIT; args=None; alias=default
[2025-04-25 09:50:36,303] DEBUG django.db.backends: (0.002) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'bot' AND "django_content_type"."model" IN ('activeorder')); args=('bot', 'activeorder'); alias=default
[2025-04-25 09:50:36,311] DEBUG django.db.backends: (0.003) SELECT "auth_permission"."content_type_id" AS "content_type", "auth_permission"."codename" AS "codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (8) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, 2 ASC; args=(8,); alias=default
[2025-04-25 09:50:36,312] DEBUG django.db.backends: (0.000) BEGIN; args=None; alias=default
[2025-04-25 09:50:36,319] DEBUG django.db.backends: (0.006) INSERT INTO "auth_permission" ("name", "content_type_id", "codename") VALUES ('Can add active order', 8, 'add_activeorder'), ('Can change active order', 8, 'change_activeorder'), ('Can delete active order', 8, 'delete_activeorder'), ('Can view active order', 8, 'view_activeorder'); args=('Can add active order', 8, 'add_activeorder', 'Can change active order', 8, 'change_activeorder', 'Can delete active order', 8, 'delete_activeorder', 'Can view active order', 8, 'view_activeorder'); alias=default
[2025-04-25 09:50:36,337] DEBUG django.db.backends: (0.018) COMMIT; args=None; alias=default
[2025-04-25 09:50:36,339] DEBUG django.db.backends: (0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'bot'; args=('bot',); alias=default
[2025-04-25 10:14:12,131] DEBUG django.db.backends: (0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 10:14:12.116398' AND "django_session"."session_key" = '2507ghxljtv1otbye7p27cwyiqtr2ola') LIMIT 21; args=('2025-04-25 10:14:12.116398', '2507ghxljtv1otbye7p27cwyiqtr2ola'); alias=default
[2025-04-25 10:14:18,233] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 10:14:18.229118' AND "django_session"."session_key" = '2507ghxljtv1otbye7p27cwyiqtr2ola') LIMIT 21; args=('2025-04-25 10:14:18.229118', '2507ghxljtv1otbye7p27cwyiqtr2ola'); alias=default
[2025-04-25 10:14:25,609] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 10:14:25.604788' AND "django_session"."session_key" = '2507ghxljtv1otbye7p27cwyiqtr2ola') LIMIT 21; args=('2025-04-25 10:14:25.604788', '2507ghxljtv1otbye7p27cwyiqtr2ola'); alias=default
[2025-04-25 10:14:30,371] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 10:14:30.366947' AND "django_session"."session_key" = '2507ghxljtv1otbye7p27cwyiqtr2ola') LIMIT 21; args=('2025-04-25 10:14:30.366947', '2507ghxljtv1otbye7p27cwyiqtr2ola'); alias=default
[2025-04-25 10:15:35,321] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    messages.warning(request, f"⚠️ Не удалось получить цены: {e}")
NameError: name 'messages' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f0ee00>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 7, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823459130880, 'pre_context': ['', 'def index(request):', '    prices = {}', '    has_saved_keys = False  # Инициализация переменной', '', '    try:'], 'context_line': "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", 'post_context': ["        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']", '    except Exception as e:', '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', ''], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f34540>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'NameError("name \'messages\' is not defined")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>>')], 'id': 124823459284288, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f0f100>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7186b9f257e0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7186b9f257e0>')], 'id': 124823459131648, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f0ef00>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823459131136, 'pre_context': ['', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']", '    except Exception as e:'], 'context_line': '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', 'post_context': ['', "    if request.method == 'POST':", "        api_key = request.POST.get('api_key')", "        api_secret = request.POST.get('api_secret')", "        symbol = request.POST.get('symbol')", "        usd_amount = float(request.POST.get('usd_amount', 0))"], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '53390', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x7186b9f09030>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7186b9eedc30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 15, 35, 320331, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7186b9f20200>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7186b9f20cf0>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'NameError', 'exception_value': "name 'messages' is not defined", 'lastframe': {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f0ef00>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823459131136, 'pre_context': ['', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']", '    except Exception as e:'], 'context_line': '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', 'post_context': ['', "    if request.method == 'POST':", "        api_key = request.POST.get('api_key')", "        api_secret = request.POST.get('api_secret')", "        symbol = request.POST.get('symbol')", "        usd_amount = float(request.POST.get('usd_amount', 0))"], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:15:35,340] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    messages.warning(request, f"⚠️ Не удалось получить цены: {e}")
NameError: name 'messages' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f0ee00>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 7, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823459130880, 'pre_context': ['', 'def index(request):', '    prices = {}', '    has_saved_keys = False  # Инициализация переменной', '', '    try:'], 'context_line': "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", 'post_context': ["        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']", '    except Exception as e:', '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', ''], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f34540>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'NameError("name \'messages\' is not defined")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>>')], 'id': 124823459284288, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f0f100>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7186b9f257e0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7186b9f257e0>')], 'id': 124823459131648, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f0ef00>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823459131136, 'pre_context': ['', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']", '    except Exception as e:'], 'context_line': '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', 'post_context': ['', "    if request.method == 'POST':", "        api_key = request.POST.get('api_key')", "        api_secret = request.POST.get('api_secret')", "        symbol = request.POST.get('symbol')", "        usd_amount = float(request.POST.get('usd_amount', 0))"], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '53390', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x7186b9f09030>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7186b9eedc30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 15, 35, 320331, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7186b9f20200>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7186b9f20cf0>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'NameError', 'exception_value': "name 'messages' is not defined", 'lastframe': {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f0ef00>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823459131136, 'pre_context': ['', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']", '    except Exception as e:'], 'context_line': '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', 'post_context': ['', "    if request.method == 'POST':", "        api_key = request.POST.get('api_key')", "        api_secret = request.POST.get('api_secret')", "        symbol = request.POST.get('symbol')", "        usd_amount = float(request.POST.get('usd_amount', 0))"], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:15:35,352] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    messages.warning(request, f"⚠️ Не удалось получить цены: {e}")
NameError: name 'messages' is not defined
[2025-04-25 10:15:38,309] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    messages.warning(request, f"⚠️ Не удалось получить цены: {e}")
NameError: name 'messages' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f50640>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 7, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823459399232, 'pre_context': ['', 'def index(request):', '    prices = {}', '    has_saved_keys = False  # Инициализация переменной', '', '    try:'], 'context_line': "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", 'post_context': ["        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']", '    except Exception as e:', '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', ''], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f50700>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'NameError("name \'messages\' is not defined")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>>')], 'id': 124823459399424, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f50600>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7186b9f257e0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7186b9f257e0>')], 'id': 124823459399168, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f50380>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823459398528, 'pre_context': ['', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']", '    except Exception as e:'], 'context_line': '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', 'post_context': ['', "    if request.method == 'POST':", "        api_key = request.POST.get('api_key')", "        api_secret = request.POST.get('api_secret')", "        symbol = request.POST.get('symbol')", "        usd_amount = float(request.POST.get('usd_amount', 0))"], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '46024', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '85.9.141.36', 'HTTP_X_FORWARDED_FOR': '85.9.141.36', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x7186b9f09010>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7186b9eedc30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 15, 38, 308843, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7186b9f20c80>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7186b9f20820>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'NameError', 'exception_value': "name 'messages' is not defined", 'lastframe': {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f50380>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823459398528, 'pre_context': ['', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']", '    except Exception as e:'], 'context_line': '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', 'post_context': ['', "    if request.method == 'POST':", "        api_key = request.POST.get('api_key')", "        api_secret = request.POST.get('api_secret')", "        symbol = request.POST.get('symbol')", "        usd_amount = float(request.POST.get('usd_amount', 0))"], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:15:38,321] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    messages.warning(request, f"⚠️ Не удалось получить цены: {e}")
NameError: name 'messages' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f50640>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 7, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823459399232, 'pre_context': ['', 'def index(request):', '    prices = {}', '    has_saved_keys = False  # Инициализация переменной', '', '    try:'], 'context_line': "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", 'post_context': ["        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']", '    except Exception as e:', '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', ''], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f50700>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'NameError("name \'messages\' is not defined")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>>')], 'id': 124823459399424, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f50600>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7186b9f257e0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7186b9f257e0>')], 'id': 124823459399168, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f50380>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823459398528, 'pre_context': ['', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']", '    except Exception as e:'], 'context_line': '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', 'post_context': ['', "    if request.method == 'POST':", "        api_key = request.POST.get('api_key')", "        api_secret = request.POST.get('api_secret')", "        symbol = request.POST.get('symbol')", "        usd_amount = float(request.POST.get('usd_amount', 0))"], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '46024', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '85.9.141.36', 'HTTP_X_FORWARDED_FOR': '85.9.141.36', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x7186b9f09010>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7186b9eedc30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 15, 38, 308843, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7186b9f20c80>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7186b9f20820>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'NameError', 'exception_value': "name 'messages' is not defined", 'lastframe': {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f50380>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823459398528, 'pre_context': ['', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']", '    except Exception as e:'], 'context_line': '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', 'post_context': ['', "    if request.method == 'POST':", "        api_key = request.POST.get('api_key')", "        api_secret = request.POST.get('api_secret')", "        symbol = request.POST.get('symbol')", "        usd_amount = float(request.POST.get('usd_amount', 0))"], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:15:38,339] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    messages.warning(request, f"⚠️ Не удалось получить цены: {e}")
NameError: name 'messages' is not defined
[2025-04-25 10:17:07,739] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    try:
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    except Exception as e:
NameError: name 'messages' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9c8d8c0>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 7, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456504000, 'pre_context': ['from django.contrib import messages', '', 'def index(request):', '    prices = {}', '    has_saved_keys = False  # Инициализация переменной', ''], 'context_line': '    try:', 'post_context': ["        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']", '    except Exception as e:', '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")'], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9cf0c00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'NameError("name \'messages\' is not defined")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>>')], 'id': 124823456910336, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9cf0bc0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7186b9f257e0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7186b9f257e0>')], 'id': 124823456910272, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9cf0a40>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456909888, 'pre_context': ['    has_saved_keys = False  # Инициализация переменной', '', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']"], 'context_line': '    except Exception as e:', 'post_context': ['        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', '', "    if request.method == 'POST':", "        api_key = request.POST.get('api_key')", "        api_secret = request.POST.get('api_secret')", "        symbol = request.POST.get('symbol')"], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '42602', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '85.9.141.36', 'HTTP_X_FORWARDED_FOR': '85.9.141.36', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_CACHE_CONTROL': 'max-age=0', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x7186b9f0a7f0>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7186b9eedc30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 17, 7, 739180, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7186b9f209e0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7186b9f203c0>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'NameError', 'exception_value': "name 'messages' is not defined", 'lastframe': {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9cf0a40>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456909888, 'pre_context': ['    has_saved_keys = False  # Инициализация переменной', '', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']"], 'context_line': '    except Exception as e:', 'post_context': ['        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', '', "    if request.method == 'POST':", "        api_key = request.POST.get('api_key')", "        api_secret = request.POST.get('api_secret')", "        symbol = request.POST.get('symbol')"], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:17:07,836] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    try:
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    except Exception as e:
NameError: name 'messages' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9c8d8c0>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 7, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456504000, 'pre_context': ['from django.contrib import messages', '', 'def index(request):', '    prices = {}', '    has_saved_keys = False  # Инициализация переменной', ''], 'context_line': '    try:', 'post_context': ["        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']", '    except Exception as e:', '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")'], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9cf0c00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'NameError("name \'messages\' is not defined")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>>')], 'id': 124823456910336, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9cf0bc0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7186b9f257e0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7186b9f257e0>')], 'id': 124823456910272, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9cf0a40>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456909888, 'pre_context': ['    has_saved_keys = False  # Инициализация переменной', '', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']"], 'context_line': '    except Exception as e:', 'post_context': ['        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', '', "    if request.method == 'POST':", "        api_key = request.POST.get('api_key')", "        api_secret = request.POST.get('api_secret')", "        symbol = request.POST.get('symbol')"], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '42602', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '85.9.141.36', 'HTTP_X_FORWARDED_FOR': '85.9.141.36', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_CACHE_CONTROL': 'max-age=0', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x7186b9f0a7f0>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7186b9eedc30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 17, 7, 739180, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7186b9f209e0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7186b9f203c0>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'NameError', 'exception_value': "name 'messages' is not defined", 'lastframe': {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9cf0a40>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456909888, 'pre_context': ['    has_saved_keys = False  # Инициализация переменной', '', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']"], 'context_line': '    except Exception as e:', 'post_context': ['        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', '', "    if request.method == 'POST':", "        api_key = request.POST.get('api_key')", "        api_secret = request.POST.get('api_secret')", "        symbol = request.POST.get('symbol')"], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:17:07,883] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    try:
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    except Exception as e:
NameError: name 'messages' is not defined
[2025-04-25 10:17:49,794] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    has_saved_keys = False  # Инициализация переменной
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    ticker = public_exchange.fetch_ticker(pair)
NameError: name 'messages' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9ce9640>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 7, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456880192, 'pre_context': ['from django.contrib import messages', 'import ccxt', '', '', 'def index(request):', '    prices = {}'], 'context_line': '    has_saved_keys = False  # Инициализация переменной', 'post_context': ['', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']"], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f65440>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'NameError("name \'messages\' is not defined")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>>')], 'id': 124823459484736, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f64980>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7186b9f257e0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7186b9f257e0>')], 'id': 124823459481984, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9c7c840>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456434240, 'pre_context': ['def index(request):', '    prices = {}', '    has_saved_keys = False  # Инициализация переменной', '', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:"], 'context_line': '            ticker = public_exchange.fetch_ticker(pair)', 'post_context': ["            prices[pair] = ticker['last']", '    except Exception as e:', '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', '', "    if request.method == 'POST':", "        api_key = request.POST.get('api_key')"], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '45650', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '85.9.141.36', 'HTTP_X_FORWARDED_FOR': '85.9.141.36', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_CACHE_CONTROL': 'max-age=0', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x7186b9f5a490>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7186b9eedc30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 17, 49, 793949, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7186b9f20820>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7186b9f20a50>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'NameError', 'exception_value': "name 'messages' is not defined", 'lastframe': {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9c7c840>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456434240, 'pre_context': ['def index(request):', '    prices = {}', '    has_saved_keys = False  # Инициализация переменной', '', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:"], 'context_line': '            ticker = public_exchange.fetch_ticker(pair)', 'post_context': ["            prices[pair] = ticker['last']", '    except Exception as e:', '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', '', "    if request.method == 'POST':", "        api_key = request.POST.get('api_key')"], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:17:49,808] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    has_saved_keys = False  # Инициализация переменной
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    ticker = public_exchange.fetch_ticker(pair)
NameError: name 'messages' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9ce9640>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 7, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456880192, 'pre_context': ['from django.contrib import messages', 'import ccxt', '', '', 'def index(request):', '    prices = {}'], 'context_line': '    has_saved_keys = False  # Инициализация переменной', 'post_context': ['', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']"], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f65440>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'NameError("name \'messages\' is not defined")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>>')], 'id': 124823459484736, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f64980>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7186b9f257e0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7186b9f257e0>')], 'id': 124823459481984, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9c7c840>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456434240, 'pre_context': ['def index(request):', '    prices = {}', '    has_saved_keys = False  # Инициализация переменной', '', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:"], 'context_line': '            ticker = public_exchange.fetch_ticker(pair)', 'post_context': ["            prices[pair] = ticker['last']", '    except Exception as e:', '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', '', "    if request.method == 'POST':", "        api_key = request.POST.get('api_key')"], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '45650', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '85.9.141.36', 'HTTP_X_FORWARDED_FOR': '85.9.141.36', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_CACHE_CONTROL': 'max-age=0', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x7186b9f5a490>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7186b9eedc30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 17, 49, 793949, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7186b9f20820>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7186b9f20a50>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'NameError', 'exception_value': "name 'messages' is not defined", 'lastframe': {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9c7c840>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456434240, 'pre_context': ['def index(request):', '    prices = {}', '    has_saved_keys = False  # Инициализация переменной', '', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:"], 'context_line': '            ticker = public_exchange.fetch_ticker(pair)', 'post_context': ["            prices[pair] = ticker['last']", '    except Exception as e:', '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', '', "    if request.method == 'POST':", "        api_key = request.POST.get('api_key')"], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:17:49,827] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    has_saved_keys = False  # Инициализация переменной
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    ticker = public_exchange.fetch_ticker(pair)
NameError: name 'messages' is not defined
[2025-04-25 10:21:44,848] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    has_saved_keys = False  # Инициализация переменной
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    ticker = public_exchange.fetch_ticker(pair)
NameError: name 'messages' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9c85e80>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 7, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456472704, 'pre_context': ['from django.contrib import messages', 'import ccxt', '', '', 'def index(request):', '    prices = {}'], 'context_line': '    has_saved_keys = False  # Инициализация переменной', 'post_context': ['', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']"], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9cf1cc0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'NameError("name \'messages\' is not defined")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>>')], 'id': 124823456914624, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9cf1bc0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7186b9f257e0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7186b9f257e0>')], 'id': 124823456914368, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9cf14c0>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456912576, 'pre_context': ['def index(request):', '    prices = {}', '    has_saved_keys = False  # Инициализация переменной', '', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:"], 'context_line': '            ticker = public_exchange.fetch_ticker(pair)', 'post_context': ["            prices[pair] = ticker['last']", '    except Exception as e:', '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', '', "    if request.method == 'POST':", "        api_key = request.POST.get('api_key')"], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '36410', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '85.9.141.36', 'HTTP_X_FORWARDED_FOR': '85.9.141.36', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_CACHE_CONTROL': 'max-age=0', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x7186b9f5a9b0>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7186b9eedc30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 21, 44, 848193, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7186b9f203c0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7186b9f209e0>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'NameError', 'exception_value': "name 'messages' is not defined", 'lastframe': {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9cf14c0>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456912576, 'pre_context': ['def index(request):', '    prices = {}', '    has_saved_keys = False  # Инициализация переменной', '', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:"], 'context_line': '            ticker = public_exchange.fetch_ticker(pair)', 'post_context': ["            prices[pair] = ticker['last']", '    except Exception as e:', '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', '', "    if request.method == 'POST':", "        api_key = request.POST.get('api_key')"], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:21:44,863] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    has_saved_keys = False  # Инициализация переменной
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    ticker = public_exchange.fetch_ticker(pair)
NameError: name 'messages' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9c85e80>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 7, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456472704, 'pre_context': ['from django.contrib import messages', 'import ccxt', '', '', 'def index(request):', '    prices = {}'], 'context_line': '    has_saved_keys = False  # Инициализация переменной', 'post_context': ['', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:", '            ticker = public_exchange.fetch_ticker(pair)', "            prices[pair] = ticker['last']"], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9cf1cc0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'NameError("name \'messages\' is not defined")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>>')], 'id': 124823456914624, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9cf1bc0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7186b9f257e0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7186b9f257e0>')], 'id': 124823456914368, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9cf14c0>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456912576, 'pre_context': ['def index(request):', '    prices = {}', '    has_saved_keys = False  # Инициализация переменной', '', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:"], 'context_line': '            ticker = public_exchange.fetch_ticker(pair)', 'post_context': ["            prices[pair] = ticker['last']", '    except Exception as e:', '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', '', "    if request.method == 'POST':", "        api_key = request.POST.get('api_key')"], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '36410', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '85.9.141.36', 'HTTP_X_FORWARDED_FOR': '85.9.141.36', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_CACHE_CONTROL': 'max-age=0', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x7186b9f5a9b0>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7186b9eedc30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 21, 44, 848193, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7186b9f203c0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7186b9f209e0>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'NameError', 'exception_value': "name 'messages' is not defined", 'lastframe': {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9cf14c0>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456912576, 'pre_context': ['def index(request):', '    prices = {}', '    has_saved_keys = False  # Инициализация переменной', '', '    try:', "        public_exchange = ccxt.bybit({'options': {'defaultType': 'future'}})", "        for pair in ['BTC/USDT', 'ETH/USDT', 'DOGE/USDT']:"], 'context_line': '            ticker = public_exchange.fetch_ticker(pair)', 'post_context': ["            prices[pair] = ticker['last']", '    except Exception as e:', '        messages.warning(request, f"⚠️ Не удалось получить цены: {e}")', '', "    if request.method == 'POST':", "        api_key = request.POST.get('api_key')"], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:21:44,883] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    has_saved_keys = False  # Инициализация переменной
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    ticker = public_exchange.fetch_ticker(pair)
NameError: name 'messages' is not defined
[2025-04-25 10:29:33,669] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    # Инициализация переменной для проверки, сохранены ли ключи
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    return Fernet.generate_key()
NameError: name 'messages' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f658c0>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 7, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823459485888, 'pre_context': ['# Импортируем необходимые модули', 'from django.shortcuts import render', 'from django.http import HttpResponse', 'from cryptography.fernet import Fernet', 'import base64', ''], 'context_line': '# Инициализация переменной для проверки, сохранены ли ключи', 'post_context': ['has_saved_keys = False  # Изначально считаем, что ключи не сохранены', '', '# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'def generate_key():', '    return Fernet.generate_key()', ''], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9d013c0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'NameError("name \'messages\' is not defined")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>>')], 'id': 124823456977856, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9d01100>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7186b9f257e0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7186b9f257e0>')], 'id': 124823456977152, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9d01400>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456977920, 'pre_context': ['import base64', '', '# Инициализация переменной для проверки, сохранены ли ключи', 'has_saved_keys = False  # Изначально считаем, что ключи не сохранены', '', '# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'def generate_key():'], 'context_line': '    return Fernet.generate_key()', 'post_context': ['', '# Шифрование данных', 'def encrypt_key(key):', '    fernet = Fernet(generate_key())', '    encrypted_key = fernet.encrypt(key.encode())', '    return encrypted_key'], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '59740', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '85.9.141.36', 'HTTP_X_FORWARDED_FOR': '85.9.141.36', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_CACHE_CONTROL': 'max-age=0', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x7186b9f5b150>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7186b9eedc30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 29, 33, 668589, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7186b9f20820>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7186b9f20ac0>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'NameError', 'exception_value': "name 'messages' is not defined", 'lastframe': {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9d01400>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456977920, 'pre_context': ['import base64', '', '# Инициализация переменной для проверки, сохранены ли ключи', 'has_saved_keys = False  # Изначально считаем, что ключи не сохранены', '', '# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'def generate_key():'], 'context_line': '    return Fernet.generate_key()', 'post_context': ['', '# Шифрование данных', 'def encrypt_key(key):', '    fernet = Fernet(generate_key())', '    encrypted_key = fernet.encrypt(key.encode())', '    return encrypted_key'], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:29:33,701] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    # Инициализация переменной для проверки, сохранены ли ключи
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    return Fernet.generate_key()
NameError: name 'messages' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f658c0>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 7, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823459485888, 'pre_context': ['# Импортируем необходимые модули', 'from django.shortcuts import render', 'from django.http import HttpResponse', 'from cryptography.fernet import Fernet', 'import base64', ''], 'context_line': '# Инициализация переменной для проверки, сохранены ли ключи', 'post_context': ['has_saved_keys = False  # Изначально считаем, что ключи не сохранены', '', '# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'def generate_key():', '    return Fernet.generate_key()', ''], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9d013c0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'NameError("name \'messages\' is not defined")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>>')], 'id': 124823456977856, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9d01100>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7186b9f257e0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7186b9f257e0>')], 'id': 124823456977152, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9d01400>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456977920, 'pre_context': ['import base64', '', '# Инициализация переменной для проверки, сохранены ли ключи', 'has_saved_keys = False  # Изначально считаем, что ключи не сохранены', '', '# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'def generate_key():'], 'context_line': '    return Fernet.generate_key()', 'post_context': ['', '# Шифрование данных', 'def encrypt_key(key):', '    fernet = Fernet(generate_key())', '    encrypted_key = fernet.encrypt(key.encode())', '    return encrypted_key'], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '59740', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '85.9.141.36', 'HTTP_X_FORWARDED_FOR': '85.9.141.36', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_CACHE_CONTROL': 'max-age=0', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x7186b9f5b150>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7186b9eedc30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 29, 33, 668589, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7186b9f20820>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7186b9f20ac0>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'NameError', 'exception_value': "name 'messages' is not defined", 'lastframe': {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9d01400>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456977920, 'pre_context': ['import base64', '', '# Инициализация переменной для проверки, сохранены ли ключи', 'has_saved_keys = False  # Изначально считаем, что ключи не сохранены', '', '# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'def generate_key():'], 'context_line': '    return Fernet.generate_key()', 'post_context': ['', '# Шифрование данных', 'def encrypt_key(key):', '    fernet = Fernet(generate_key())', '    encrypted_key = fernet.encrypt(key.encode())', '    return encrypted_key'], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:29:33,741] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    # Инициализация переменной для проверки, сохранены ли ключи
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    return Fernet.generate_key()
NameError: name 'messages' is not defined
[2025-04-25 10:35:57,717] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    # Инициализация переменной для проверки, сохранены ли ключи
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    return Fernet.generate_key()
NameError: name 'messages' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9ce9640>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 7, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456880192, 'pre_context': ['# Импортируем необходимые модули', 'from django.shortcuts import render', 'from django.http import HttpResponse', 'from cryptography.fernet import Fernet', 'import base64', ''], 'context_line': '# Инициализация переменной для проверки, сохранены ли ключи', 'post_context': ['has_saved_keys = False  # Изначально считаем, что ключи не сохранены', '', '# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'def generate_key():', '    return Fernet.generate_key()', ''], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9d0e400>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'NameError("name \'messages\' is not defined")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>>')], 'id': 124823457031168, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9d0e640>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7186b9f257e0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7186b9f257e0>')], 'id': 124823457031744, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9d0d540>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823457027392, 'pre_context': ['import base64', '', '# Инициализация переменной для проверки, сохранены ли ключи', 'has_saved_keys = False  # Изначально считаем, что ключи не сохранены', '', '# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'def generate_key():'], 'context_line': '    return Fernet.generate_key()', 'post_context': ['', '# Шифрование данных', 'def encrypt_key(key):', '    fernet = Fernet(generate_key())', '    encrypted_key = fernet.encrypt(key.encode())', '    return encrypted_key'], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '39474', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '85.9.141.36', 'HTTP_X_FORWARDED_FOR': '85.9.141.36', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_CACHE_CONTROL': 'max-age=0', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x7186b9f0b350>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7186b9eedc30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 35, 57, 716947, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7186b9f20890>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7186b9f20900>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'NameError', 'exception_value': "name 'messages' is not defined", 'lastframe': {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9d0d540>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823457027392, 'pre_context': ['import base64', '', '# Инициализация переменной для проверки, сохранены ли ключи', 'has_saved_keys = False  # Изначально считаем, что ключи не сохранены', '', '# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'def generate_key():'], 'context_line': '    return Fernet.generate_key()', 'post_context': ['', '# Шифрование данных', 'def encrypt_key(key):', '    fernet = Fernet(generate_key())', '    encrypted_key = fernet.encrypt(key.encode())', '    return encrypted_key'], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:35:57,725] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    # Инициализация переменной для проверки, сохранены ли ключи
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    return Fernet.generate_key()
NameError: name 'messages' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9ce9640>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 7, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456880192, 'pre_context': ['# Импортируем необходимые модули', 'from django.shortcuts import render', 'from django.http import HttpResponse', 'from cryptography.fernet import Fernet', 'import base64', ''], 'context_line': '# Инициализация переменной для проверки, сохранены ли ключи', 'post_context': ['has_saved_keys = False  # Изначально считаем, что ключи не сохранены', '', '# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'def generate_key():', '    return Fernet.generate_key()', ''], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9d0e400>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'NameError("name \'messages\' is not defined")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>>')], 'id': 124823457031168, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9d0e640>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7186b9f257e0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7186b9f257e0>')], 'id': 124823457031744, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9d0d540>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823457027392, 'pre_context': ['import base64', '', '# Инициализация переменной для проверки, сохранены ли ключи', 'has_saved_keys = False  # Изначально считаем, что ключи не сохранены', '', '# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'def generate_key():'], 'context_line': '    return Fernet.generate_key()', 'post_context': ['', '# Шифрование данных', 'def encrypt_key(key):', '    fernet = Fernet(generate_key())', '    encrypted_key = fernet.encrypt(key.encode())', '    return encrypted_key'], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '39474', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '85.9.141.36', 'HTTP_X_FORWARDED_FOR': '85.9.141.36', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_CACHE_CONTROL': 'max-age=0', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x7186b9f0b350>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7186b9eedc30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 35, 57, 716947, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7186b9f20890>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7186b9f20900>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'NameError', 'exception_value': "name 'messages' is not defined", 'lastframe': {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9d0d540>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823457027392, 'pre_context': ['import base64', '', '# Инициализация переменной для проверки, сохранены ли ключи', 'has_saved_keys = False  # Изначально считаем, что ключи не сохранены', '', '# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'def generate_key():'], 'context_line': '    return Fernet.generate_key()', 'post_context': ['', '# Шифрование данных', 'def encrypt_key(key):', '    fernet = Fernet(generate_key())', '    encrypted_key = fernet.encrypt(key.encode())', '    return encrypted_key'], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:35:57,735] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    # Инициализация переменной для проверки, сохранены ли ключи
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    return Fernet.generate_key()
NameError: name 'messages' is not defined
[2025-04-25 10:38:26,570] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
NameError: name 'messages' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9c87940>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 7, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456479552, 'pre_context': ['# Импортируем необходимые модули', 'from django.shortcuts import render', 'from django.http import HttpResponse', 'from cryptography.fernet import Fernet', 'from django.contrib import messages', ''], 'context_line': '', 'post_context': ['', '', '# Инициализация переменной для проверки, сохранены ли ключи', 'has_saved_keys = False  # Изначально считаем, что ключи не сохранены', '', '# Генерация ключа шифрования (один раз, чтобы сохранить его)'], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9c86ec0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'NameError("name \'messages\' is not defined")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>>')], 'id': 124823456476864, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9c853c0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7186b9f257e0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7186b9f257e0>')], 'id': 124823456469952, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9c84d00>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456468224, 'pre_context': ['from django.contrib import messages', '', '', '', '', '# Инициализация переменной для проверки, сохранены ли ключи', 'has_saved_keys = False  # Изначально считаем, что ключи не сохранены'], 'context_line': '', 'post_context': ['# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'def generate_key():', '    return Fernet.generate_key()', '', '# Шифрование данных', 'def encrypt_key(key):'], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '33326', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '85.9.141.36', 'HTTP_X_FORWARDED_FOR': '85.9.141.36', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_CACHE_CONTROL': 'max-age=0', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x7186b9f59b90>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7186b9eedc30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 38, 26, 569665, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7186b9f204a0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7186b9f20970>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'NameError', 'exception_value': "name 'messages' is not defined", 'lastframe': {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9c84d00>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456468224, 'pre_context': ['from django.contrib import messages', '', '', '', '', '# Инициализация переменной для проверки, сохранены ли ключи', 'has_saved_keys = False  # Изначально считаем, что ключи не сохранены'], 'context_line': '', 'post_context': ['# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'def generate_key():', '    return Fernet.generate_key()', '', '# Шифрование данных', 'def encrypt_key(key):'], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:38:26,595] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
NameError: name 'messages' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9c87940>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 7, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456479552, 'pre_context': ['# Импортируем необходимые модули', 'from django.shortcuts import render', 'from django.http import HttpResponse', 'from cryptography.fernet import Fernet', 'from django.contrib import messages', ''], 'context_line': '', 'post_context': ['', '', '# Инициализация переменной для проверки, сохранены ли ключи', 'has_saved_keys = False  # Изначально считаем, что ключи не сохранены', '', '# Генерация ключа шифрования (один раз, чтобы сохранить его)'], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9c86ec0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'NameError("name \'messages\' is not defined")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>>')], 'id': 124823456476864, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9c853c0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7186b9f257e0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7186b9f257e0>')], 'id': 124823456469952, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9c84d00>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456468224, 'pre_context': ['from django.contrib import messages', '', '', '', '', '# Инициализация переменной для проверки, сохранены ли ключи', 'has_saved_keys = False  # Изначально считаем, что ключи не сохранены'], 'context_line': '', 'post_context': ['# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'def generate_key():', '    return Fernet.generate_key()', '', '# Шифрование данных', 'def encrypt_key(key):'], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '33326', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '85.9.141.36', 'HTTP_X_FORWARDED_FOR': '85.9.141.36', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_CACHE_CONTROL': 'max-age=0', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x7186b9f59b90>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7186b9eedc30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 38, 26, 569665, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7186b9f204a0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7186b9f20970>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'NameError', 'exception_value': "name 'messages' is not defined", 'lastframe': {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9c84d00>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823456468224, 'pre_context': ['from django.contrib import messages', '', '', '', '', '# Инициализация переменной для проверки, сохранены ли ключи', 'has_saved_keys = False  # Изначально считаем, что ключи не сохранены'], 'context_line': '', 'post_context': ['# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'def generate_key():', '    return Fernet.generate_key()', '', '# Шифрование данных', 'def encrypt_key(key):'], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:38:26,618] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
NameError: name 'messages' is not defined
[2025-04-25 10:46:47,091] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    # Генерация ключа шифрования (один раз, чтобы сохранить его)
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    def encrypt_key(key):
NameError: name 'messages' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f72180>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 7, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823459537280, 'pre_context': ['', 'from django.shortcuts import render', 'from django.http import HttpResponse', 'from cryptography.fernet import Fernet', 'from django.contrib import messages', ''], 'context_line': '# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'post_context': ['def generate_key():', '    return Fernet.generate_key()', '', '# Шифрование данных', 'def encrypt_key(key):', '    fernet = Fernet(generate_key())'], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f70fc0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'NameError("name \'messages\' is not defined")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>>')], 'id': 124823459532736, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f71000>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7186b9f257e0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7186b9f257e0>')], 'id': 124823459532800, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f71c80>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823459536000, 'pre_context': ['from django.contrib import messages', '', '# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'def generate_key():', '    return Fernet.generate_key()', '', '# Шифрование данных'], 'context_line': 'def encrypt_key(key):', 'post_context': ['    fernet = Fernet(generate_key())', '    encrypted_key = fernet.encrypt(key.encode())', '    return encrypted_key', '', '# Функция для сохранения ключей', 'def save_keys(keys):'], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '48806', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '85.9.141.36', 'HTTP_X_FORWARDED_FOR': '85.9.141.36', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_CACHE_CONTROL': 'max-age=0', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x7186b9f0aed0>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7186b9eedc30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 46, 47, 90848, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7186b9f20970>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7186b9f21000>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'NameError', 'exception_value': "name 'messages' is not defined", 'lastframe': {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f71c80>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823459536000, 'pre_context': ['from django.contrib import messages', '', '# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'def generate_key():', '    return Fernet.generate_key()', '', '# Шифрование данных'], 'context_line': 'def encrypt_key(key):', 'post_context': ['    fernet = Fernet(generate_key())', '    encrypted_key = fernet.encrypt(key.encode())', '    return encrypted_key', '', '# Функция для сохранения ключей', 'def save_keys(keys):'], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:46:47,100] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    # Генерация ключа шифрования (один раз, чтобы сохранить его)
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    def encrypt_key(key):
NameError: name 'messages' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f72180>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 7, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823459537280, 'pre_context': ['', 'from django.shortcuts import render', 'from django.http import HttpResponse', 'from cryptography.fernet import Fernet', 'from django.contrib import messages', ''], 'context_line': '# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'post_context': ['def generate_key():', '    return Fernet.generate_key()', '', '# Шифрование данных', 'def encrypt_key(key):', '    fernet = Fernet(generate_key())'], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f70fc0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'NameError("name \'messages\' is not defined")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>>')], 'id': 124823459532736, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f71000>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7186ba1cbbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7186b9f257e0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7186b9f257e0>')], 'id': 124823459532800, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f71c80>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823459536000, 'pre_context': ['from django.contrib import messages', '', '# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'def generate_key():', '    return Fernet.generate_key()', '', '# Шифрование данных'], 'context_line': 'def encrypt_key(key):', 'post_context': ['    fernet = Fernet(generate_key())', '    encrypted_key = fernet.encrypt(key.encode())', '    return encrypted_key', '', '# Функция для сохранения ключей', 'def save_keys(keys):'], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '48806', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '85.9.141.36', 'HTTP_X_FORWARDED_FOR': '85.9.141.36', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_CACHE_CONTROL': 'max-age=0', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x7186b9f0aed0>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7186b9eedc30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.fallback.FallbackStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 46, 47, 90848, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7186b9f20970>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7186b9f21000>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'NameError', 'exception_value': "name 'messages' is not defined", 'lastframe': {'exc_cause': NameError("name 'ccxt' is not defined"), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7186b9f71c80>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 12, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('prices', '{}'), ('has_saved_keys', 'False')], 'id': 124823459536000, 'pre_context': ['from django.contrib import messages', '', '# Генерация ключа шифрования (один раз, чтобы сохранить его)', 'def generate_key():', '    return Fernet.generate_key()', '', '# Шифрование данных'], 'context_line': 'def encrypt_key(key):', 'post_context': ['    fernet = Fernet(generate_key())', '    encrypted_key = fernet.encrypt(key.encode())', '    return encrypted_key', '', '# Функция для сохранения ключей', 'def save_keys(keys):'], 'pre_context_lineno': 5, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:46:47,110] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/chatbot/bot/views.py", line 7, in index
    # Генерация ключа шифрования (один раз, чтобы сохранить его)
NameError: name 'ccxt' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 12, in index
    def encrypt_key(key):
NameError: name 'messages' is not defined
[2025-04-25 10:47:10,970] DEBUG django.db.backends: (0.003) SELECT 1 AS "a" FROM "django_session" WHERE "django_session"."session_key" = 'e7vm1t31lj7go6wcly8hapa3e186j28c' LIMIT 1; args=(1, 'e7vm1t31lj7go6wcly8hapa3e186j28c'); alias=default
[2025-04-25 10:47:10,971] DEBUG django.db.backends: (0.000) BEGIN; args=None; alias=default
[2025-04-25 10:47:10,979] DEBUG django.db.backends: (0.007) INSERT INTO "django_session" ("session_key", "session_data", "expire_date") VALUES ('e7vm1t31lj7go6wcly8hapa3e186j28c', '.eJxtj9EKwjAMRX8l5rkP3Zqy4a-so3QsKooKZhNE_HfnssEKPh3uIcklbzwliZKe3McLvwT3w2Nkg_HKIunIk8CmCRjjWe631QY0YA2U3kDAEEZLRZrhuhnEikplDRqdolB7UHiVtaZewZCNLueWUavSZht-m6iDrNlV25W1S0GUXdUqV_7poG73e3z6GNsWP1_8dl2d:1u8GaM:zyQ28KRIpOC2OOyhqF7156I5tyo_va8eaawIY8WZezo', '2025-05-09 10:47:10.971604'); args=('e7vm1t31lj7go6wcly8hapa3e186j28c', '.eJxtj9EKwjAMRX8l5rkP3Zqy4a-so3QsKooKZhNE_HfnssEKPh3uIcklbzwliZKe3McLvwT3w2Nkg_HKIunIk8CmCRjjWe631QY0YA2U3kDAEEZLRZrhuhnEikplDRqdolB7UHiVtaZewZCNLueWUavSZht-m6iDrNlV25W1S0GUXdUqV_7poG73e3z6GNsWP1_8dl2d:1u8GaM:zyQ28KRIpOC2OOyhqF7156I5tyo_va8eaawIY8WZezo', '2025-05-09 10:47:10.971604'); alias=default
[2025-04-25 10:47:10,997] DEBUG django.db.backends: (0.018) COMMIT; args=None; alias=default
[2025-04-25 10:47:13,278] DEBUG django.db.backends: (0.004) SELECT 1 AS "a" FROM "django_session" WHERE "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj' LIMIT 1; args=(1, 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 10:47:13,279] DEBUG django.db.backends: (0.000) BEGIN; args=None; alias=default
[2025-04-25 10:47:13,286] DEBUG django.db.backends: (0.004) INSERT INTO "django_session" ("session_key", "session_data", "expire_date") VALUES ('l36fjstta8zpdh4veaz3xrhtq8589nrj', '.eJxtj9EKwjAMRX8l5rkP3Zqy4a-so3QsKooKZhNE_HfnssEKPh3uIcklbzwliZKe3McLvwT3w2Nkg_HKIunIk8CmCRjjWe631QY0YA2U3kDAEEZLRZrhuhnEikplDRqdolB7UHiVtaZewZCNLueWUavSZht-m6iDrNlV25W1S0GUXdUqV_7poG73e3z6GNsWP1_8dl2d:1u8GaP:Si_TLdMLNl8Gq20W5V_GiKIkMygg9Ztstm-bk5wO_ak', '2025-05-09 10:47:13.279495'); args=('l36fjstta8zpdh4veaz3xrhtq8589nrj', '.eJxtj9EKwjAMRX8l5rkP3Zqy4a-so3QsKooKZhNE_HfnssEKPh3uIcklbzwliZKe3McLvwT3w2Nkg_HKIunIk8CmCRjjWe631QY0YA2U3kDAEEZLRZrhuhnEikplDRqdolB7UHiVtaZewZCNLueWUavSZht-m6iDrNlV25W1S0GUXdUqV_7poG73e3z6GNsWP1_8dl2d:1u8GaP:Si_TLdMLNl8Gq20W5V_GiKIkMygg9Ztstm-bk5wO_ak', '2025-05-09 10:47:13.279495'); alias=default
[2025-04-25 10:47:13,302] DEBUG django.db.backends: (0.016) COMMIT; args=None; alias=default
[2025-04-25 10:47:29,722] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 10:47:29.716944' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 10:47:29.716944', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 10:47:29,723] DEBUG django.db.backends: (0.000) BEGIN; args=None; alias=default
[2025-04-25 10:47:29,728] DEBUG django.db.backends: (0.004) UPDATE "django_session" SET "session_data" = '.eJyVUV0LwjAM_Cs1z33Y1pbN_ZV1lH1ERVHBOkHE_-5cWllgiD4duSa53uUBu8Y739ywdwe8eyivlwEluCN632xxJKCqLDi39-dTZC1IkUiRGSksWDskOm0mUO0EGglyIgtBpSJIid0QGCILqnoCFKw1rAutCZEJmzDzSreCKat8PhK1CLRmW0lKZQsaul29jY-OoZbil1CKJcPIkurmHwwJRTPdvymYlGUSvx2Whiy-XqpkkvFia3aq8JbNk4qdyAZC0Mb9oPyJtobnC5-Hwf0:1u8Gaf:nDWtoTIO4oNHKG9jufWnIohQ4QMpyq-OFCqZ8waxTFw', "expire_date" = '2025-05-09 10:47:29.723615' WHERE "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj'; args=('.eJyVUV0LwjAM_Cs1z33Y1pbN_ZV1lH1ERVHBOkHE_-5cWllgiD4duSa53uUBu8Y739ywdwe8eyivlwEluCN632xxJKCqLDi39-dTZC1IkUiRGSksWDskOm0mUO0EGglyIgtBpSJIid0QGCILqnoCFKw1rAutCZEJmzDzSreCKat8PhK1CLRmW0lKZQsaul29jY-OoZbil1CKJcPIkurmHwwJRTPdvymYlGUSvx2Whiy-XqpkkvFia3aq8JbNk4qdyAZC0Mb9oPyJtobnC5-Hwf0:1u8Gaf:nDWtoTIO4oNHKG9jufWnIohQ4QMpyq-OFCqZ8waxTFw', '2025-05-09 10:47:29.723615', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 10:47:29,750] DEBUG django.db.backends: (0.022) COMMIT; args=None; alias=default
[2025-04-25 10:52:52,701] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 10:52:52.696096' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 10:52:52.696096', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 10:52:52,702] DEBUG django.db.backends: (0.000) BEGIN; args=None; alias=default
[2025-04-25 10:52:52,708] DEBUG django.db.backends: (0.005) UPDATE "django_session" SET "session_data" = '.eJztUcsKwjAQ_JW45xz6SGjtrzQl9LEqigrGCiL-u7WbQBeK1IM3T8NOdncysw_Y1c66-oadPeDdQXG99CjBHtG5eosDAWVpwNq9O58Ca0CKSIpES2HAmD5ScT1C2oygkCAjMhdUpgQxsRsCTWROVUeAgrX6db41IjJiE3paqUYw5TSbjgQtAqXYVpJKkxkN1azexgfHUEmxJJR8zjCypNrpB31CwUz7bQo6ZpmEb_ulPouPlyqYZLjYmp3KvyXTpEInsgEftLYLlP_R_j7aCp4vWLAmbA:1u8Gfs:gF-MOTx9D4MAVcbD0j4eWt34HSSkx2KeovUq8gmCxpU', "expire_date" = '2025-05-09 10:52:52.702650' WHERE "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj'; args=('.eJztUcsKwjAQ_JW45xz6SGjtrzQl9LEqigrGCiL-u7WbQBeK1IM3T8NOdncysw_Y1c66-oadPeDdQXG99CjBHtG5eosDAWVpwNq9O58Ca0CKSIpES2HAmD5ScT1C2oygkCAjMhdUpgQxsRsCTWROVUeAgrX6db41IjJiE3paqUYw5TSbjgQtAqXYVpJKkxkN1azexgfHUEmxJJR8zjCypNrpB31CwUz7bQo6ZpmEb_ulPouPlyqYZLjYmp3KvyXTpEInsgEftLYLlP_R_j7aCp4vWLAmbA:1u8Gfs:gF-MOTx9D4MAVcbD0j4eWt34HSSkx2KeovUq8gmCxpU', '2025-05-09 10:52:52.702650', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 10:52:52,724] DEBUG django.db.backends: (0.016) COMMIT; args=None; alias=default
[2025-04-25 10:53:10,960] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 58, in index
    return render(request, 'your_template.html')  # Используем render вместо HttpResponse
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py", line 25, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 19, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: your_template.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dc78bc0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', "TemplateDoesNotExist('your_template.html')"), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x74d39eb07be0>>')], 'id': 128452234021824, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dc78b80>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x74d39eb07be0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x74d39dc336d0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x74d39dc336d0>')], 'id': 128452234021760, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dc78b40>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 58, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC2mWJATRbWzYNO0Kw8MlFVdv-QXVlY81RMS2yv-Ydb54BS7NuTq8P_4yhUs5RPAXif4f'\n b'lQIp3kj8JM1U3DMu1mRGuljlhlz8QDxuR2_kig0oxa8=')")], 'id': 128452234021696, 'pre_context': ["    if 'has_saved_keys' not in request.session:", '        # Ключи не сохранены', '        print("Ключи не сохранены. Инициализация процесса сохранения ключей...")', '        keys = get_keys()  # Получаем новые ключи (например, от пользователя)', '        encrypted_key = save_keys(keys)  # Сохраняем зашифрованные ключи', "        request.session['has_saved_keys'] = True  # Обновляем статус в сессии", "        messages.success(request, 'Ключи успешно сохранены и зашифрованы!')"], 'context_line': "        return render(request, 'your_template.html')  # Используем render вместо HttpResponse", 'post_context': ['', '    else:', '        # Ключи уже сохранены', '        print("Ключи уже сохранены. Выполняем действие с ними...")', '        saved_keys = "существующие_ключи"  # Пример использования сохранённых ключей', '        use_saved_keys(saved_keys)  # Работаем с уже сохранёнными ключами'], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dc78b00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py', 'function': 'render', 'lineno': 25, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('template_name', "'your_template.html'"), ('context', 'None'), ('content_type', 'None'), ('status', 'None'), ('using', 'None')], 'id': 128452234021632, 'pre_context': ['def render(', '    request, template_name, context=None, content_type=None, status=None, using=None', '):', '    """', '    Return an HttpResponse whose content is filled with the result of calling', '    django.template.loader.render_to_string() with the passed arguments.', '    """'], 'context_line': '    content = loader.render_to_string(template_name, context, request, using=using)', 'post_context': ['    return HttpResponse(content, content_type, status)', '', '', 'def redirect(to, *args, permanent=False, preserve_request=False, **kwargs):', '    """', '    Return an HttpResponseRedirect to the appropriate URL for the arguments'], 'pre_context_lineno': 18, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dc78a40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'render_to_string', 'lineno': 61, 'vars': [('template_name', "'your_template.html'"), ('context', 'None'), ('request', "<WSGIRequest: GET '/'>"), ('using', 'None')], 'id': 128452234021440, 'pre_context': ['    Load a template and render it with a context. Return a string.', '', '    template_name may be a string or a list of strings.', '    """', '    if isinstance(template_name, (list, tuple)):', '        template = select_template(template_name, using=using)', '    else:'], 'context_line': '        template = get_template(template_name, using=using)', 'post_context': ['    return template.render(context, request)', '', '', 'def _engine_list(using=None):', '    return engines.all() if using is None else [engines[using]]'], 'pre_context_lineno': 54, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dc78a00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'get_template', 'lineno': 19, 'vars': [('template_name', "'your_template.html'"), ('using', 'None'), ('chain', "[TemplateDoesNotExist('your_template.html')]"), ('engines', '[<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>]'), ('engine', '<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>')], 'id': 128452234021376, 'pre_context': ['    engines = _engine_list(using)', '    for engine in engines:', '        try:', '            return engine.get_template(template_name)', '        except TemplateDoesNotExist as e:', '            chain.append(e)', ''], 'context_line': '    raise TemplateDoesNotExist(template_name, chain=chain)', 'post_context': ['', '', 'def select_template(template_name_list, using=None):', '    """', '    Load and return a template for one of the given names.', ''], 'pre_context_lineno': 12, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '55808', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x74d39e845030>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x74d39e829c30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.session.SessionStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 53, 10, 959490, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': True, 'postmortem': [TemplateDoesNotExist('your_template.html')], 'request_GET_items': <generator object MultiValueDict.items at 0x74d39e85f4c0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x74d39e85f840>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'TemplateDoesNotExist', 'exception_value': 'your_template.html', 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dc78a00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'get_template', 'lineno': 19, 'vars': [('template_name', "'your_template.html'"), ('using', 'None'), ('chain', "[TemplateDoesNotExist('your_template.html')]"), ('engines', '[<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>]'), ('engine', '<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>')], 'id': 128452234021376, 'pre_context': ['    engines = _engine_list(using)', '    for engine in engines:', '        try:', '            return engine.get_template(template_name)', '        except TemplateDoesNotExist as e:', '            chain.append(e)', ''], 'context_line': '    raise TemplateDoesNotExist(template_name, chain=chain)', 'post_context': ['', '', 'def select_template(template_name_list, using=None):', '    """', '    Load and return a template for one of the given names.', ''], 'pre_context_lineno': 12, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:53:10,992] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 58, in index
    return render(request, 'your_template.html')  # Используем render вместо HttpResponse
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py", line 25, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 19, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: your_template.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dc78bc0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', "TemplateDoesNotExist('your_template.html')"), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x74d39eb07be0>>')], 'id': 128452234021824, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dc78b80>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x74d39eb07be0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x74d39dc336d0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x74d39dc336d0>')], 'id': 128452234021760, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dc78b40>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 58, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC2mWJATRbWzYNO0Kw8MlFVdv-QXVlY81RMS2yv-Ydb54BS7NuTq8P_4yhUs5RPAXif4f'\n b'lQIp3kj8JM1U3DMu1mRGuljlhlz8QDxuR2_kig0oxa8=')")], 'id': 128452234021696, 'pre_context': ["    if 'has_saved_keys' not in request.session:", '        # Ключи не сохранены', '        print("Ключи не сохранены. Инициализация процесса сохранения ключей...")', '        keys = get_keys()  # Получаем новые ключи (например, от пользователя)', '        encrypted_key = save_keys(keys)  # Сохраняем зашифрованные ключи', "        request.session['has_saved_keys'] = True  # Обновляем статус в сессии", "        messages.success(request, 'Ключи успешно сохранены и зашифрованы!')"], 'context_line': "        return render(request, 'your_template.html')  # Используем render вместо HttpResponse", 'post_context': ['', '    else:', '        # Ключи уже сохранены', '        print("Ключи уже сохранены. Выполняем действие с ними...")', '        saved_keys = "существующие_ключи"  # Пример использования сохранённых ключей', '        use_saved_keys(saved_keys)  # Работаем с уже сохранёнными ключами'], 'pre_context_lineno': 51, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dc78b00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py', 'function': 'render', 'lineno': 25, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('template_name', "'your_template.html'"), ('context', 'None'), ('content_type', 'None'), ('status', 'None'), ('using', 'None')], 'id': 128452234021632, 'pre_context': ['def render(', '    request, template_name, context=None, content_type=None, status=None, using=None', '):', '    """', '    Return an HttpResponse whose content is filled with the result of calling', '    django.template.loader.render_to_string() with the passed arguments.', '    """'], 'context_line': '    content = loader.render_to_string(template_name, context, request, using=using)', 'post_context': ['    return HttpResponse(content, content_type, status)', '', '', 'def redirect(to, *args, permanent=False, preserve_request=False, **kwargs):', '    """', '    Return an HttpResponseRedirect to the appropriate URL for the arguments'], 'pre_context_lineno': 18, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dc78a40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'render_to_string', 'lineno': 61, 'vars': [('template_name', "'your_template.html'"), ('context', 'None'), ('request', "<WSGIRequest: GET '/'>"), ('using', 'None')], 'id': 128452234021440, 'pre_context': ['    Load a template and render it with a context. Return a string.', '', '    template_name may be a string or a list of strings.', '    """', '    if isinstance(template_name, (list, tuple)):', '        template = select_template(template_name, using=using)', '    else:'], 'context_line': '        template = get_template(template_name, using=using)', 'post_context': ['    return template.render(context, request)', '', '', 'def _engine_list(using=None):', '    return engines.all() if using is None else [engines[using]]'], 'pre_context_lineno': 54, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dc78a00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'get_template', 'lineno': 19, 'vars': [('template_name', "'your_template.html'"), ('using', 'None'), ('chain', "[TemplateDoesNotExist('your_template.html')]"), ('engines', '[<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>]'), ('engine', '<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>')], 'id': 128452234021376, 'pre_context': ['    engines = _engine_list(using)', '    for engine in engines:', '        try:', '            return engine.get_template(template_name)', '        except TemplateDoesNotExist as e:', '            chain.append(e)', ''], 'context_line': '    raise TemplateDoesNotExist(template_name, chain=chain)', 'post_context': ['', '', 'def select_template(template_name_list, using=None):', '    """', '    Load and return a template for one of the given names.', ''], 'pre_context_lineno': 12, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '55808', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x74d39e845030>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x74d39e829c30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.session.SessionStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 53, 10, 959490, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': True, 'postmortem': [TemplateDoesNotExist('your_template.html')], 'request_GET_items': <generator object MultiValueDict.items at 0x74d39e85f4c0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x74d39e85f840>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'TemplateDoesNotExist', 'exception_value': 'your_template.html', 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dc78a00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'get_template', 'lineno': 19, 'vars': [('template_name', "'your_template.html'"), ('using', 'None'), ('chain', "[TemplateDoesNotExist('your_template.html')]"), ('engines', '[<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>]'), ('engine', '<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>')], 'id': 128452234021376, 'pre_context': ['    engines = _engine_list(using)', '    for engine in engines:', '        try:', '            return engine.get_template(template_name)', '        except TemplateDoesNotExist as e:', '            chain.append(e)', ''], 'context_line': '    raise TemplateDoesNotExist(template_name, chain=chain)', 'post_context': ['', '', 'def select_template(template_name_list, using=None):', '    """', '    Load and return a template for one of the given names.', ''], 'pre_context_lineno': 12, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:53:11,014] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 58, in index
    return render(request, 'your_template.html')  # Используем render вместо HttpResponse
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py", line 25, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 19, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: your_template.html
[2025-04-25 10:53:12,995] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 10:53:12.985925' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 10:53:12.985925', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 10:53:13,023] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 68, in index
    return render(request, 'your_template.html', {
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py", line 25, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 19, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: your_template.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dcaccc0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', "TemplateDoesNotExist('your_template.html')"), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x74d39eb07be0>>')], 'id': 128452234235072, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dcacb40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x74d39eb07be0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x74d39dc336d0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x74d39dc336d0>')], 'id': 128452234234688, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dcaec40>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('saved_keys', "'существующие_ключи'")], 'id': 128452234243136, 'pre_context': ['        # Ключи уже сохранены', '        print("Ключи уже сохранены. Выполняем действие с ними...")', '        saved_keys = "существующие_ключи"  # Пример использования сохранённых ключей', '        use_saved_keys(saved_keys)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '        # Используем f-string для корректной подстановки значения переменной в JavaScript'], 'context_line': "        return render(request, 'your_template.html', {", 'post_context': ["            'saved_keys': saved_keys  # Передаем переменную в контекст шаблона", '        })', '', '', '    # Пример использования сообщений', "    if request.method == 'POST':"], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dcacd40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py', 'function': 'render', 'lineno': 25, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('template_name', "'your_template.html'"), ('context', "{'saved_keys': 'существующие_ключи'}"), ('content_type', 'None'), ('status', 'None'), ('using', 'None')], 'id': 128452234235200, 'pre_context': ['def render(', '    request, template_name, context=None, content_type=None, status=None, using=None', '):', '    """', '    Return an HttpResponse whose content is filled with the result of calling', '    django.template.loader.render_to_string() with the passed arguments.', '    """'], 'context_line': '    content = loader.render_to_string(template_name, context, request, using=using)', 'post_context': ['    return HttpResponse(content, content_type, status)', '', '', 'def redirect(to, *args, permanent=False, preserve_request=False, **kwargs):', '    """', '    Return an HttpResponseRedirect to the appropriate URL for the arguments'], 'pre_context_lineno': 18, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dcad640>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'render_to_string', 'lineno': 61, 'vars': [('template_name', "'your_template.html'"), ('context', "{'saved_keys': 'существующие_ключи'}"), ('request', "<WSGIRequest: GET '/'>"), ('using', 'None')], 'id': 128452234237504, 'pre_context': ['    Load a template and render it with a context. Return a string.', '', '    template_name may be a string or a list of strings.', '    """', '    if isinstance(template_name, (list, tuple)):', '        template = select_template(template_name, using=using)', '    else:'], 'context_line': '        template = get_template(template_name, using=using)', 'post_context': ['    return template.render(context, request)', '', '', 'def _engine_list(using=None):', '    return engines.all() if using is None else [engines[using]]'], 'pre_context_lineno': 54, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dcae280>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'get_template', 'lineno': 19, 'vars': [('template_name', "'your_template.html'"), ('using', 'None'), ('chain', "[TemplateDoesNotExist('your_template.html')]"), ('engines', '[<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>]'), ('engine', '<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>')], 'id': 128452234240640, 'pre_context': ['    engines = _engine_list(using)', '    for engine in engines:', '        try:', '            return engine.get_template(template_name)', '        except TemplateDoesNotExist as e:', '            chain.append(e)', ''], 'context_line': '    raise TemplateDoesNotExist(template_name, chain=chain)', 'post_context': ['', '', 'def select_template(template_name_list, using=None):', '    """', '    Load and return a template for one of the given names.', ''], 'pre_context_lineno': 12, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '54938', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '85.9.141.36', 'HTTP_X_FORWARDED_FOR': '85.9.141.36', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x74d39e845010>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x74d39e829c30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************'), ('sessionid', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.session.SessionStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 53, 13, 23516, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': True, 'postmortem': [TemplateDoesNotExist('your_template.html')], 'request_GET_items': <generator object MultiValueDict.items at 0x74d39dcdc510>, 'request_FILES_items': <generator object MultiValueDict.items at 0x74d39dd258c0>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'TemplateDoesNotExist', 'exception_value': 'your_template.html', 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dcae280>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'get_template', 'lineno': 19, 'vars': [('template_name', "'your_template.html'"), ('using', 'None'), ('chain', "[TemplateDoesNotExist('your_template.html')]"), ('engines', '[<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>]'), ('engine', '<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>')], 'id': 128452234240640, 'pre_context': ['    engines = _engine_list(using)', '    for engine in engines:', '        try:', '            return engine.get_template(template_name)', '        except TemplateDoesNotExist as e:', '            chain.append(e)', ''], 'context_line': '    raise TemplateDoesNotExist(template_name, chain=chain)', 'post_context': ['', '', 'def select_template(template_name_list, using=None):', '    """', '    Load and return a template for one of the given names.', ''], 'pre_context_lineno': 12, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:53:13,046] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 68, in index
    return render(request, 'your_template.html', {
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py", line 25, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 19, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: your_template.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dcaccc0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', "TemplateDoesNotExist('your_template.html')"), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x74d39eb07be0>>')], 'id': 128452234235072, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dcacb40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x74d39eb07be0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x74d39dc336d0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x74d39dc336d0>')], 'id': 128452234234688, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dcaec40>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('saved_keys', "'существующие_ключи'")], 'id': 128452234243136, 'pre_context': ['        # Ключи уже сохранены', '        print("Ключи уже сохранены. Выполняем действие с ними...")', '        saved_keys = "существующие_ключи"  # Пример использования сохранённых ключей', '        use_saved_keys(saved_keys)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '        # Используем f-string для корректной подстановки значения переменной в JavaScript'], 'context_line': "        return render(request, 'your_template.html', {", 'post_context': ["            'saved_keys': saved_keys  # Передаем переменную в контекст шаблона", '        })', '', '', '    # Пример использования сообщений', "    if request.method == 'POST':"], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dcacd40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py', 'function': 'render', 'lineno': 25, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('template_name', "'your_template.html'"), ('context', "{'saved_keys': 'существующие_ключи'}"), ('content_type', 'None'), ('status', 'None'), ('using', 'None')], 'id': 128452234235200, 'pre_context': ['def render(', '    request, template_name, context=None, content_type=None, status=None, using=None', '):', '    """', '    Return an HttpResponse whose content is filled with the result of calling', '    django.template.loader.render_to_string() with the passed arguments.', '    """'], 'context_line': '    content = loader.render_to_string(template_name, context, request, using=using)', 'post_context': ['    return HttpResponse(content, content_type, status)', '', '', 'def redirect(to, *args, permanent=False, preserve_request=False, **kwargs):', '    """', '    Return an HttpResponseRedirect to the appropriate URL for the arguments'], 'pre_context_lineno': 18, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dcad640>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'render_to_string', 'lineno': 61, 'vars': [('template_name', "'your_template.html'"), ('context', "{'saved_keys': 'существующие_ключи'}"), ('request', "<WSGIRequest: GET '/'>"), ('using', 'None')], 'id': 128452234237504, 'pre_context': ['    Load a template and render it with a context. Return a string.', '', '    template_name may be a string or a list of strings.', '    """', '    if isinstance(template_name, (list, tuple)):', '        template = select_template(template_name, using=using)', '    else:'], 'context_line': '        template = get_template(template_name, using=using)', 'post_context': ['    return template.render(context, request)', '', '', 'def _engine_list(using=None):', '    return engines.all() if using is None else [engines[using]]'], 'pre_context_lineno': 54, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dcae280>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'get_template', 'lineno': 19, 'vars': [('template_name', "'your_template.html'"), ('using', 'None'), ('chain', "[TemplateDoesNotExist('your_template.html')]"), ('engines', '[<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>]'), ('engine', '<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>')], 'id': 128452234240640, 'pre_context': ['    engines = _engine_list(using)', '    for engine in engines:', '        try:', '            return engine.get_template(template_name)', '        except TemplateDoesNotExist as e:', '            chain.append(e)', ''], 'context_line': '    raise TemplateDoesNotExist(template_name, chain=chain)', 'post_context': ['', '', 'def select_template(template_name_list, using=None):', '    """', '    Load and return a template for one of the given names.', ''], 'pre_context_lineno': 12, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '54938', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '85.9.141.36', 'HTTP_X_FORWARDED_FOR': '85.9.141.36', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x74d39e845010>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x74d39e829c30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************'), ('sessionid', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.session.SessionStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 53, 13, 23516, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': True, 'postmortem': [TemplateDoesNotExist('your_template.html')], 'request_GET_items': <generator object MultiValueDict.items at 0x74d39dcdc510>, 'request_FILES_items': <generator object MultiValueDict.items at 0x74d39dd258c0>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'TemplateDoesNotExist', 'exception_value': 'your_template.html', 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39dcae280>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'get_template', 'lineno': 19, 'vars': [('template_name', "'your_template.html'"), ('using', 'None'), ('chain', "[TemplateDoesNotExist('your_template.html')]"), ('engines', '[<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>]'), ('engine', '<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>')], 'id': 128452234240640, 'pre_context': ['    engines = _engine_list(using)', '    for engine in engines:', '        try:', '            return engine.get_template(template_name)', '        except TemplateDoesNotExist as e:', '            chain.append(e)', ''], 'context_line': '    raise TemplateDoesNotExist(template_name, chain=chain)', 'post_context': ['', '', 'def select_template(template_name_list, using=None):', '    """', '    Load and return a template for one of the given names.', ''], 'pre_context_lineno': 12, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:53:13,061] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 68, in index
    return render(request, 'your_template.html', {
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py", line 25, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 19, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: your_template.html
[2025-04-25 10:54:16,586] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 10:54:16.580428' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 10:54:16.580428', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 10:54:16,605] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 68, in index
    return render(request, 'index.html', {
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py", line 25, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 19, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: your_template.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39db78f40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', "TemplateDoesNotExist('your_template.html')"), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x74d39eb07be0>>')], 'id': 128452232974144, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39db79040>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x74d39eb07be0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x74d39dc336d0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x74d39dc336d0>')], 'id': 128452232974400, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39db790c0>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('saved_keys', "'существующие_ключи'")], 'id': 128452232974528, 'pre_context': ['        # Ключи уже сохранены', '        print("Ключи уже сохранены. Выполняем действие с ними...")', '        saved_keys = "существующие_ключи"  # Пример использования сохранённых ключей', '        use_saved_keys(saved_keys)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '        # Используем f-string для корректной подстановки значения переменной в JavaScript'], 'context_line': "        return render(request, 'index.html', {", 'post_context': ["            'saved_keys': saved_keys  # Передаем переменную в контекст шаблона", '        })', '', '', '    # Пример использования сообщений', "    if request.method == 'POST':"], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39db78c00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py', 'function': 'render', 'lineno': 25, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('template_name', "'your_template.html'"), ('context', "{'saved_keys': 'существующие_ключи'}"), ('content_type', 'None'), ('status', 'None'), ('using', 'None')], 'id': 128452232973312, 'pre_context': ['def render(', '    request, template_name, context=None, content_type=None, status=None, using=None', '):', '    """', '    Return an HttpResponse whose content is filled with the result of calling', '    django.template.loader.render_to_string() with the passed arguments.', '    """'], 'context_line': '    content = loader.render_to_string(template_name, context, request, using=using)', 'post_context': ['    return HttpResponse(content, content_type, status)', '', '', 'def redirect(to, *args, permanent=False, preserve_request=False, **kwargs):', '    """', '    Return an HttpResponseRedirect to the appropriate URL for the arguments'], 'pre_context_lineno': 18, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39db6d240>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'render_to_string', 'lineno': 61, 'vars': [('template_name', "'your_template.html'"), ('context', "{'saved_keys': 'существующие_ключи'}"), ('request', "<WSGIRequest: GET '/'>"), ('using', 'None')], 'id': 128452232925760, 'pre_context': ['    Load a template and render it with a context. Return a string.', '', '    template_name may be a string or a list of strings.', '    """', '    if isinstance(template_name, (list, tuple)):', '        template = select_template(template_name, using=using)', '    else:'], 'context_line': '        template = get_template(template_name, using=using)', 'post_context': ['    return template.render(context, request)', '', '', 'def _engine_list(using=None):', '    return engines.all() if using is None else [engines[using]]'], 'pre_context_lineno': 54, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39db6c780>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'get_template', 'lineno': 19, 'vars': [('template_name', "'your_template.html'"), ('using', 'None'), ('chain', "[TemplateDoesNotExist('your_template.html')]"), ('engines', '[<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>]'), ('engine', '<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>')], 'id': 128452232923008, 'pre_context': ['    engines = _engine_list(using)', '    for engine in engines:', '        try:', '            return engine.get_template(template_name)', '        except TemplateDoesNotExist as e:', '            chain.append(e)', ''], 'context_line': '    raise TemplateDoesNotExist(template_name, chain=chain)', 'post_context': ['', '', 'def select_template(template_name_list, using=None):', '    """', '    Load and return a template for one of the given names.', ''], 'pre_context_lineno': 12, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '57100', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '85.9.141.36', 'HTTP_X_FORWARDED_FOR': '85.9.141.36', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_CACHE_CONTROL': 'max-age=0', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x74d39dc48510>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x74d39e829c30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************'), ('sessionid', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.session.SessionStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 54, 16, 605399, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': True, 'postmortem': [TemplateDoesNotExist('your_template.html')], 'request_GET_items': <generator object MultiValueDict.items at 0x74d39dd25cb0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x74d39dd25460>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'TemplateDoesNotExist', 'exception_value': 'your_template.html', 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39db6c780>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'get_template', 'lineno': 19, 'vars': [('template_name', "'your_template.html'"), ('using', 'None'), ('chain', "[TemplateDoesNotExist('your_template.html')]"), ('engines', '[<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>]'), ('engine', '<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>')], 'id': 128452232923008, 'pre_context': ['    engines = _engine_list(using)', '    for engine in engines:', '        try:', '            return engine.get_template(template_name)', '        except TemplateDoesNotExist as e:', '            chain.append(e)', ''], 'context_line': '    raise TemplateDoesNotExist(template_name, chain=chain)', 'post_context': ['', '', 'def select_template(template_name_list, using=None):', '    """', '    Load and return a template for one of the given names.', ''], 'pre_context_lineno': 12, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:54:16,617] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 68, in index
    return render(request, 'index.html', {
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py", line 25, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 19, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: your_template.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39db78f40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', "TemplateDoesNotExist('your_template.html')"), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x74d39eb07be0>>')], 'id': 128452232974144, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39db79040>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x74d39eb07be0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x74d39dc336d0>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x74d39dc336d0>')], 'id': 128452232974400, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39db790c0>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('saved_keys', "'существующие_ключи'")], 'id': 128452232974528, 'pre_context': ['        # Ключи уже сохранены', '        print("Ключи уже сохранены. Выполняем действие с ними...")', '        saved_keys = "существующие_ключи"  # Пример использования сохранённых ключей', '        use_saved_keys(saved_keys)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '        # Используем f-string для корректной подстановки значения переменной в JavaScript'], 'context_line': "        return render(request, 'index.html', {", 'post_context': ["            'saved_keys': saved_keys  # Передаем переменную в контекст шаблона", '        })', '', '', '    # Пример использования сообщений', "    if request.method == 'POST':"], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39db78c00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py', 'function': 'render', 'lineno': 25, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('template_name', "'your_template.html'"), ('context', "{'saved_keys': 'существующие_ключи'}"), ('content_type', 'None'), ('status', 'None'), ('using', 'None')], 'id': 128452232973312, 'pre_context': ['def render(', '    request, template_name, context=None, content_type=None, status=None, using=None', '):', '    """', '    Return an HttpResponse whose content is filled with the result of calling', '    django.template.loader.render_to_string() with the passed arguments.', '    """'], 'context_line': '    content = loader.render_to_string(template_name, context, request, using=using)', 'post_context': ['    return HttpResponse(content, content_type, status)', '', '', 'def redirect(to, *args, permanent=False, preserve_request=False, **kwargs):', '    """', '    Return an HttpResponseRedirect to the appropriate URL for the arguments'], 'pre_context_lineno': 18, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39db6d240>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'render_to_string', 'lineno': 61, 'vars': [('template_name', "'your_template.html'"), ('context', "{'saved_keys': 'существующие_ключи'}"), ('request', "<WSGIRequest: GET '/'>"), ('using', 'None')], 'id': 128452232925760, 'pre_context': ['    Load a template and render it with a context. Return a string.', '', '    template_name may be a string or a list of strings.', '    """', '    if isinstance(template_name, (list, tuple)):', '        template = select_template(template_name, using=using)', '    else:'], 'context_line': '        template = get_template(template_name, using=using)', 'post_context': ['    return template.render(context, request)', '', '', 'def _engine_list(using=None):', '    return engines.all() if using is None else [engines[using]]'], 'pre_context_lineno': 54, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39db6c780>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'get_template', 'lineno': 19, 'vars': [('template_name', "'your_template.html'"), ('using', 'None'), ('chain', "[TemplateDoesNotExist('your_template.html')]"), ('engines', '[<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>]'), ('engine', '<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>')], 'id': 128452232923008, 'pre_context': ['    engines = _engine_list(using)', '    for engine in engines:', '        try:', '            return engine.get_template(template_name)', '        except TemplateDoesNotExist as e:', '            chain.append(e)', ''], 'context_line': '    raise TemplateDoesNotExist(template_name, chain=chain)', 'post_context': ['', '', 'def select_template(template_name_list, using=None):', '    """', '    Load and return a template for one of the given names.', ''], 'pre_context_lineno': 12, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'HTTPS': 'on', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '57100', 'SERVER_PORT': '443', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '85.9.141.36', 'HTTP_X_FORWARDED_FOR': '85.9.141.36', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_CACHE_CONTROL': 'max-age=0', 'HTTP_SEC_CH_UA': '"Chromium";v="134", "Not:A-Brand";v="24", "Google Chrome";v="134"', 'HTTP_SEC_CH_UA_MOBILE': '?0', 'HTTP_SEC_CH_UA_PLATFORM': '"Linux"', 'HTTP_UPGRADE_INSECURE_REQUESTS': '1', 'HTTP_USER_AGENT': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/134.0.0.0 Safari/537.36', 'HTTP_ACCEPT': 'text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7', 'HTTP_SEC_FETCH_SITE': 'cross-site', 'HTTP_SEC_FETCH_MODE': 'navigate', 'HTTP_SEC_FETCH_USER': '?1', 'HTTP_SEC_FETCH_DEST': 'document', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate, br, zstd', 'HTTP_ACCEPT_LANGUAGE': 'ru-RU,ru;q=0.9,en-US;q=0.8,en;q=0.7', 'HTTP_COOKIE': '********************', 'wsgi.input': <uwsgi._Input object at 0x74d39dc48510>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x74d39e829c30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'https', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44', 'CSRF_COOKIE': 'dawkdgKyA1j0ICKTuFcVir5gEea6CcIZ'}, 'request_COOKIES_items': dict_items([('csrftoken', '********************'), ('sessionid', '********************')]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.session.SessionStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 10, 54, 16, 605399, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': True, 'postmortem': [TemplateDoesNotExist('your_template.html')], 'request_GET_items': <generator object MultiValueDict.items at 0x74d39dd25cb0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x74d39dd25460>, 'request_insecure_uri': 'https://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'TemplateDoesNotExist', 'exception_value': 'your_template.html', 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x74d39db6c780>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'get_template', 'lineno': 19, 'vars': [('template_name', "'your_template.html'"), ('using', 'None'), ('chain', "[TemplateDoesNotExist('your_template.html')]"), ('engines', '[<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>]'), ('engine', '<django.template.backends.django.DjangoTemplates object at 0x74d39e82b3a0>')], 'id': 128452232923008, 'pre_context': ['    engines = _engine_list(using)', '    for engine in engines:', '        try:', '            return engine.get_template(template_name)', '        except TemplateDoesNotExist as e:', '            chain.append(e)', ''], 'context_line': '    raise TemplateDoesNotExist(template_name, chain=chain)', 'post_context': ['', '', 'def select_template(template_name_list, using=None):', '    """', '    Load and return a template for one of the given names.', ''], 'pre_context_lineno': 12, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 10:54:16,642] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 68, in index
    return render(request, 'index.html', {
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py", line 25, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 61, in render_to_string
    template = get_template(template_name, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 19, in get_template
    raise TemplateDoesNotExist(template_name, chain=chain)
django.template.exceptions.TemplateDoesNotExist: your_template.html
[2025-04-25 11:01:21,467] DEBUG django.template: Exception while resolving variable 'has_saved_keys' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'has_saved_keys'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'has_saved_keys'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'has_saved_keys'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [has_saved_keys] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: 'geU2T1QVz5lYCt5IN6cYnIN5M8EiVZLYQj5yeycxy1KmK5600IE3tJ9RITsfb0OM'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3cb54cc10>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3cb54cc10>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]
[2025-04-25 11:01:21,474] DEBUG django.template: Exception while resolving variable 'pairs' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [pairs] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: 'geU2T1QVz5lYCt5IN6cYnIN5M8EiVZLYQj5yeycxy1KmK5600IE3tJ9RITsfb0OM'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3cb54cc10>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3cb54cc10>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-25 11:01:21,480] DEBUG django.template: Exception while resolving variable 'prices' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [prices] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: 'geU2T1QVz5lYCt5IN6cYnIN5M8EiVZLYQj5yeycxy1KmK5600IE3tJ9RITsfb0OM'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3cb54cc10>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3cb54cc10>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-25 11:01:21,508] DEBUG django.db.backends: (0.004) SELECT 1 AS "a" FROM "django_session" WHERE "django_session"."session_key" = 'ikugfvaqj0xg41qzbpdy25uwi1viwzeo' LIMIT 1; args=(1, 'ikugfvaqj0xg41qzbpdy25uwi1viwzeo'); alias=default
[2025-04-25 11:01:21,509] DEBUG django.db.backends: (0.000) BEGIN; args=None; alias=default
[2025-04-25 11:01:21,514] DEBUG django.db.backends: (0.004) INSERT INTO "django_session" ("session_key", "session_data", "expire_date") VALUES ('ikugfvaqj0xg41qzbpdy25uwi1viwzeo', 'eyJoYXNfc2F2ZWRfa2V5cyI6dHJ1ZX0:1u8Go5:Jq1j8xo3AitDivSgCif8WvNYV3jN8VNsht0Dz_Q07g4', '2025-05-09 11:01:21.509668'); args=('ikugfvaqj0xg41qzbpdy25uwi1viwzeo', 'eyJoYXNfc2F2ZWRfa2V5cyI6dHJ1ZX0:1u8Go5:Jq1j8xo3AitDivSgCif8WvNYV3jN8VNsht0Dz_Q07g4', '2025-05-09 11:01:21.509668'); alias=default
[2025-04-25 11:01:21,532] DEBUG django.db.backends: (0.017) COMMIT; args=None; alias=default
[2025-04-25 11:01:28,125] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 11:01:28.119573' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 11:01:28.119573', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 11:01:28,127] DEBUG django.template: Exception while resolving variable 'has_saved_keys' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'has_saved_keys'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'has_saved_keys'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'has_saved_keys'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [has_saved_keys] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: '66IqSWsRvWejEUjgsUGYKJdWvuXZRFMq964AV22fVNn9cmTZMpIJS082ZyXVjHkf'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c9478790>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c9478790>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {'saved_keys': 'существующие_ключи'}]
[2025-04-25 11:01:28,131] DEBUG django.template: Exception while resolving variable 'pairs' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [pairs] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: '66IqSWsRvWejEUjgsUGYKJdWvuXZRFMq964AV22fVNn9cmTZMpIJS082ZyXVjHkf'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c9478790>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c9478790>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {'saved_keys': 'существующие_ключи'}, {}]
[2025-04-25 11:01:28,134] DEBUG django.template: Exception while resolving variable 'prices' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [prices] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: '66IqSWsRvWejEUjgsUGYKJdWvuXZRFMq964AV22fVNn9cmTZMpIJS082ZyXVjHkf'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c9478790>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c9478790>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {'saved_keys': 'существующие_ключи'}, {}]
[2025-04-25 11:01:28,139] DEBUG django.db.backends: (0.000) BEGIN; args=None; alias=default
[2025-04-25 11:01:28,144] DEBUG django.db.backends: (0.004) UPDATE "django_session" SET "session_data" = 'eyJoYXNfc2F2ZWRfa2V5cyI6dHJ1ZX0:1u8GoC:hNL67HcBjVVk3Viz9a4yuqrAhikYLIGg6O0SWn15fo4', "expire_date" = '2025-05-09 11:01:28.139202' WHERE "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj'; args=('eyJoYXNfc2F2ZWRfa2V5cyI6dHJ1ZX0:1u8GoC:hNL67HcBjVVk3Viz9a4yuqrAhikYLIGg6O0SWn15fo4', '2025-05-09 11:01:28.139202', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 11:01:28,158] DEBUG django.db.backends: (0.014) COMMIT; args=None; alias=default
[2025-04-25 11:20:48,755] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 11:20:48.750422' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 11:20:48.750422', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 11:20:48,756] DEBUG django.template: Exception while resolving variable 'has_saved_keys' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'has_saved_keys'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'has_saved_keys'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'has_saved_keys'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [has_saved_keys] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: 'SUS6xsVAy8nDg4rK6q3LJQY3fEqsM0JmVUegAyvYYZwtOw1tqV5wR7T9JIqoe2hb'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c9478670>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c9478670>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {'saved_keys': 'существующие_ключи'}]
[2025-04-25 11:20:48,760] DEBUG django.template: Exception while resolving variable 'pairs' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [pairs] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: 'SUS6xsVAy8nDg4rK6q3LJQY3fEqsM0JmVUegAyvYYZwtOw1tqV5wR7T9JIqoe2hb'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c9478670>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c9478670>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {'saved_keys': 'существующие_ключи'}, {}]
[2025-04-25 11:20:48,762] DEBUG django.template: Exception while resolving variable 'prices' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [prices] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: 'SUS6xsVAy8nDg4rK6q3LJQY3fEqsM0JmVUegAyvYYZwtOw1tqV5wR7T9JIqoe2hb'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c9478670>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c9478670>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {'saved_keys': 'существующие_ключи'}, {}]
[2025-04-25 11:21:27,586] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 11:21:27.581648' AND "django_session"."session_key" = '2507ghxljtv1otbye7p27cwyiqtr2ola') LIMIT 21; args=('2025-04-25 11:21:27.581648', '2507ghxljtv1otbye7p27cwyiqtr2ola'); alias=default
[2025-04-25 11:21:27,587] DEBUG django.template: Exception while resolving variable 'has_saved_keys' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'has_saved_keys'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'has_saved_keys'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'has_saved_keys'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [has_saved_keys] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: 'L7Wx3QufZD3Is10isOxG0Z3Fklq0CFWAUR4yPLCGT1LM08zO87lThcpzuSqksrhT'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c94788b0>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c94788b0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}]
[2025-04-25 11:21:27,589] DEBUG django.template: Exception while resolving variable 'pairs' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [pairs] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: 'L7Wx3QufZD3Is10isOxG0Z3Fklq0CFWAUR4yPLCGT1LM08zO87lThcpzuSqksrhT'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c94788b0>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c94788b0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-25 11:21:27,592] DEBUG django.template: Exception while resolving variable 'prices' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [prices] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: 'L7Wx3QufZD3Is10isOxG0Z3Fklq0CFWAUR4yPLCGT1LM08zO87lThcpzuSqksrhT'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c94788b0>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c94788b0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-25 11:21:27,596] DEBUG django.db.backends: (0.001) SELECT 1 AS "a" FROM "django_session" WHERE "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs' LIMIT 1; args=(1, 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 11:21:27,596] DEBUG django.db.backends: (0.000) BEGIN; args=None; alias=default
[2025-04-25 11:21:27,601] DEBUG django.db.backends: (0.005) INSERT INTO "django_session" ("session_key", "session_data", "expire_date") VALUES ('mvx6mcn5s5wnx7lxrwpfb22poofs27vs', 'eyJoYXNfc2F2ZWRfa2V5cyI6dHJ1ZX0:1u8H7X:ySkbSE8EuwuNBJafyoXd2ZiOE7uuJSR9e6WHzTfokeY', '2025-05-09 11:21:27.596520'); args=('mvx6mcn5s5wnx7lxrwpfb22poofs27vs', 'eyJoYXNfc2F2ZWRfa2V5cyI6dHJ1ZX0:1u8H7X:ySkbSE8EuwuNBJafyoXd2ZiOE7uuJSR9e6WHzTfokeY', '2025-05-09 11:21:27.596520'); alias=default
[2025-04-25 11:21:27,617] DEBUG django.db.backends: (0.016) COMMIT; args=None; alias=default
[2025-04-25 11:21:30,089] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern '' [name='index']>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-25 11:21:30,099] WARNING django.request: Not Found: /favicon.ico
[2025-04-25 11:21:42,556] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 11:21:42.550124' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 11:21:42.550124', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 11:21:42,557] DEBUG django.template: Exception while resolving variable 'has_saved_keys' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'has_saved_keys'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'has_saved_keys'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'has_saved_keys'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [has_saved_keys] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: '3XmrHuPCjfOBwUJiRExxXgW22jDTkfBzcHustpX3dDwF41iOxXlKetiWcQDda1WS'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c94265f0>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c94265f0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {'saved_keys': 'существующие_ключи'}]
[2025-04-25 11:21:42,561] DEBUG django.template: Exception while resolving variable 'pairs' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [pairs] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: '3XmrHuPCjfOBwUJiRExxXgW22jDTkfBzcHustpX3dDwF41iOxXlKetiWcQDda1WS'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c94265f0>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c94265f0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {'saved_keys': 'существующие_ключи'}, {}]
[2025-04-25 11:21:42,565] DEBUG django.template: Exception while resolving variable 'prices' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [prices] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: '3XmrHuPCjfOBwUJiRExxXgW22jDTkfBzcHustpX3dDwF41iOxXlKetiWcQDda1WS'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c94265f0>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70b3c94265f0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {'saved_keys': 'существующие_ключи'}, {}]
[2025-04-25 11:26:23,241] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 68, in index
    'saved_keys': saved_keys if 'has_saved_keys' in request.session else None
UnboundLocalError: local variable 'saved_keys' referenced before assignment

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70060b92bb80>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'UnboundLocalError("local variable \'saved_keys\' referenced before assignment")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x70060bbc3be0>>')], 'id': 123171266280320, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70060bcbae40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x70060bbc3be0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x70060acef640>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x70060acef640>')], 'id': 123171270012480, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70060b8af500>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC3FfC6cGrpYrZuRizBk_-nsaYcXxFwVyp8jmmMOPzqLYJDzUpHk2--ljg2lNfyByDy1b'\n b'yFLYHDLgIq3DfRImA54XPruBI4fDHHveIEheBVyBggY=')")], 'id': 123171265770752, 'pre_context': ['        print("Ключи уже сохранены. Выполняем действие с ними...")', "        encrypted_key = request.session.get('user_key')  # Получаем зашифрованный ключ из сессии", '        saved_keys = use_saved_keys(encrypted_key)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '    # Передаем ключ в контекст шаблона и рендерим страницу один раз', "    return render(request, 'index.html', {"], 'context_line': "        'saved_keys': saved_keys if 'has_saved_keys' in request.session else None", 'post_context': ['    })'], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '33634', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x70060b901030>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x70060b8e5c30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.session.SessionStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 11, 26, 23, 240626, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x70060b919d90>, 'request_FILES_items': <generator object MultiValueDict.items at 0x70060b91a8f0>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'UnboundLocalError', 'exception_value': "local variable 'saved_keys' referenced before assignment", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70060b8af500>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC3FfC6cGrpYrZuRizBk_-nsaYcXxFwVyp8jmmMOPzqLYJDzUpHk2--ljg2lNfyByDy1b'\n b'yFLYHDLgIq3DfRImA54XPruBI4fDHHveIEheBVyBggY=')")], 'id': 123171265770752, 'pre_context': ['        print("Ключи уже сохранены. Выполняем действие с ними...")', "        encrypted_key = request.session.get('user_key')  # Получаем зашифрованный ключ из сессии", '        saved_keys = use_saved_keys(encrypted_key)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '    # Передаем ключ в контекст шаблона и рендерим страницу один раз', "    return render(request, 'index.html', {"], 'context_line': "        'saved_keys': saved_keys if 'has_saved_keys' in request.session else None", 'post_context': ['    })'], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 11:26:23,264] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 68, in index
    'saved_keys': saved_keys if 'has_saved_keys' in request.session else None
UnboundLocalError: local variable 'saved_keys' referenced before assignment

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70060b92bb80>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'UnboundLocalError("local variable \'saved_keys\' referenced before assignment")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x70060bbc3be0>>')], 'id': 123171266280320, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70060bcbae40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x70060bbc3be0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x70060acef640>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x70060acef640>')], 'id': 123171270012480, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70060b8af500>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC3FfC6cGrpYrZuRizBk_-nsaYcXxFwVyp8jmmMOPzqLYJDzUpHk2--ljg2lNfyByDy1b'\n b'yFLYHDLgIq3DfRImA54XPruBI4fDHHveIEheBVyBggY=')")], 'id': 123171265770752, 'pre_context': ['        print("Ключи уже сохранены. Выполняем действие с ними...")', "        encrypted_key = request.session.get('user_key')  # Получаем зашифрованный ключ из сессии", '        saved_keys = use_saved_keys(encrypted_key)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '    # Передаем ключ в контекст шаблона и рендерим страницу один раз', "    return render(request, 'index.html', {"], 'context_line': "        'saved_keys': saved_keys if 'has_saved_keys' in request.session else None", 'post_context': ['    })'], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '33634', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x70060b901030>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x70060b8e5c30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.session.SessionStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 11, 26, 23, 240626, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x70060b919d90>, 'request_FILES_items': <generator object MultiValueDict.items at 0x70060b91a8f0>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'UnboundLocalError', 'exception_value': "local variable 'saved_keys' referenced before assignment", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x70060b8af500>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC3FfC6cGrpYrZuRizBk_-nsaYcXxFwVyp8jmmMOPzqLYJDzUpHk2--ljg2lNfyByDy1b'\n b'yFLYHDLgIq3DfRImA54XPruBI4fDHHveIEheBVyBggY=')")], 'id': 123171265770752, 'pre_context': ['        print("Ключи уже сохранены. Выполняем действие с ними...")', "        encrypted_key = request.session.get('user_key')  # Получаем зашифрованный ключ из сессии", '        saved_keys = use_saved_keys(encrypted_key)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '    # Передаем ключ в контекст шаблона и рендерим страницу один раз', "    return render(request, 'index.html', {"], 'context_line': "        'saved_keys': saved_keys if 'has_saved_keys' in request.session else None", 'post_context': ['    })'], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 11:26:23,283] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 68, in index
    'saved_keys': saved_keys if 'has_saved_keys' in request.session else None
UnboundLocalError: local variable 'saved_keys' referenced before assignment
[2025-04-25 11:26:25,096] DEBUG django.db.backends: (0.006) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 11:26:25.084418' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 11:26:25.084418', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 11:26:25,134] DEBUG django.template: Exception while resolving variable 'pairs' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [pairs] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: 'ealyzb8136tXCnUlYgYTwWdcO3VCaEKwhaHIChIptXCNaPu4iL0EEd8ii7VyCGil'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70060acefbe0>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70060acefbe0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {'saved_keys': None}, {}]
[2025-04-25 11:26:25,139] DEBUG django.template: Exception while resolving variable 'prices' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [prices] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: 'ealyzb8136tXCnUlYgYTwWdcO3VCaEKwhaHIChIptXCNaPu4iL0EEd8ii7VyCGil'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70060acefbe0>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70060acefbe0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {'saved_keys': None}, {}]
[2025-04-25 11:26:42,964] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 11:26:42.958421' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 11:26:42.958421', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 11:26:42,966] DEBUG django.template: Exception while resolving variable 'pairs' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [pairs] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: 'uxjfvgA1bxtkfNIzn7TUYSWm8adsoVt0DhrghbIs5VboNUh53qH7f5igiHdMeHOj'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70060ac00670>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70060ac00670>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {'saved_keys': None}, {}]
[2025-04-25 11:26:42,970] DEBUG django.template: Exception while resolving variable 'prices' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [prices] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: 'uxjfvgA1bxtkfNIzn7TUYSWm8adsoVt0DhrghbIs5VboNUh53qH7f5igiHdMeHOj'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70060ac00670>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x70060ac00670>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {'saved_keys': None}, {}]
[2025-04-25 11:26:53,471] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 68, in index
    'saved_keys': saved_keys if 'has_saved_keys' in request.session else None
UnboundLocalError: local variable 'saved_keys' referenced before assignment

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7b5b21a1b500>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'UnboundLocalError("local variable \'saved_keys\' referenced before assignment")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7b5b21d2fbe0>>')], 'id': 135631336486144, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7b5b21a8d640>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7b5b21d2fbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7b5b21ae7760>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7b5b21ae7760>')], 'id': 135631336953408, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7b5b21ac1480>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC3F9Xso43T9j5y6sJVDhfYg9e_FieRw3iokWy17nuqfbDxRqkgLF5FiK8EdSgzLOU-AU'\n b'NrW94zPuQrlttB538wXNXLgsDnsk2oWbip53DCJAloM=')")], 'id': 135631337165952, 'pre_context': ['        print("Ключи уже сохранены. Выполняем действие с ними...")', "        encrypted_key = request.session.get('user_key')  # Получаем зашифрованный ключ из сессии", '        saved_keys = use_saved_keys(encrypted_key)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '    # Передаем ключ в контекст шаблона и рендерим страницу один раз', "    return render(request, 'index.html', {"], 'context_line': "        'saved_keys': saved_keys if 'has_saved_keys' in request.session else None", 'post_context': ['    })'], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '41914', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x7b5b21a6d030>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7b5b21a51c30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.session.SessionStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 11, 26, 53, 470728, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7b5b21a85d90>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7b5b21a868f0>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'UnboundLocalError', 'exception_value': "local variable 'saved_keys' referenced before assignment", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7b5b21ac1480>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC3F9Xso43T9j5y6sJVDhfYg9e_FieRw3iokWy17nuqfbDxRqkgLF5FiK8EdSgzLOU-AU'\n b'NrW94zPuQrlttB538wXNXLgsDnsk2oWbip53DCJAloM=')")], 'id': 135631337165952, 'pre_context': ['        print("Ключи уже сохранены. Выполняем действие с ними...")', "        encrypted_key = request.session.get('user_key')  # Получаем зашифрованный ключ из сессии", '        saved_keys = use_saved_keys(encrypted_key)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '    # Передаем ключ в контекст шаблона и рендерим страницу один раз', "    return render(request, 'index.html', {"], 'context_line': "        'saved_keys': saved_keys if 'has_saved_keys' in request.session else None", 'post_context': ['    })'], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 11:26:53,483] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 68, in index
    'saved_keys': saved_keys if 'has_saved_keys' in request.session else None
UnboundLocalError: local variable 'saved_keys' referenced before assignment

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7b5b21a1b500>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'UnboundLocalError("local variable \'saved_keys\' referenced before assignment")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7b5b21d2fbe0>>')], 'id': 135631336486144, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7b5b21a8d640>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7b5b21d2fbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7b5b21ae7760>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7b5b21ae7760>')], 'id': 135631336953408, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7b5b21ac1480>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC3F9Xso43T9j5y6sJVDhfYg9e_FieRw3iokWy17nuqfbDxRqkgLF5FiK8EdSgzLOU-AU'\n b'NrW94zPuQrlttB538wXNXLgsDnsk2oWbip53DCJAloM=')")], 'id': 135631337165952, 'pre_context': ['        print("Ключи уже сохранены. Выполняем действие с ними...")', "        encrypted_key = request.session.get('user_key')  # Получаем зашифрованный ключ из сессии", '        saved_keys = use_saved_keys(encrypted_key)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '    # Передаем ключ в контекст шаблона и рендерим страницу один раз', "    return render(request, 'index.html', {"], 'context_line': "        'saved_keys': saved_keys if 'has_saved_keys' in request.session else None", 'post_context': ['    })'], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '41914', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x7b5b21a6d030>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7b5b21a51c30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.session.SessionStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 11, 26, 53, 470728, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7b5b21a85d90>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7b5b21a868f0>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'UnboundLocalError', 'exception_value': "local variable 'saved_keys' referenced before assignment", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7b5b21ac1480>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC3F9Xso43T9j5y6sJVDhfYg9e_FieRw3iokWy17nuqfbDxRqkgLF5FiK8EdSgzLOU-AU'\n b'NrW94zPuQrlttB538wXNXLgsDnsk2oWbip53DCJAloM=')")], 'id': 135631337165952, 'pre_context': ['        print("Ключи уже сохранены. Выполняем действие с ними...")', "        encrypted_key = request.session.get('user_key')  # Получаем зашифрованный ключ из сессии", '        saved_keys = use_saved_keys(encrypted_key)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '    # Передаем ключ в контекст шаблона и рендерим страницу один раз', "    return render(request, 'index.html', {"], 'context_line': "        'saved_keys': saved_keys if 'has_saved_keys' in request.session else None", 'post_context': ['    })'], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 11:26:53,494] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 68, in index
    'saved_keys': saved_keys if 'has_saved_keys' in request.session else None
UnboundLocalError: local variable 'saved_keys' referenced before assignment
[2025-04-25 11:27:02,893] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 68, in index
    'saved_keys': saved_keys if 'has_saved_keys' in request.session else None
UnboundLocalError: local variable 'saved_keys' referenced before assignment

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7c3a22433500>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'UnboundLocalError("local variable \'saved_keys\' referenced before assignment")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7c3a22747be0>>')], 'id': 136589124777216, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7c3a224a5640>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7c3a22747be0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7c3a224ff760>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7c3a224ff760>')], 'id': 136589125244480, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7c3a224d9480>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC3GGbCFtB-1ChFaOQjMAnpXhwNnaLpxtaPPKmfPnc4pi6OaZv-ZPLZo4cNG9Vyc5mIt2'\n b'vnulJnJiagBhKSY1NLN86B8ZM-p5UHv-cItS6C93w1o=')")], 'id': 136589125457024, 'pre_context': ['        print("Ключи уже сохранены. Выполняем действие с ними...")', "        encrypted_key = request.session.get('user_key')  # Получаем зашифрованный ключ из сессии", '        saved_keys = use_saved_keys(encrypted_key)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '    # Передаем ключ в контекст шаблона и рендерим страницу один раз', "    return render(request, 'index.html', {"], 'context_line': "        'saved_keys': saved_keys if 'has_saved_keys' in request.session else None", 'post_context': ['    })'], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '60930', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x7c3a22485030>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7c3a22469c30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.session.SessionStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 11, 27, 2, 892333, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7c3a2249dd90>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7c3a2249e8f0>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'UnboundLocalError', 'exception_value': "local variable 'saved_keys' referenced before assignment", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7c3a224d9480>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC3GGbCFtB-1ChFaOQjMAnpXhwNnaLpxtaPPKmfPnc4pi6OaZv-ZPLZo4cNG9Vyc5mIt2'\n b'vnulJnJiagBhKSY1NLN86B8ZM-p5UHv-cItS6C93w1o=')")], 'id': 136589125457024, 'pre_context': ['        print("Ключи уже сохранены. Выполняем действие с ними...")', "        encrypted_key = request.session.get('user_key')  # Получаем зашифрованный ключ из сессии", '        saved_keys = use_saved_keys(encrypted_key)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '    # Передаем ключ в контекст шаблона и рендерим страницу один раз', "    return render(request, 'index.html', {"], 'context_line': "        'saved_keys': saved_keys if 'has_saved_keys' in request.session else None", 'post_context': ['    })'], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 11:27:02,961] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 68, in index
    'saved_keys': saved_keys if 'has_saved_keys' in request.session else None
UnboundLocalError: local variable 'saved_keys' referenced before assignment

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7c3a22433500>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'UnboundLocalError("local variable \'saved_keys\' referenced before assignment")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7c3a22747be0>>')], 'id': 136589124777216, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7c3a224a5640>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7c3a22747be0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7c3a224ff760>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7c3a224ff760>')], 'id': 136589125244480, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7c3a224d9480>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC3GGbCFtB-1ChFaOQjMAnpXhwNnaLpxtaPPKmfPnc4pi6OaZv-ZPLZo4cNG9Vyc5mIt2'\n b'vnulJnJiagBhKSY1NLN86B8ZM-p5UHv-cItS6C93w1o=')")], 'id': 136589125457024, 'pre_context': ['        print("Ключи уже сохранены. Выполняем действие с ними...")', "        encrypted_key = request.session.get('user_key')  # Получаем зашифрованный ключ из сессии", '        saved_keys = use_saved_keys(encrypted_key)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '    # Передаем ключ в контекст шаблона и рендерим страницу один раз', "    return render(request, 'index.html', {"], 'context_line': "        'saved_keys': saved_keys if 'has_saved_keys' in request.session else None", 'post_context': ['    })'], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '60930', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x7c3a22485030>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7c3a22469c30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.session.SessionStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 11, 27, 2, 892333, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7c3a2249dd90>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7c3a2249e8f0>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'UnboundLocalError', 'exception_value': "local variable 'saved_keys' referenced before assignment", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7c3a224d9480>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC3GGbCFtB-1ChFaOQjMAnpXhwNnaLpxtaPPKmfPnc4pi6OaZv-ZPLZo4cNG9Vyc5mIt2'\n b'vnulJnJiagBhKSY1NLN86B8ZM-p5UHv-cItS6C93w1o=')")], 'id': 136589125457024, 'pre_context': ['        print("Ключи уже сохранены. Выполняем действие с ними...")', "        encrypted_key = request.session.get('user_key')  # Получаем зашифрованный ключ из сессии", '        saved_keys = use_saved_keys(encrypted_key)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '    # Передаем ключ в контекст шаблона и рендерим страницу один раз', "    return render(request, 'index.html', {"], 'context_line': "        'saved_keys': saved_keys if 'has_saved_keys' in request.session else None", 'post_context': ['    })'], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 11:27:03,021] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 68, in index
    'saved_keys': saved_keys if 'has_saved_keys' in request.session else None
UnboundLocalError: local variable 'saved_keys' referenced before assignment
[2025-04-25 11:27:04,537] DEBUG django.db.backends: (0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 11:27:04.524353' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 11:27:04.524353', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 11:27:04,566] DEBUG django.template: Exception while resolving variable 'pairs' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [pairs] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: 'BrkiXRczP5PliYjoNEJ6Z2GC86iP5inDErGs0XMXfWYbQqT779LR7jBICaiLxkVs'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x7c3a224a1480>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x7c3a224a1480>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {'saved_keys': None}, {}]
[2025-04-25 11:27:04,571] DEBUG django.template: Exception while resolving variable 'prices' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [prices] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: 'BrkiXRczP5PliYjoNEJ6Z2GC86iP5inDErGs0XMXfWYbQqT779LR7jBICaiLxkVs'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x7c3a224a1480>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x7c3a224a1480>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {'saved_keys': None}, {}]
[2025-04-25 11:31:34,822] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 11:31:34.817069' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 11:31:34.817069', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 11:31:34,824] DEBUG django.template: Exception while resolving variable 'pairs' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'pairs'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [pairs] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: 'yNVgqosL2fPHthLR60WWuTx0KEQ1kTMJBNhqtu29s6Yx1JlAqvYHCas6eIQXMVky'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x7c3a21788700>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x7c3a21788700>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {'saved_keys': None}, {}]
[2025-04-25 11:31:34,827] DEBUG django.template: Exception while resolving variable 'prices' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'prices'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [prices] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: 'yNVgqosL2fPHthLR60WWuTx0KEQ1kTMJBNhqtu29s6Yx1JlAqvYHCas6eIQXMVky'>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x7c3a21788700>>, 'perms': PermWrapper(<SimpleLazyObject: <function AuthenticationMiddleware.process_request.<locals>.<lambda> at 0x7c3a21788700>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {'saved_keys': None}, {}]
[2025-04-25 11:31:47,929] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 68, in index
    'saved_keys': saved_keys if 'has_saved_keys' in request.session else None
UnboundLocalError: local variable 'saved_keys' referenced before assignment

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7ae05e10c240>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'UnboundLocalError("local variable \'saved_keys\' referenced before assignment")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7ae05efc3be0>>')], 'id': 135104069419584, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7ae05efae540>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7ae05efc3be0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7ae05e0ef760>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7ae05e0ef760>')], 'id': 135104084763968, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7ae05ed2b400>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC3KjRAFRHDnWZTfZ4X2OKUo1z9BKxQhbxBApm3T3l_3C2bZQ0bk9Qdx0ko9CUvVRY2-D'\n b'TgYzFcUZmVGmABq3TmNBV0Uw8_OoinKfPs92l7oOR_Q=')")], 'id': 135104082129920, 'pre_context': ['        print("Ключи уже сохранены. Выполняем действие с ними...")', "        encrypted_key = request.session.get('user_key')  # Получаем зашифрованный ключ из сессии", '        saved_keys = use_saved_keys(encrypted_key)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '    # Передаем ключ в контекст шаблона и рендерим страницу один раз', "    return render(request, 'index.html', {"], 'context_line': "        'saved_keys': saved_keys if 'has_saved_keys' in request.session else None", 'post_context': ['    })'], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '33958', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x7ae05ed01030>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7ae05ece5c30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.session.SessionStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 11, 31, 47, 928711, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7ae05ed19d90>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7ae05ed1a8f0>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'UnboundLocalError', 'exception_value': "local variable 'saved_keys' referenced before assignment", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7ae05ed2b400>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC3KjRAFRHDnWZTfZ4X2OKUo1z9BKxQhbxBApm3T3l_3C2bZQ0bk9Qdx0ko9CUvVRY2-D'\n b'TgYzFcUZmVGmABq3TmNBV0Uw8_OoinKfPs92l7oOR_Q=')")], 'id': 135104082129920, 'pre_context': ['        print("Ключи уже сохранены. Выполняем действие с ними...")', "        encrypted_key = request.session.get('user_key')  # Получаем зашифрованный ключ из сессии", '        saved_keys = use_saved_keys(encrypted_key)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '    # Передаем ключ в контекст шаблона и рендерим страницу один раз', "    return render(request, 'index.html', {"], 'context_line': "        'saved_keys': saved_keys if 'has_saved_keys' in request.session else None", 'post_context': ['    })'], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 11:31:47,941] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 68, in index
    'saved_keys': saved_keys if 'has_saved_keys' in request.session else None
UnboundLocalError: local variable 'saved_keys' referenced before assignment

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7ae05e10c240>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'UnboundLocalError("local variable \'saved_keys\' referenced before assignment")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7ae05efc3be0>>')], 'id': 135104069419584, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7ae05efae540>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7ae05efc3be0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7ae05e0ef760>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7ae05e0ef760>')], 'id': 135104084763968, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7ae05ed2b400>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC3KjRAFRHDnWZTfZ4X2OKUo1z9BKxQhbxBApm3T3l_3C2bZQ0bk9Qdx0ko9CUvVRY2-D'\n b'TgYzFcUZmVGmABq3TmNBV0Uw8_OoinKfPs92l7oOR_Q=')")], 'id': 135104082129920, 'pre_context': ['        print("Ключи уже сохранены. Выполняем действие с ними...")', "        encrypted_key = request.session.get('user_key')  # Получаем зашифрованный ключ из сессии", '        saved_keys = use_saved_keys(encrypted_key)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '    # Передаем ключ в контекст шаблона и рендерим страницу один раз', "    return render(request, 'index.html', {"], 'context_line': "        'saved_keys': saved_keys if 'has_saved_keys' in request.session else None", 'post_context': ['    })'], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '33958', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x7ae05ed01030>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7ae05ece5c30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.session.SessionStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 11, 31, 47, 928711, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7ae05ed19d90>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7ae05ed1a8f0>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'UnboundLocalError', 'exception_value': "local variable 'saved_keys' referenced before assignment", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7ae05ed2b400>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC3KjRAFRHDnWZTfZ4X2OKUo1z9BKxQhbxBApm3T3l_3C2bZQ0bk9Qdx0ko9CUvVRY2-D'\n b'TgYzFcUZmVGmABq3TmNBV0Uw8_OoinKfPs92l7oOR_Q=')")], 'id': 135104082129920, 'pre_context': ['        print("Ключи уже сохранены. Выполняем действие с ними...")', "        encrypted_key = request.session.get('user_key')  # Получаем зашифрованный ключ из сессии", '        saved_keys = use_saved_keys(encrypted_key)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '    # Передаем ключ в контекст шаблона и рендерим страницу один раз', "    return render(request, 'index.html', {"], 'context_line': "        'saved_keys': saved_keys if 'has_saved_keys' in request.session else None", 'post_context': ['    })'], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 11:31:47,952] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 68, in index
    'saved_keys': saved_keys if 'has_saved_keys' in request.session else None
UnboundLocalError: local variable 'saved_keys' referenced before assignment
[2025-04-25 11:31:59,710] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 11:31:59.702272' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 11:31:59.702272', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 11:31:59,729] DEBUG django.db.backends: (0.000) BEGIN; args=None; alias=default
[2025-04-25 11:31:59,735] DEBUG django.db.backends: (0.005) UPDATE "django_session" SET "session_data" = '.eJxVj1EKwjAQRK8S9jsfqUmw9BBeoCkhbVdFsQXXCiLe3ZKJYL8eM8vOMG86J4mSnjzGK7-Emsd9YU3xxiLpxKtBbRsoxovM088NpJXRaue1ChTCYlxVZ7gqwx4BBnrcBqg9lIXywKA2_3h0ODoDs2DM8NW_KnB9CUWaTZv-Eop-WzfqME95yrqBuo4-X2_kUVg:1u8HHj:icdjeggeGqWJWyKCteC3o315fL4qJTx79ryjrDbeNaQ', "expire_date" = '2025-05-09 11:31:59.729139' WHERE "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj'; args=('.eJxVj1EKwjAQRK8S9jsfqUmw9BBeoCkhbVdFsQXXCiLe3ZKJYL8eM8vOMG86J4mSnjzGK7-Emsd9YU3xxiLpxKtBbRsoxovM088NpJXRaue1ChTCYlxVZ7gqwx4BBnrcBqg9lIXywKA2_3h0ODoDs2DM8NW_KnB9CUWaTZv-Eop-WzfqME95yrqBuo4-X2_kUVg:1u8HHj:icdjeggeGqWJWyKCteC3o315fL4qJTx79ryjrDbeNaQ', '2025-05-09 11:31:59.729139', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 11:31:59,752] DEBUG django.db.backends: (0.016) COMMIT; args=None; alias=default
[2025-04-25 11:34:09,842] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 11:34:09.835474' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 11:34:09.835474', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 11:34:09,844] DEBUG django.db.backends: (0.000) BEGIN; args=None; alias=default
[2025-04-25 11:34:09,849] DEBUG django.db.backends: (0.004) UPDATE "django_session" SET "session_data" = '.eJzlj1EKwjAQRK-y7Hc-EpNg6SG8QFNC2q6KYgtuK4h4d0s2gj2DX4-ZYWeZF54TR04PGuKVnoz1fF9IYbwRczrRamDTBIzxwtP4dQMq0Ap2XkHAEBbtTJXhTIY9CkjQSdaL2ouyorygh829HDoJnRazYMjw5lcVuK6USptNm_-lVP7bqobDNOYp6wZsFfzFzBbfH4FDlJ8:1u8HJp:3TROhyFcZsE_2jG5_amEfDQmli7qVTH_HUmIjLTfrMQ', "expire_date" = '2025-05-09 11:34:09.844260' WHERE "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj'; args=('.eJzlj1EKwjAQRK-y7Hc-EpNg6SG8QFNC2q6KYgtuK4h4d0s2gj2DX4-ZYWeZF54TR04PGuKVnoz1fF9IYbwRczrRamDTBIzxwtP4dQMq0Ap2XkHAEBbtTJXhTIY9CkjQSdaL2ouyorygh829HDoJnRazYMjw5lcVuK6USptNm_-lVP7bqobDNOYp6wZsFfzFzBbfH4FDlJ8:1u8HJp:3TROhyFcZsE_2jG5_amEfDQmli7qVTH_HUmIjLTfrMQ', '2025-05-09 11:34:09.844260', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 11:34:09,864] DEBUG django.db.backends: (0.015) COMMIT; args=None; alias=default
[2025-04-25 11:34:24,567] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 68, in index
    'saved_keys': saved_keys if 'has_saved_keys' in request.session else None
UnboundLocalError: local variable 'saved_keys' referenced before assignment

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7ec6fbd69440>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'UnboundLocalError("local variable \'saved_keys\' referenced before assignment")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7ec6fbd4fbe0>>')], 'id': 139393093768256, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7ec6fbab7600>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7ec6fbd4fbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7ec6fae7b760>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7ec6fae7b760>')], 'id': 139393090942464, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7ec6fbd3e280>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC3NARMOSIqNijD5LCBNonjwYZtT-TYSvDvNM9G4DhG6Re502w6Ba5aAiMrnZ6ojNIV-6'\n b'BZdOehVBLfGDLNX853hEDr0zxArnO3ntkj7iheqhl6g=')")], 'id': 139393093591680, 'pre_context': ['        print("Ключи уже сохранены. Выполняем действие с ними...")', "        encrypted_key = request.session.get('user_key')  # Получаем зашифрованный ключ из сессии", '        saved_keys = use_saved_keys(encrypted_key)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '    # Передаем ключ в контекст шаблона и рендерим страницу один раз', "    return render(request, 'index.html', {"], 'context_line': "        'saved_keys': saved_keys if 'has_saved_keys' in request.session else None", 'post_context': ['    })'], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '54842', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x7ec6fba8d030>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7ec6fba71c30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.session.SessionStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 11, 34, 24, 567151, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7ec6fbaa5d90>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7ec6fbaa68f0>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'UnboundLocalError', 'exception_value': "local variable 'saved_keys' referenced before assignment", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7ec6fbd3e280>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC3NARMOSIqNijD5LCBNonjwYZtT-TYSvDvNM9G4DhG6Re502w6Ba5aAiMrnZ6ojNIV-6'\n b'BZdOehVBLfGDLNX853hEDr0zxArnO3ntkj7iheqhl6g=')")], 'id': 139393093591680, 'pre_context': ['        print("Ключи уже сохранены. Выполняем действие с ними...")', "        encrypted_key = request.session.get('user_key')  # Получаем зашифрованный ключ из сессии", '        saved_keys = use_saved_keys(encrypted_key)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '    # Передаем ключ в контекст шаблона и рендерим страницу один раз', "    return render(request, 'index.html', {"], 'context_line': "        'saved_keys': saved_keys if 'has_saved_keys' in request.session else None", 'post_context': ['    })'], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 11:34:24,593] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 68, in index
    'saved_keys': saved_keys if 'has_saved_keys' in request.session else None
UnboundLocalError: local variable 'saved_keys' referenced before assignment

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7ec6fbd69440>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'UnboundLocalError("local variable \'saved_keys\' referenced before assignment")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7ec6fbd4fbe0>>')], 'id': 139393093768256, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7ec6fbab7600>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7ec6fbd4fbe0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7ec6fae7b760>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7ec6fae7b760>')], 'id': 139393090942464, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7ec6fbd3e280>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC3NARMOSIqNijD5LCBNonjwYZtT-TYSvDvNM9G4DhG6Re502w6Ba5aAiMrnZ6ojNIV-6'\n b'BZdOehVBLfGDLNX853hEDr0zxArnO3ntkj7iheqhl6g=')")], 'id': 139393093591680, 'pre_context': ['        print("Ключи уже сохранены. Выполняем действие с ними...")', "        encrypted_key = request.session.get('user_key')  # Получаем зашифрованный ключ из сессии", '        saved_keys = use_saved_keys(encrypted_key)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '    # Передаем ключ в контекст шаблона и рендерим страницу один раз', "    return render(request, 'index.html', {"], 'context_line': "        'saved_keys': saved_keys if 'has_saved_keys' in request.session else None", 'post_context': ['    })'], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '54842', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x7ec6fba8d030>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7ec6fba71c30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.session.SessionStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 11, 34, 24, 567151, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': None, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7ec6fbaa5d90>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7ec6fbaa68f0>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'UnboundLocalError', 'exception_value': "local variable 'saved_keys' referenced before assignment", 'lastframe': {'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7ec6fbd3e280>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 68, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('keys', "'новые_ключи'"), ('encrypted_key', "(b'gAAAAABoC3NARMOSIqNijD5LCBNonjwYZtT-TYSvDvNM9G4DhG6Re502w6Ba5aAiMrnZ6ojNIV-6'\n b'BZdOehVBLfGDLNX853hEDr0zxArnO3ntkj7iheqhl6g=')")], 'id': 139393093591680, 'pre_context': ['        print("Ключи уже сохранены. Выполняем действие с ними...")', "        encrypted_key = request.session.get('user_key')  # Получаем зашифрованный ключ из сессии", '        saved_keys = use_saved_keys(encrypted_key)  # Работаем с уже сохранёнными ключами', "        messages.success(request, f'Используем сохранённые ключи: {saved_keys}')", '', '    # Передаем ключ в контекст шаблона и рендерим страницу один раз', "    return render(request, 'index.html', {"], 'context_line': "        'saved_keys': saved_keys if 'has_saved_keys' in request.session else None", 'post_context': ['    })'], 'pre_context_lineno': 61, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 11:34:24,616] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 68, in index
    'saved_keys': saved_keys if 'has_saved_keys' in request.session else None
UnboundLocalError: local variable 'saved_keys' referenced before assignment
[2025-04-25 11:34:25,969] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 11:34:25.956999' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 11:34:25.956999', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 11:34:25,997] DEBUG django.db.backends: (0.000) BEGIN; args=None; alias=default
[2025-04-25 11:34:26,003] DEBUG django.db.backends: (0.005) UPDATE "django_session" SET "session_data" = '.eJztj1EKwjAQRK-y7Hc-EpNg6SG8QFNC2q6KYguuFUS8uyUbwV5B_HrMDDvLPPGYOHK60xDP9GCsb9eZFMYLMacDLQY2TcAYTzyNHzegAq1g4xUEDGHWzlQZzmTYvYAEnWS9qK0oK8oLeljdy6GT0GkxC4YMb75VgetKqbTZtPpfSuW_rWrYTWOesmzAVsF_5u_MbPH1BktG1-Y:1u8HK5:WroK7tmCtXIjgZjAMOBB5aZ7w9PlRM5lW68LsnBibCo', "expire_date" = '2025-05-09 11:34:25.997197' WHERE "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj'; args=('.eJztj1EKwjAQRK-y7Hc-EpNg6SG8QFNC2q6KYguuFUS8uyUbwV5B_HrMDDvLPPGYOHK60xDP9GCsb9eZFMYLMacDLQY2TcAYTzyNHzegAq1g4xUEDGHWzlQZzmTYvYAEnWS9qK0oK8oLeljdy6GT0GkxC4YMb75VgetKqbTZtPpfSuW_rWrYTWOesmzAVsF_5u_MbPH1BktG1-Y:1u8HK5:WroK7tmCtXIjgZjAMOBB5aZ7w9PlRM5lW68LsnBibCo', '2025-05-09 11:34:25.997197', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 11:34:26,023] DEBUG django.db.backends: (0.020) COMMIT; args=None; alias=default
[2025-04-25 11:34:29,472] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern '' [name='index']>]], 'path': 'login/'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-25 11:34:29,484] WARNING django.request: Not Found: /login/
[2025-04-25 11:34:33,086] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern '' [name='index']>]], 'path': 'signup/'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-25 11:34:33,092] WARNING django.request: Not Found: /signup/
[2025-04-25 11:36:29,990] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 11:36:29.983999' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 11:36:29.983999', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 11:36:29,993] DEBUG django.db.backends: (0.000) BEGIN; args=None; alias=default
[2025-04-25 11:36:29,998] DEBUG django.db.backends: (0.005) UPDATE "django_session" SET "session_data" = '.eJztj1EKwjAQRK-y7Hc-GpNg6SG8QFNC2q6KYgtuK4h4d0s2gj2C0K_HzLCzzAvPkQPHB_XhSk_GarrPpDDciDmeaDGwrj2GcOFx-LoeFRQKdk6BR-_nwuoyweoEcxSQoJWsE7UXZUQ5QQerezm0EtpCzIw-welflWHbXCptJq7-51L5b8oKDuOQpiwbsFGwzdxm_tnMBt8fzd4bPA:1u8HM5:QKRk1OLsDpwL9lOcgfXbKUjqAhB2O_f3wyuuppQ4qdc', "expire_date" = '2025-05-09 11:36:29.993070' WHERE "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj'; args=('.eJztj1EKwjAQRK-y7Hc-GpNg6SG8QFNC2q6KYgtuK4h4d0s2gj2C0K_HzLCzzAvPkQPHB_XhSk_GarrPpDDciDmeaDGwrj2GcOFx-LoeFRQKdk6BR-_nwuoyweoEcxSQoJWsE7UXZUQ5QQerezm0EtpCzIw-welflWHbXCptJq7-51L5b8oKDuOQpiwbsFGwzdxm_tnMBt8fzd4bPA:1u8HM5:QKRk1OLsDpwL9lOcgfXbKUjqAhB2O_f3wyuuppQ4qdc', '2025-05-09 11:36:29.993070', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 11:36:30,015] DEBUG django.db.backends: (0.016) COMMIT; args=None; alias=default
[2025-04-25 11:36:32,506] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern '' [name='index']>]], 'path': 'signup/'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-25 11:36:32,515] WARNING django.request: Not Found: /signup/
[2025-04-25 11:36:35,261] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern '' [name='index']>]], 'path': 'login/'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-25 11:36:35,267] WARNING django.request: Not Found: /login/
[2025-04-25 11:36:39,100] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 11:36:39.094100' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 11:36:39.094100', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 11:36:39,104] DEBUG django.db.backends: (0.000) BEGIN; args=None; alias=default
[2025-04-25 11:36:39,110] DEBUG django.db.backends: (0.005) UPDATE "django_session" SET "session_data" = '.eJztj0EKwjAQRa8yzDqLxCRYeggv0JSQtlFRbMFpBRHvbslEsDdwkdXjzzB_eC88B_IUHnHw1_gkrOf7EgX6WyQKp7gOsGkcen-hafxOHQqQAnZWgEPnFmlUlWBUgj4yIqPjXc9pz0lzsoweNvd8aHhpJA8zhgSrflOG6XIpt-mw-Z9L-b-uajhMY1JZHbAVUDSLZtH8R80W3x8JKV6D:1u8HMF:P9XpPLzonYtblcNmy1ovU0LfgEWC5z1eWLL_H0L-ViQ', "expire_date" = '2025-05-09 11:36:39.104289' WHERE "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj'; args=('.eJztj0EKwjAQRa8yzDqLxCRYeggv0JSQtlFRbMFpBRHvbslEsDdwkdXjzzB_eC88B_IUHnHw1_gkrOf7EgX6WyQKp7gOsGkcen-hafxOHQqQAnZWgEPnFmlUlWBUgj4yIqPjXc9pz0lzsoweNvd8aHhpJA8zhgSrflOG6XIpt-mw-Z9L-b-uajhMY1JZHbAVUDSLZtH8R80W3x8JKV6D:1u8HMF:P9XpPLzonYtblcNmy1ovU0LfgEWC5z1eWLL_H0L-ViQ', '2025-05-09 11:36:39.104289', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 11:36:39,127] DEBUG django.db.backends: (0.016) COMMIT; args=None; alias=default
[2025-04-25 11:39:08,541] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 11:39:08.534987' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 11:39:08.534987', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 11:39:08,544] DEBUG django.db.backends: (0.000) BEGIN; args=None; alias=default
[2025-04-25 11:39:08,549] DEBUG django.db.backends: (0.004) UPDATE "django_session" SET "session_data" = '.eJztj0EKwjAQRa8yzDqLxCRYeggv0JSQtlFRbMFpBRHvbslEsCdwk9XjzzB_eC88B_IUHnHw1_gkrOf7EgX6WyQKp7gOsGkcen-hafxOHQqQAnZWgEPnFmlUlWBUgj4yIqPjXc9pz0lzsoweNvd8aHhpJA8zhgSrflOG6XIpt-mw-Z9L-b-uajhMY1JZHbAVUDSLZtEsmn_TbPH9Afz6oco:1u8HOe:JIpYMC9Q-cjhUvHzh6m3E_dkng3wYUzSv7HEr_813mE', "expire_date" = '2025-05-09 11:39:08.543975' WHERE "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj'; args=('.eJztj0EKwjAQRa8yzDqLxCRYeggv0JSQtlFRbMFpBRHvbslEsCdwk9XjzzB_eC88B_IUHnHw1_gkrOf7EgX6WyQKp7gOsGkcen-hafxOHQqQAnZWgEPnFmlUlWBUgj4yIqPjXc9pz0lzsoweNvd8aHhpJA8zhgSrflOG6XIpt-mw-Z9L-b-uajhMY1JZHbAVUDSLZtEsmn_TbPH9Afz6oco:1u8HOe:JIpYMC9Q-cjhUvHzh6m3E_dkng3wYUzSv7HEr_813mE', '2025-05-09 11:39:08.543975', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 11:39:08,564] DEBUG django.db.backends: (0.015) COMMIT; args=None; alias=default
[2025-04-25 11:42:03,440] DEBUG django.db.backends: (0.006) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 11:42:03.432474' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 11:42:03.432474', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 11:42:03,443] DEBUG django.db.backends: (0.000) BEGIN; args=None; alias=default
[2025-04-25 11:42:03,450] DEBUG django.db.backends: (0.006) UPDATE "django_session" SET "session_data" = '.eJztj0EKwjAQRa8yzDqLxCRYeggv0JSQtlFRbMFpBRHvbslEsAdwl9XjzzB_eC88B_IUHnHw1_gkrOf7EgX6WyQKp7gOsGkcen-hafxOHQqQAnZWgEPnFmlUlWBUgj4yIqPjXc9pz0lzsoweNvd8aHhpJA8zhgSrflOG6XIpt-mw-Z9L-b-uajhMY1JZHbAVUDSLZtEsmkXzv5otvj-pfuUR:1u8HRT:k4NZ-wyfAwDbRkenoaHXY1klOWlTVQsvhd8spDGb89A', "expire_date" = '2025-05-09 11:42:03.443161' WHERE "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj'; args=('.eJztj0EKwjAQRa8yzDqLxCRYeggv0JSQtlFRbMFpBRHvbslEsAdwl9XjzzB_eC88B_IUHnHw1_gkrOf7EgX6WyQKp7gOsGkcen-hafxOHQqQAnZWgEPnFmlUlWBUgj4yIqPjXc9pz0lzsoweNvd8aHhpJA8zhgSrflOG6XIpt-mw-Z9L-b-uajhMY1JZHbAVUDSLZtEsmkXzv5otvj-pfuUR:1u8HRT:k4NZ-wyfAwDbRkenoaHXY1klOWlTVQsvhd8spDGb89A', '2025-05-09 11:42:03.443161', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 11:42:03,464] DEBUG django.db.backends: (0.014) COMMIT; args=None; alias=default
[2025-04-25 11:42:19,043] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'login/' [name='login']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'profile/' [name='profile']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'orders/' [name='orders']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'logout/' [name='logout']>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-25 11:42:19,053] WARNING django.request: Not Found: /
[2025-04-25 11:42:23,785] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'login/' [name='login']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'profile/' [name='profile']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'orders/' [name='orders']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'logout/' [name='logout']>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-25 11:42:23,794] WARNING django.request: Not Found: /
[2025-04-25 11:46:07,642] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'login/' [name='login']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'profile/' [name='profile']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'orders/' [name='orders']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'logout/' [name='logout']>]], 'path': ''}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-25 11:46:07,693] WARNING django.request: Not Found: /
[2025-04-25 11:46:31,717] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 11:46:31.707755' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 11:46:31.707755', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 11:59:06,448] DEBUG django.db.backends: (0.011) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 11:59:06.380822' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 11:59:06.380822', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 12:03:07,870] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 12:03:07.861039' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 12:03:07.861039', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 12:04:01,439] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 12:04:01.424317' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 12:04:01.424317', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 12:04:09,168] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 12:04:09.163035' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 12:04:09.163035', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 12:04:50,151] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 12:04:50.145632' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 12:04:50.145632', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 12:07:55,365] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 12:07:55.361509' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 12:07:55.361509', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 12:21:54,491] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 510, in parse
    compile_func = self.tags[command]
KeyError: 'static'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 5, in index
    return render(request, 'index.html')  # Здесь загружается главная страница
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py", line 25, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 62, in render_to_string
    return template.render(context, request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/backends/django.py", line 107, in render
    return self.template.render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 171, in render
    return self._render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 163, in _render
    return self.nodelist.render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 1016, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 1016, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 977, in render_annotated
    return self.render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader_tags.py", line 199, in render
    template = context.template.engine.select_template(template_name)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py", line 208, in select_template
    return self.get_template(template_name)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py", line 177, in get_template
    template, origin = self.find_template(template_name)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py", line 159, in find_template
    template = loader.get_template(name, skip=skip)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loaders/cached.py", line 57, in get_template
    template = super().get_template(template_name, skip)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loaders/base.py", line 28, in get_template
    return Template(
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 154, in __init__
    self.nodelist = self.compile_nodelist()
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 196, in compile_nodelist
    nodelist = parser.parse()
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 512, in parse
    self.invalid_block_tag(token, command, parse_until)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 577, in invalid_block_tag
    raise self.error(
django.template.exceptions.TemplateSyntaxError: Invalid block tag on line 3: 'static'. Did you forget to register or load this tag?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fb96c0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'parse', 'lineno': 510, 'vars': [('self', '<Parser tokens=[<Text token: "            </ul> ...">, <Block token: "endif...">, <Text token: "                   ...">, <Block token: "else...">, <Text token: "                   ...">, <Block token: "if user.is_authentic...">, <Text token: ""></head><nav cla...">]>'), ('parse_until', '[]'), ('nodelist', "[<TextNode: '<!-- templates/header.htm'>]"), ('token', '<Block token: "static \'css/styles.c...">'), ('token_type', '2'), ('command', "'static'")], 'id': 140163120076480, 'pre_context': ['                # Add the token to the command stack. This is used for error', '                # messages if further parsing fails due to an unclosed block', '                # tag.', '                self.command_stack.append((command, token))', '                # Get the tag callback function from the ones registered with', '                # the parser.', '                try:'], 'context_line': '                    compile_func = self.tags[command]', 'post_context': ['                except KeyError:', '                    self.invalid_block_tag(token, command, parse_until)', '                # Compile the callback into a node object and add it to', '                # the node list.', '                try:', '                    compiled_result = compile_func(self, token)'], 'pre_context_lineno': 503, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fcbf00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'TemplateSyntaxError("Invalid block tag on line 3: \'static\'. Did you forget to register or load this tag?")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7f7a45223be0>>')], 'id': 140163120152320, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fcbe80>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7f7a45223be0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7f7a44f7d510>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7f7a44f7d510>')], 'id': 140163120152192, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fcbec0>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 5, 'vars': [('request', "<WSGIRequest: GET '/'>")], 'id': 140163120152256, 'pre_context': ['# chatbot/views.py', 'from django.shortcuts import render', '', 'def index(request):'], 'context_line': "    return render(request, 'index.html')  # Здесь загружается главная страница", 'post_context': ['', '', 'def login(request):', "    return render(request, 'login.html')", '', ''], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44f8e5c0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py', 'function': 'render', 'lineno': 25, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('template_name', "'index.html'"), ('context', 'None'), ('content_type', 'None'), ('status', 'None'), ('using', 'None')], 'id': 140163119900096, 'pre_context': ['def render(', '    request, template_name, context=None, content_type=None, status=None, using=None', '):', '    """', '    Return an HttpResponse whose content is filled with the result of calling', '    django.template.loader.render_to_string() with the passed arguments.', '    """'], 'context_line': '    content = loader.render_to_string(template_name, context, request, using=using)', 'post_context': ['    return HttpResponse(content, content_type, status)', '', '', 'def redirect(to, *args, permanent=False, preserve_request=False, **kwargs):', '    """', '    Return an HttpResponseRedirect to the appropriate URL for the arguments'], 'pre_context_lineno': 18, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fafdc0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'render_to_string', 'lineno': 62, 'vars': [('template_name', "'index.html'"), ('context', 'None'), ('request', "<WSGIRequest: GET '/'>"), ('using', 'None'), ('template', '<django.template.backends.django.Template object at 0x7f7a44f87b20>')], 'id': 140163120037312, 'pre_context': ['', '    template_name may be a string or a list of strings.', '    """', '    if isinstance(template_name, (list, tuple)):', '        template = select_template(template_name, using=using)', '    else:', '        template = get_template(template_name, using=using)'], 'context_line': '    return template.render(context, request)', 'post_context': ['', '', 'def _engine_list(using=None):', '    return engines.all() if using is None else [engines[using]]'], 'pre_context_lineno': 55, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a464c8380>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/backends/django.py', 'function': 'render', 'lineno': 107, 'vars': [('self', '<django.template.backends.django.Template object at 0x7f7a44f87b20>'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]"), ('request', "<WSGIRequest: GET '/'>")], 'id': 140163142157184, 'pre_context': ['        return self.template.origin', '', '    def render(self, context=None, request=None):', '        context = make_context(', '            context, request, autoescape=self.backend.engine.autoescape', '        )', '        try:'], 'context_line': '            return self.template.render(context)', 'post_context': ['        except TemplateDoesNotExist as exc:', '            reraise(exc, self.backend)', '', '', 'def copy_exception(exc, backend=None):', '    """'], 'pre_context_lineno': 100, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fcbc80>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'render', 'lineno': 171, 'vars': [('self', '<Template template_string="<!-- templates/index...">'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 140163120151680, 'pre_context': ['', '    def render(self, context):', '        "Display stage -- can be called many times"', '        with context.render_context.push_state(self):', '            if context.template is None:', '                with context.bind_template(self):', '                    context.template_name = self.name'], 'context_line': '                    return self._render(context)', 'post_context': ['            else:', '                return self._render(context)', '', '    def compile_nodelist(self):', '        """', '        Parse and compile the template source into a nodelist. If debug'], 'pre_context_lineno': 164, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fcad40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': '_render', 'lineno': 163, 'vars': [('self', '<Template template_string="<!-- templates/index...">'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 140163120147776, 'pre_context': ['    def __repr__(self):', '        return \'<%s template_string="%s...">\' % (', '            self.__class__.__qualname__,', '            self.source[:20].replace("\\n", ""),', '        )', '', '    def _render(self, context):'], 'context_line': '        return self.nodelist.render(context)', 'post_context': ['', '    def render(self, context):', '        "Display stage -- can be called many times"', '        with context.render_context.push_state(self):', '            if context.template is None:', '                with context.bind_template(self):'], 'pre_context_lineno': 156, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fca900>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'render', 'lineno': 1016, 'vars': [('self', '[<TextNode: \'<!-- templates/index.html\'>,\n <IncludeNode: template=<FilterExpression "\'header.html\'">>,\n <TextNode: \'\\n\\n<!-- templates/index.ht\'>]'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 140163120146688, 'pre_context': ['', 'class NodeList(list):', '    # Set to True the first time a non-TextNode is inserted by', '    # extend_nodelist().', '    contains_nontext = False', '', '    def render(self, context):'], 'context_line': '        return SafeString("".join([node.render_annotated(context) for node in self]))', 'post_context': ['', '    def get_nodes_by_type(self, nodetype):', '        "Return a list of all nodes of the given type"', '        nodes = []', '        for node in self:', '            nodes.extend(node.get_nodes_by_type(nodetype))'], 'pre_context_lineno': 1009, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fca680>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': '<listcomp>', 'lineno': 1016, 'vars': [('.0', '<list_iterator object at 0x7f7a44fa2c80>'), ('node', '<IncludeNode: template=<FilterExpression "\'header.html\'">>'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 140163120146048, 'pre_context': ['', 'class NodeList(list):', '    # Set to True the first time a non-TextNode is inserted by', '    # extend_nodelist().', '    contains_nontext = False', '', '    def render(self, context):'], 'context_line': '        return SafeString("".join([node.render_annotated(context) for node in self]))', 'post_context': ['', '    def get_nodes_by_type(self, nodetype):', '        "Return a list of all nodes of the given type"', '        nodes = []', '        for node in self:', '            nodes.extend(node.get_nodes_by_type(nodetype))'], 'pre_context_lineno': 1009, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fca240>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'render_annotated', 'lineno': 977, 'vars': [('self', '<IncludeNode: template=<FilterExpression "\'header.html\'">>'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 140163120144960, 'pre_context': ['        """', '        Render the node. If debug is True and an exception occurs during', '        rendering, the exception is annotated with contextual line information', '        where it occurred in the template. For internal usage this method is', '        preferred over using the render method directly.', '        """', '        try:'], 'context_line': '            return self.render(context)', 'post_context': ['        except Exception as e:', '            if context.template.engine.debug:', '                # Store the actual node that caused the exception.', '                if not hasattr(e, "_culprit_node"):', '                    e._culprit_node = self', '                if ('], 'pre_context_lineno': 970, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fc9f40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader_tags.py', 'function': 'render', 'lineno': 199, 'vars': [('self', '<IncludeNode: template=<FilterExpression "\'header.html\'">>'), ('template', 'None'), ('template_name', "('header.html',)"), ('cache', '{}'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 140163120144192, 'pre_context': ['                    ),', '                )', '            else:', '                template_name = tuple(template_name)', '            cache = context.render_context.dicts[0].setdefault(self, {})', '            template = cache.get(template_name)', '            if template is None:'], 'context_line': '                template = context.template.engine.select_template(template_name)', 'post_context': ['                cache[template_name] = template', '        # Use the base.Template of a backends.django.Template.', '        elif hasattr(template, "template"):', '            template = template.template', '        values = {', '            name: var.resolve(context) for name, var in self.extra_context.items()'], 'pre_context_lineno': 192, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fc8400>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py', 'function': 'select_template', 'lineno': 208, 'vars': [('self', "<Engine: app_dirs=True context_processors=['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages'] debug=True loaders=[('django.template.loaders.cached.Loader', ['django.template.loaders.filesystem.Loader', 'django.template.loaders.app_directories.Loader'])] string_if_invalid='' file_charset='utf-8' libraries={'cache': 'django.templatetags.cache', 'i18n': 'django.templatetags.i18n', 'l10n': 'django.templatetags.l10n', 'static': 'django.templatetags.static', 'tz': 'django.templatetags.tz', 'admin_list': 'django.contrib.admin.templatetags.admin_list', 'admin_modify': 'django.contrib.admin.templatetags.admin_modify', 'admin_urls': 'django.contrib.admin.templatetags.admin_urls', 'log': 'django.contrib.admin.templatetags.log'} builtins=['django.template.defaulttags', 'django.template.defaultfilters', 'django.template.loader_tags'] autoescape=True>"), ('template_name_list', "('header.html',)"), ('not_found', '[]'), ('template_name', "'header.html'")], 'id': 140163120137216, 'pre_context': ['        Given a list of template names, return the first that can be loaded.', '        """', '        if not template_name_list:', '            raise TemplateDoesNotExist("No template names provided")', '        not_found = []', '        for template_name in template_name_list:', '            try:'], 'context_line': '                return self.get_template(template_name)', 'post_context': ['            except TemplateDoesNotExist as exc:', '                if exc.args[0] not in not_found:', '                    not_found.append(exc.args[0])', '                continue', '        # If we get here, none of the templates could be loaded', '        raise TemplateDoesNotExist(", ".join(not_found))'], 'pre_context_lineno': 201, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fc9b00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py', 'function': 'get_template', 'lineno': 177, 'vars': [('self', "<Engine: app_dirs=True context_processors=['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages'] debug=True loaders=[('django.template.loaders.cached.Loader', ['django.template.loaders.filesystem.Loader', 'django.template.loaders.app_directories.Loader'])] string_if_invalid='' file_charset='utf-8' libraries={'cache': 'django.templatetags.cache', 'i18n': 'django.templatetags.i18n', 'l10n': 'django.templatetags.l10n', 'static': 'django.templatetags.static', 'tz': 'django.templatetags.tz', 'admin_list': 'django.contrib.admin.templatetags.admin_list', 'admin_modify': 'django.contrib.admin.templatetags.admin_modify', 'admin_urls': 'django.contrib.admin.templatetags.admin_urls', 'log': 'django.contrib.admin.templatetags.log'} builtins=['django.template.defaulttags', 'django.template.defaultfilters', 'django.template.loader_tags'] autoescape=True>"), ('template_name', "'header.html'")], 'id': 140163120143104, 'pre_context': ['        return Template(template_code, engine=self)', '', '    def get_template(self, template_name):', '        """', '        Return a compiled Template object for the given template name,', '        handling template inheritance recursively.', '        """'], 'context_line': '        template, origin = self.find_template(template_name)', 'post_context': ['        if not hasattr(template, "render"):', '            # template needs to be compiled', '            template = Template(template, origin, template_name, engine=self)', '        return template', '', '    def render_to_string(self, template_name, context=None):'], 'pre_context_lineno': 170, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a452f3940>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py', 'function': 'find_template', 'lineno': 159, 'vars': [('self', "<Engine: app_dirs=True context_processors=['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages'] debug=True loaders=[('django.template.loaders.cached.Loader', ['django.template.loaders.filesystem.Loader', 'django.template.loaders.app_directories.Loader'])] string_if_invalid='' file_charset='utf-8' libraries={'cache': 'django.templatetags.cache', 'i18n': 'django.templatetags.i18n', 'l10n': 'django.templatetags.l10n', 'static': 'django.templatetags.static', 'tz': 'django.templatetags.tz', 'admin_list': 'django.contrib.admin.templatetags.admin_list', 'admin_modify': 'django.contrib.admin.templatetags.admin_modify', 'admin_urls': 'django.contrib.admin.templatetags.admin_urls', 'log': 'django.contrib.admin.templatetags.log'} builtins=['django.template.defaulttags', 'django.template.defaultfilters', 'django.template.loader_tags'] autoescape=True>"), ('name', "'header.html'"), ('dirs', 'None'), ('skip', 'None'), ('tried', '[]'), ('loader', '<django.template.loaders.cached.Loader object at 0x7f7a44f87a90>')], 'id': 140163123460416, 'pre_context': ['                "Invalid value in template loaders configuration: %r" % loader', '            )', '', '    def find_template(self, name, dirs=None, skip=None):', '        tried = []', '        for loader in self.template_loaders:', '            try:'], 'context_line': '                template = loader.get_template(name, skip=skip)', 'post_context': ['                return template, template.origin', '            except TemplateDoesNotExist as e:', '                tried.extend(e.tried)', '        raise TemplateDoesNotExist(name, tried=tried)', '', '    def from_string(self, template_code):'], 'pre_context_lineno': 152, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44efbdc0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loaders/cached.py', 'function': 'get_template', 'lineno': 57, 'vars': [('self', '<django.template.loaders.cached.Loader object at 0x7f7a44f87a90>'), ('template_name', "'header.html'"), ('skip', 'None'), ('key', "'header.html'"), ('cached', 'None'), ('__class__', "<class 'django.template.loaders.cached.Loader'>")], 'id': 140163119300032, 'pre_context': ['            if isinstance(cached, type) and issubclass(cached, TemplateDoesNotExist):', '                raise cached(template_name)', '            elif isinstance(cached, TemplateDoesNotExist):', '                raise copy_exception(cached)', '            return cached', '', '        try:'], 'context_line': '            template = super().get_template(template_name, skip)', 'post_context': ['        except TemplateDoesNotExist as e:', '            self.get_template_cache[key] = (', '                copy_exception(e) if self.engine.debug else TemplateDoesNotExist', '            )', '            raise', '        else:'], 'pre_context_lineno': 50, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fc9dc0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loaders/base.py', 'function': 'get_template', 'lineno': 28, 'vars': [('self', '<django.template.loaders.cached.Loader object at 0x7f7a44f87a90>'), ('template_name', "'header.html'"), ('skip', 'None'), ('tried', "[(<Origin name='/home/yahuokhoja/venv/lib/python3.10/site-packages/django/contrib/admin/templates/header.html'>,\n  'Source does not exist'),\n (<Origin name='/home/yahuokhoja/venv/lib/python3.10/site-packages/django/contrib/auth/templates/header.html'>,\n  'Source does not exist')]"), ('origin', "<Origin name='/home/yahuokhoja/chatbot/bot/templates/header.html'>"), ('contents', '(\'<!-- templates/header.html -->\\n\'\n \'<head>\\n\'\n \'    <link rel="stylesheet" href="{% static \\\'css/styles.css\\\' %}">\\n\'\n \'</head>\\n\'\n \'\\n\'\n \'<nav class="navbar navbar-expand-lg navbar-dark bg-dark">\\n\'\n \'    <div class="container-fluid">\\n\'\n \'        <a class="navbar-brand" href="/">Домашняя страница</a>\\n\'\n \'        <button class="navbar-toggler" type="button" \'\n \'data-bs-toggle="collapse" data-bs-target="#navbarNav" \'\n \'aria-controls="navbarNav" aria-expanded="false" aria-label="Переключить \'\n \'навигацию">\\n\'\n \'            <span class="navbar-toggler-icon"></span>\\n\'\n \'        </button>\\n\'\n \'        <div class="collapse navbar-collapse" id="navbarNav">\\n\'\n \'            <ul class="navbar-nav ms-auto">\\n\'\n \'                <li class="nav-item">\\n\'\n \'                    <a class="nav-link" href="/">Главная</a>\\n\'\n \'                </li>\\n\'\n \'\\n\'\n \'                {% if user.is_authenticated %}\\n\'\n \'                    <!-- Если пользователь авторизован -->\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/profile/">Профиль</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/orders/">Заказы</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/logout/">Выйти</a>\\n\'\n \'                    </li>\\n\'\n \'                {% else %}\\n\'\n \'                    <!-- Если пользователь не авторизован -->\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/login/">Войти</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/signup/">Регистрация</a>\\n\'\n \'                    </li>\\n\'\n \'                {% endif %}\\n\'\n \'            </ul>\\n\'\n \'        </div>\\n\'\n \'    </div>\\n\'\n \'</nav>\\n\')')], 'id': 140163120143808, 'pre_context': ['', '            try:', '                contents = self.get_contents(origin)', '            except TemplateDoesNotExist:', '                tried.append((origin, "Source does not exist"))', '                continue', '            else:'], 'context_line': '                return Template(', 'post_context': ['                    contents,', '                    origin,', '                    origin.template_name,', '                    self.engine,', '                )', ''], 'pre_context_lineno': 21, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fc9780>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': '__init__', 'lineno': 154, 'vars': [('self', '<Template template_string="<!-- templates/heade...">'), ('template_string', '(\'<!-- templates/header.html -->\\n\'\n \'<head>\\n\'\n \'    <link rel="stylesheet" href="{% static \\\'css/styles.css\\\' %}">\\n\'\n \'</head>\\n\'\n \'\\n\'\n \'<nav class="navbar navbar-expand-lg navbar-dark bg-dark">\\n\'\n \'    <div class="container-fluid">\\n\'\n \'        <a class="navbar-brand" href="/">Домашняя страница</a>\\n\'\n \'        <button class="navbar-toggler" type="button" \'\n \'data-bs-toggle="collapse" data-bs-target="#navbarNav" \'\n \'aria-controls="navbarNav" aria-expanded="false" aria-label="Переключить \'\n \'навигацию">\\n\'\n \'            <span class="navbar-toggler-icon"></span>\\n\'\n \'        </button>\\n\'\n \'        <div class="collapse navbar-collapse" id="navbarNav">\\n\'\n \'            <ul class="navbar-nav ms-auto">\\n\'\n \'                <li class="nav-item">\\n\'\n \'                    <a class="nav-link" href="/">Главная</a>\\n\'\n \'                </li>\\n\'\n \'\\n\'\n \'                {% if user.is_authenticated %}\\n\'\n \'                    <!-- Если пользователь авторизован -->\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/profile/">Профиль</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/orders/">Заказы</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/logout/">Выйти</a>\\n\'\n \'                    </li>\\n\'\n \'                {% else %}\\n\'\n \'                    <!-- Если пользователь не авторизован -->\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/login/">Войти</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/signup/">Регистрация</a>\\n\'\n \'                    </li>\\n\'\n \'                {% endif %}\\n\'\n \'            </ul>\\n\'\n \'        </div>\\n\'\n \'    </div>\\n\'\n \'</nav>\\n\')'), ('origin', "<Origin name='/home/yahuokhoja/chatbot/bot/templates/header.html'>"), ('name', "'header.html'"), ('engine', "<Engine: app_dirs=True context_processors=['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages'] debug=True loaders=[('django.template.loaders.cached.Loader', ['django.template.loaders.filesystem.Loader', 'django.template.loaders.app_directories.Loader'])] string_if_invalid='' file_charset='utf-8' libraries={'cache': 'django.templatetags.cache', 'i18n': 'django.templatetags.i18n', 'l10n': 'django.templatetags.l10n', 'static': 'django.templatetags.static', 'tz': 'django.templatetags.tz', 'admin_list': 'django.contrib.admin.templatetags.admin_list', 'admin_modify': 'django.contrib.admin.templatetags.admin_modify', 'admin_urls': 'django.contrib.admin.templatetags.admin_urls', 'log': 'django.contrib.admin.templatetags.log'} builtins=['django.template.defaulttags', 'django.template.defaultfilters', 'django.template.loader_tags'] autoescape=True>")], 'id': 140163120142208, 'pre_context': ['            engine = Engine.get_default()', '        if origin is None:', '            origin = Origin(UNKNOWN_SOURCE)', '        self.name = name', '        self.origin = origin', '        self.engine = engine', '        self.source = str(template_string)  # May be lazy.'], 'context_line': '        self.nodelist = self.compile_nodelist()', 'post_context': ['', '    def __repr__(self):', '        return \'<%s template_string="%s...">\' % (', '            self.__class__.__qualname__,', '            self.source[:20].replace("\\n", ""),', '        )'], 'pre_context_lineno': 147, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fc8780>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'compile_nodelist', 'lineno': 196, 'vars': [('self', '<Template template_string="<!-- templates/heade...">'), ('lexer', '<DebugLexer template_string="<!-- templates/heade...", verbatim=False>'), ('tokens', '[<Text token: "<!-- templates/heade...">,\n <Block token: "static \'css/styles.c...">,\n <Text token: ""></head><nav cla...">,\n <Block token: "if user.is_authentic...">,\n <Text token: "                   ...">,\n <Block token: "else...">,\n <Text token: "                   ...">,\n <Block token: "endif...">,\n <Text token: "            </ul> ...">]'), ('parser', '<Parser tokens=[<Text token: "            </ul> ...">, <Block token: "endif...">, <Text token: "                   ...">, <Block token: "else...">, <Text token: "                   ...">, <Block token: "if user.is_authentic...">, <Text token: ""></head><nav cla...">]>')], 'id': 140163120138112, 'pre_context': ['            tokens,', '            self.engine.template_libraries,', '            self.engine.template_builtins,', '            self.origin,', '        )', '', '        try:'], 'context_line': '            nodelist = parser.parse()', 'post_context': ['            self.extra_data = parser.extra_data', '            return nodelist', '        except Exception as e:', '            if self.engine.debug:', '                e.template_debug = self.get_exception_info(e, e.token)', '            raise'], 'pre_context_lineno': 189, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fbb880>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'parse', 'lineno': 512, 'vars': [('self', '<Parser tokens=[<Text token: "            </ul> ...">, <Block token: "endif...">, <Text token: "                   ...">, <Block token: "else...">, <Text token: "                   ...">, <Block token: "if user.is_authentic...">, <Text token: ""></head><nav cla...">]>'), ('parse_until', '[]'), ('nodelist', "[<TextNode: '<!-- templates/header.htm'>]"), ('token', '<Block token: "static \'css/styles.c...">'), ('token_type', '2'), ('command', "'static'")], 'id': 140163120085120, 'pre_context': ['                # tag.', '                self.command_stack.append((command, token))', '                # Get the tag callback function from the ones registered with', '                # the parser.', '                try:', '                    compile_func = self.tags[command]', '                except KeyError:'], 'context_line': '                    self.invalid_block_tag(token, command, parse_until)', 'post_context': ['                # Compile the callback into a node object and add it to', '                # the node list.', '                try:', '                    compiled_result = compile_func(self, token)', '                except Exception as e:', '                    raise self.error(token, e)'], 'pre_context_lineno': 505, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fbb540>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'invalid_block_tag', 'lineno': 577, 'vars': [('self', '<Parser tokens=[<Text token: "            </ul> ...">, <Block token: "endif...">, <Text token: "                   ...">, <Block token: "else...">, <Text token: "                   ...">, <Block token: "if user.is_authentic...">, <Text token: ""></head><nav cla...">]>'), ('token', '<Block token: "static \'css/styles.c...">'), ('command', "'static'"), ('parse_until', '[]')], 'id': 140163120084288, 'pre_context': ['                "forget to register or load this tag?"', '                % (', '                    token.lineno,', '                    command,', '                    get_text_list(["\'%s\'" % p for p in parse_until], "or"),', '                ),', '            )'], 'context_line': '        raise self.error(', 'post_context': ['            token,', '            "Invalid block tag on line %d: \'%s\'. Did you forget to register "', '            "or load this tag?" % (token.lineno, command),', '        )', '', '    def unclosed_block_tag(self, parse_until):'], 'pre_context_lineno': 570, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '33962', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x7f7a44f61030>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7f7a44f45c30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.session.SessionStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 12, 21, 54, 491020, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': {'message': "Invalid block tag on line 3: 'static'. Did you forget to register or load this tag?", 'source_lines': [(1, '<!-- templates/header.html -->\n'), (2, '<head>\n'), (3, '    <link rel="stylesheet" href="{% static \'css/styles.css\' %}">\n'), (4, '</head>\n'), (5, '\n'), (6, '<nav class="navbar navbar-expand-lg navbar-dark bg-dark">\n'), (7, '    <div class="container-fluid">\n'), (8, '        <a class="navbar-brand" href="/">Домашняя страница</a>\n'), (9, '        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Переключить навигацию">\n'), (10, '            <span class="navbar-toggler-icon"></span>\n'), (11, '        </button>\n'), (12, '        <div class="collapse navbar-collapse" id="navbarNav">\n'), (13, '            <ul class="navbar-nav ms-auto">\n')], 'before': '    <link rel="stylesheet" href="', 'during': "{% static 'css/styles.css' %}", 'after': '">\n', 'top': 1, 'bottom': 14, 'total': 43, 'line': 3, 'name': '/home/yahuokhoja/chatbot/bot/templates/header.html', 'start': 71, 'end': 100}, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7f7a44f7b140>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7f7a44f7b060>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'TemplateSyntaxError', 'exception_value': "Invalid block tag on line 3: 'static'. Did you forget to register or load this tag?", 'lastframe': {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fbb540>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'invalid_block_tag', 'lineno': 577, 'vars': [('self', '<Parser tokens=[<Text token: "            </ul> ...">, <Block token: "endif...">, <Text token: "                   ...">, <Block token: "else...">, <Text token: "                   ...">, <Block token: "if user.is_authentic...">, <Text token: ""></head><nav cla...">]>'), ('token', '<Block token: "static \'css/styles.c...">'), ('command', "'static'"), ('parse_until', '[]')], 'id': 140163120084288, 'pre_context': ['                "forget to register or load this tag?"', '                % (', '                    token.lineno,', '                    command,', '                    get_text_list(["\'%s\'" % p for p in parse_until], "or"),', '                ),', '            )'], 'context_line': '        raise self.error(', 'post_context': ['            token,', '            "Invalid block tag on line %d: \'%s\'. Did you forget to register "', '            "or load this tag?" % (token.lineno, command),', '        )', '', '    def unclosed_block_tag(self, parse_until):'], 'pre_context_lineno': 570, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 12:21:54,554] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 510, in parse
    compile_func = self.tags[command]
KeyError: 'static'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 5, in index
    return render(request, 'index.html')  # Здесь загружается главная страница
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py", line 25, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 62, in render_to_string
    return template.render(context, request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/backends/django.py", line 107, in render
    return self.template.render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 171, in render
    return self._render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 163, in _render
    return self.nodelist.render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 1016, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 1016, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 977, in render_annotated
    return self.render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader_tags.py", line 199, in render
    template = context.template.engine.select_template(template_name)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py", line 208, in select_template
    return self.get_template(template_name)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py", line 177, in get_template
    template, origin = self.find_template(template_name)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py", line 159, in find_template
    template = loader.get_template(name, skip=skip)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loaders/cached.py", line 57, in get_template
    template = super().get_template(template_name, skip)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loaders/base.py", line 28, in get_template
    return Template(
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 154, in __init__
    self.nodelist = self.compile_nodelist()
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 196, in compile_nodelist
    nodelist = parser.parse()
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 512, in parse
    self.invalid_block_tag(token, command, parse_until)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 577, in invalid_block_tag
    raise self.error(
django.template.exceptions.TemplateSyntaxError: Invalid block tag on line 3: 'static'. Did you forget to register or load this tag?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fb96c0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'parse', 'lineno': 510, 'vars': [('self', '<Parser tokens=[<Text token: "            </ul> ...">, <Block token: "endif...">, <Text token: "                   ...">, <Block token: "else...">, <Text token: "                   ...">, <Block token: "if user.is_authentic...">, <Text token: ""></head><nav cla...">]>'), ('parse_until', '[]'), ('nodelist', "[<TextNode: '<!-- templates/header.htm'>]"), ('token', '<Block token: "static \'css/styles.c...">'), ('token_type', '2'), ('command', "'static'")], 'id': 140163120076480, 'pre_context': ['                # Add the token to the command stack. This is used for error', '                # messages if further parsing fails due to an unclosed block', '                # tag.', '                self.command_stack.append((command, token))', '                # Get the tag callback function from the ones registered with', '                # the parser.', '                try:'], 'context_line': '                    compile_func = self.tags[command]', 'post_context': ['                except KeyError:', '                    self.invalid_block_tag(token, command, parse_until)', '                # Compile the callback into a node object and add it to', '                # the node list.', '                try:', '                    compiled_result = compile_func(self, token)'], 'pre_context_lineno': 503, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fcbf00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'TemplateSyntaxError("Invalid block tag on line 3: \'static\'. Did you forget to register or load this tag?")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7f7a45223be0>>')], 'id': 140163120152320, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fcbe80>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7f7a45223be0>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7f7a44f7d510>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7f7a44f7d510>')], 'id': 140163120152192, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fcbec0>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 5, 'vars': [('request', "<WSGIRequest: GET '/'>")], 'id': 140163120152256, 'pre_context': ['# chatbot/views.py', 'from django.shortcuts import render', '', 'def index(request):'], 'context_line': "    return render(request, 'index.html')  # Здесь загружается главная страница", 'post_context': ['', '', 'def login(request):', "    return render(request, 'login.html')", '', ''], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44f8e5c0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py', 'function': 'render', 'lineno': 25, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('template_name', "'index.html'"), ('context', 'None'), ('content_type', 'None'), ('status', 'None'), ('using', 'None')], 'id': 140163119900096, 'pre_context': ['def render(', '    request, template_name, context=None, content_type=None, status=None, using=None', '):', '    """', '    Return an HttpResponse whose content is filled with the result of calling', '    django.template.loader.render_to_string() with the passed arguments.', '    """'], 'context_line': '    content = loader.render_to_string(template_name, context, request, using=using)', 'post_context': ['    return HttpResponse(content, content_type, status)', '', '', 'def redirect(to, *args, permanent=False, preserve_request=False, **kwargs):', '    """', '    Return an HttpResponseRedirect to the appropriate URL for the arguments'], 'pre_context_lineno': 18, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fafdc0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'render_to_string', 'lineno': 62, 'vars': [('template_name', "'index.html'"), ('context', 'None'), ('request', "<WSGIRequest: GET '/'>"), ('using', 'None'), ('template', '<django.template.backends.django.Template object at 0x7f7a44f87b20>')], 'id': 140163120037312, 'pre_context': ['', '    template_name may be a string or a list of strings.', '    """', '    if isinstance(template_name, (list, tuple)):', '        template = select_template(template_name, using=using)', '    else:', '        template = get_template(template_name, using=using)'], 'context_line': '    return template.render(context, request)', 'post_context': ['', '', 'def _engine_list(using=None):', '    return engines.all() if using is None else [engines[using]]'], 'pre_context_lineno': 55, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a464c8380>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/backends/django.py', 'function': 'render', 'lineno': 107, 'vars': [('self', '<django.template.backends.django.Template object at 0x7f7a44f87b20>'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]"), ('request', "<WSGIRequest: GET '/'>")], 'id': 140163142157184, 'pre_context': ['        return self.template.origin', '', '    def render(self, context=None, request=None):', '        context = make_context(', '            context, request, autoescape=self.backend.engine.autoescape', '        )', '        try:'], 'context_line': '            return self.template.render(context)', 'post_context': ['        except TemplateDoesNotExist as exc:', '            reraise(exc, self.backend)', '', '', 'def copy_exception(exc, backend=None):', '    """'], 'pre_context_lineno': 100, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fcbc80>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'render', 'lineno': 171, 'vars': [('self', '<Template template_string="<!-- templates/index...">'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 140163120151680, 'pre_context': ['', '    def render(self, context):', '        "Display stage -- can be called many times"', '        with context.render_context.push_state(self):', '            if context.template is None:', '                with context.bind_template(self):', '                    context.template_name = self.name'], 'context_line': '                    return self._render(context)', 'post_context': ['            else:', '                return self._render(context)', '', '    def compile_nodelist(self):', '        """', '        Parse and compile the template source into a nodelist. If debug'], 'pre_context_lineno': 164, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fcad40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': '_render', 'lineno': 163, 'vars': [('self', '<Template template_string="<!-- templates/index...">'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 140163120147776, 'pre_context': ['    def __repr__(self):', '        return \'<%s template_string="%s...">\' % (', '            self.__class__.__qualname__,', '            self.source[:20].replace("\\n", ""),', '        )', '', '    def _render(self, context):'], 'context_line': '        return self.nodelist.render(context)', 'post_context': ['', '    def render(self, context):', '        "Display stage -- can be called many times"', '        with context.render_context.push_state(self):', '            if context.template is None:', '                with context.bind_template(self):'], 'pre_context_lineno': 156, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fca900>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'render', 'lineno': 1016, 'vars': [('self', '[<TextNode: \'<!-- templates/index.html\'>,\n <IncludeNode: template=<FilterExpression "\'header.html\'">>,\n <TextNode: \'\\n\\n<!-- templates/index.ht\'>]'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 140163120146688, 'pre_context': ['', 'class NodeList(list):', '    # Set to True the first time a non-TextNode is inserted by', '    # extend_nodelist().', '    contains_nontext = False', '', '    def render(self, context):'], 'context_line': '        return SafeString("".join([node.render_annotated(context) for node in self]))', 'post_context': ['', '    def get_nodes_by_type(self, nodetype):', '        "Return a list of all nodes of the given type"', '        nodes = []', '        for node in self:', '            nodes.extend(node.get_nodes_by_type(nodetype))'], 'pre_context_lineno': 1009, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fca680>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': '<listcomp>', 'lineno': 1016, 'vars': [('.0', '<list_iterator object at 0x7f7a44fa2c80>'), ('node', '<IncludeNode: template=<FilterExpression "\'header.html\'">>'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 140163120146048, 'pre_context': ['', 'class NodeList(list):', '    # Set to True the first time a non-TextNode is inserted by', '    # extend_nodelist().', '    contains_nontext = False', '', '    def render(self, context):'], 'context_line': '        return SafeString("".join([node.render_annotated(context) for node in self]))', 'post_context': ['', '    def get_nodes_by_type(self, nodetype):', '        "Return a list of all nodes of the given type"', '        nodes = []', '        for node in self:', '            nodes.extend(node.get_nodes_by_type(nodetype))'], 'pre_context_lineno': 1009, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fca240>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'render_annotated', 'lineno': 977, 'vars': [('self', '<IncludeNode: template=<FilterExpression "\'header.html\'">>'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 140163120144960, 'pre_context': ['        """', '        Render the node. If debug is True and an exception occurs during', '        rendering, the exception is annotated with contextual line information', '        where it occurred in the template. For internal usage this method is', '        preferred over using the render method directly.', '        """', '        try:'], 'context_line': '            return self.render(context)', 'post_context': ['        except Exception as e:', '            if context.template.engine.debug:', '                # Store the actual node that caused the exception.', '                if not hasattr(e, "_culprit_node"):', '                    e._culprit_node = self', '                if ('], 'pre_context_lineno': 970, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fc9f40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader_tags.py', 'function': 'render', 'lineno': 199, 'vars': [('self', '<IncludeNode: template=<FilterExpression "\'header.html\'">>'), ('template', 'None'), ('template_name', "('header.html',)"), ('cache', '{}'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 140163120144192, 'pre_context': ['                    ),', '                )', '            else:', '                template_name = tuple(template_name)', '            cache = context.render_context.dicts[0].setdefault(self, {})', '            template = cache.get(template_name)', '            if template is None:'], 'context_line': '                template = context.template.engine.select_template(template_name)', 'post_context': ['                cache[template_name] = template', '        # Use the base.Template of a backends.django.Template.', '        elif hasattr(template, "template"):', '            template = template.template', '        values = {', '            name: var.resolve(context) for name, var in self.extra_context.items()'], 'pre_context_lineno': 192, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fc8400>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py', 'function': 'select_template', 'lineno': 208, 'vars': [('self', "<Engine: app_dirs=True context_processors=['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages'] debug=True loaders=[('django.template.loaders.cached.Loader', ['django.template.loaders.filesystem.Loader', 'django.template.loaders.app_directories.Loader'])] string_if_invalid='' file_charset='utf-8' libraries={'cache': 'django.templatetags.cache', 'i18n': 'django.templatetags.i18n', 'l10n': 'django.templatetags.l10n', 'static': 'django.templatetags.static', 'tz': 'django.templatetags.tz', 'admin_list': 'django.contrib.admin.templatetags.admin_list', 'admin_modify': 'django.contrib.admin.templatetags.admin_modify', 'admin_urls': 'django.contrib.admin.templatetags.admin_urls', 'log': 'django.contrib.admin.templatetags.log'} builtins=['django.template.defaulttags', 'django.template.defaultfilters', 'django.template.loader_tags'] autoescape=True>"), ('template_name_list', "('header.html',)"), ('not_found', '[]'), ('template_name', "'header.html'")], 'id': 140163120137216, 'pre_context': ['        Given a list of template names, return the first that can be loaded.', '        """', '        if not template_name_list:', '            raise TemplateDoesNotExist("No template names provided")', '        not_found = []', '        for template_name in template_name_list:', '            try:'], 'context_line': '                return self.get_template(template_name)', 'post_context': ['            except TemplateDoesNotExist as exc:', '                if exc.args[0] not in not_found:', '                    not_found.append(exc.args[0])', '                continue', '        # If we get here, none of the templates could be loaded', '        raise TemplateDoesNotExist(", ".join(not_found))'], 'pre_context_lineno': 201, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fc9b00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py', 'function': 'get_template', 'lineno': 177, 'vars': [('self', "<Engine: app_dirs=True context_processors=['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages'] debug=True loaders=[('django.template.loaders.cached.Loader', ['django.template.loaders.filesystem.Loader', 'django.template.loaders.app_directories.Loader'])] string_if_invalid='' file_charset='utf-8' libraries={'cache': 'django.templatetags.cache', 'i18n': 'django.templatetags.i18n', 'l10n': 'django.templatetags.l10n', 'static': 'django.templatetags.static', 'tz': 'django.templatetags.tz', 'admin_list': 'django.contrib.admin.templatetags.admin_list', 'admin_modify': 'django.contrib.admin.templatetags.admin_modify', 'admin_urls': 'django.contrib.admin.templatetags.admin_urls', 'log': 'django.contrib.admin.templatetags.log'} builtins=['django.template.defaulttags', 'django.template.defaultfilters', 'django.template.loader_tags'] autoescape=True>"), ('template_name', "'header.html'")], 'id': 140163120143104, 'pre_context': ['        return Template(template_code, engine=self)', '', '    def get_template(self, template_name):', '        """', '        Return a compiled Template object for the given template name,', '        handling template inheritance recursively.', '        """'], 'context_line': '        template, origin = self.find_template(template_name)', 'post_context': ['        if not hasattr(template, "render"):', '            # template needs to be compiled', '            template = Template(template, origin, template_name, engine=self)', '        return template', '', '    def render_to_string(self, template_name, context=None):'], 'pre_context_lineno': 170, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a452f3940>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py', 'function': 'find_template', 'lineno': 159, 'vars': [('self', "<Engine: app_dirs=True context_processors=['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages'] debug=True loaders=[('django.template.loaders.cached.Loader', ['django.template.loaders.filesystem.Loader', 'django.template.loaders.app_directories.Loader'])] string_if_invalid='' file_charset='utf-8' libraries={'cache': 'django.templatetags.cache', 'i18n': 'django.templatetags.i18n', 'l10n': 'django.templatetags.l10n', 'static': 'django.templatetags.static', 'tz': 'django.templatetags.tz', 'admin_list': 'django.contrib.admin.templatetags.admin_list', 'admin_modify': 'django.contrib.admin.templatetags.admin_modify', 'admin_urls': 'django.contrib.admin.templatetags.admin_urls', 'log': 'django.contrib.admin.templatetags.log'} builtins=['django.template.defaulttags', 'django.template.defaultfilters', 'django.template.loader_tags'] autoescape=True>"), ('name', "'header.html'"), ('dirs', 'None'), ('skip', 'None'), ('tried', '[]'), ('loader', '<django.template.loaders.cached.Loader object at 0x7f7a44f87a90>')], 'id': 140163123460416, 'pre_context': ['                "Invalid value in template loaders configuration: %r" % loader', '            )', '', '    def find_template(self, name, dirs=None, skip=None):', '        tried = []', '        for loader in self.template_loaders:', '            try:'], 'context_line': '                template = loader.get_template(name, skip=skip)', 'post_context': ['                return template, template.origin', '            except TemplateDoesNotExist as e:', '                tried.extend(e.tried)', '        raise TemplateDoesNotExist(name, tried=tried)', '', '    def from_string(self, template_code):'], 'pre_context_lineno': 152, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44efbdc0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loaders/cached.py', 'function': 'get_template', 'lineno': 57, 'vars': [('self', '<django.template.loaders.cached.Loader object at 0x7f7a44f87a90>'), ('template_name', "'header.html'"), ('skip', 'None'), ('key', "'header.html'"), ('cached', 'None'), ('__class__', "<class 'django.template.loaders.cached.Loader'>")], 'id': 140163119300032, 'pre_context': ['            if isinstance(cached, type) and issubclass(cached, TemplateDoesNotExist):', '                raise cached(template_name)', '            elif isinstance(cached, TemplateDoesNotExist):', '                raise copy_exception(cached)', '            return cached', '', '        try:'], 'context_line': '            template = super().get_template(template_name, skip)', 'post_context': ['        except TemplateDoesNotExist as e:', '            self.get_template_cache[key] = (', '                copy_exception(e) if self.engine.debug else TemplateDoesNotExist', '            )', '            raise', '        else:'], 'pre_context_lineno': 50, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fc9dc0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loaders/base.py', 'function': 'get_template', 'lineno': 28, 'vars': [('self', '<django.template.loaders.cached.Loader object at 0x7f7a44f87a90>'), ('template_name', "'header.html'"), ('skip', 'None'), ('tried', "[(<Origin name='/home/yahuokhoja/venv/lib/python3.10/site-packages/django/contrib/admin/templates/header.html'>,\n  'Source does not exist'),\n (<Origin name='/home/yahuokhoja/venv/lib/python3.10/site-packages/django/contrib/auth/templates/header.html'>,\n  'Source does not exist')]"), ('origin', "<Origin name='/home/yahuokhoja/chatbot/bot/templates/header.html'>"), ('contents', '(\'<!-- templates/header.html -->\\n\'\n \'<head>\\n\'\n \'    <link rel="stylesheet" href="{% static \\\'css/styles.css\\\' %}">\\n\'\n \'</head>\\n\'\n \'\\n\'\n \'<nav class="navbar navbar-expand-lg navbar-dark bg-dark">\\n\'\n \'    <div class="container-fluid">\\n\'\n \'        <a class="navbar-brand" href="/">Домашняя страница</a>\\n\'\n \'        <button class="navbar-toggler" type="button" \'\n \'data-bs-toggle="collapse" data-bs-target="#navbarNav" \'\n \'aria-controls="navbarNav" aria-expanded="false" aria-label="Переключить \'\n \'навигацию">\\n\'\n \'            <span class="navbar-toggler-icon"></span>\\n\'\n \'        </button>\\n\'\n \'        <div class="collapse navbar-collapse" id="navbarNav">\\n\'\n \'            <ul class="navbar-nav ms-auto">\\n\'\n \'                <li class="nav-item">\\n\'\n \'                    <a class="nav-link" href="/">Главная</a>\\n\'\n \'                </li>\\n\'\n \'\\n\'\n \'                {% if user.is_authenticated %}\\n\'\n \'                    <!-- Если пользователь авторизован -->\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/profile/">Профиль</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/orders/">Заказы</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/logout/">Выйти</a>\\n\'\n \'                    </li>\\n\'\n \'                {% else %}\\n\'\n \'                    <!-- Если пользователь не авторизован -->\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/login/">Войти</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/signup/">Регистрация</a>\\n\'\n \'                    </li>\\n\'\n \'                {% endif %}\\n\'\n \'            </ul>\\n\'\n \'        </div>\\n\'\n \'    </div>\\n\'\n \'</nav>\\n\')')], 'id': 140163120143808, 'pre_context': ['', '            try:', '                contents = self.get_contents(origin)', '            except TemplateDoesNotExist:', '                tried.append((origin, "Source does not exist"))', '                continue', '            else:'], 'context_line': '                return Template(', 'post_context': ['                    contents,', '                    origin,', '                    origin.template_name,', '                    self.engine,', '                )', ''], 'pre_context_lineno': 21, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fc9780>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': '__init__', 'lineno': 154, 'vars': [('self', '<Template template_string="<!-- templates/heade...">'), ('template_string', '(\'<!-- templates/header.html -->\\n\'\n \'<head>\\n\'\n \'    <link rel="stylesheet" href="{% static \\\'css/styles.css\\\' %}">\\n\'\n \'</head>\\n\'\n \'\\n\'\n \'<nav class="navbar navbar-expand-lg navbar-dark bg-dark">\\n\'\n \'    <div class="container-fluid">\\n\'\n \'        <a class="navbar-brand" href="/">Домашняя страница</a>\\n\'\n \'        <button class="navbar-toggler" type="button" \'\n \'data-bs-toggle="collapse" data-bs-target="#navbarNav" \'\n \'aria-controls="navbarNav" aria-expanded="false" aria-label="Переключить \'\n \'навигацию">\\n\'\n \'            <span class="navbar-toggler-icon"></span>\\n\'\n \'        </button>\\n\'\n \'        <div class="collapse navbar-collapse" id="navbarNav">\\n\'\n \'            <ul class="navbar-nav ms-auto">\\n\'\n \'                <li class="nav-item">\\n\'\n \'                    <a class="nav-link" href="/">Главная</a>\\n\'\n \'                </li>\\n\'\n \'\\n\'\n \'                {% if user.is_authenticated %}\\n\'\n \'                    <!-- Если пользователь авторизован -->\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/profile/">Профиль</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/orders/">Заказы</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/logout/">Выйти</a>\\n\'\n \'                    </li>\\n\'\n \'                {% else %}\\n\'\n \'                    <!-- Если пользователь не авторизован -->\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/login/">Войти</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/signup/">Регистрация</a>\\n\'\n \'                    </li>\\n\'\n \'                {% endif %}\\n\'\n \'            </ul>\\n\'\n \'        </div>\\n\'\n \'    </div>\\n\'\n \'</nav>\\n\')'), ('origin', "<Origin name='/home/yahuokhoja/chatbot/bot/templates/header.html'>"), ('name', "'header.html'"), ('engine', "<Engine: app_dirs=True context_processors=['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages'] debug=True loaders=[('django.template.loaders.cached.Loader', ['django.template.loaders.filesystem.Loader', 'django.template.loaders.app_directories.Loader'])] string_if_invalid='' file_charset='utf-8' libraries={'cache': 'django.templatetags.cache', 'i18n': 'django.templatetags.i18n', 'l10n': 'django.templatetags.l10n', 'static': 'django.templatetags.static', 'tz': 'django.templatetags.tz', 'admin_list': 'django.contrib.admin.templatetags.admin_list', 'admin_modify': 'django.contrib.admin.templatetags.admin_modify', 'admin_urls': 'django.contrib.admin.templatetags.admin_urls', 'log': 'django.contrib.admin.templatetags.log'} builtins=['django.template.defaulttags', 'django.template.defaultfilters', 'django.template.loader_tags'] autoescape=True>")], 'id': 140163120142208, 'pre_context': ['            engine = Engine.get_default()', '        if origin is None:', '            origin = Origin(UNKNOWN_SOURCE)', '        self.name = name', '        self.origin = origin', '        self.engine = engine', '        self.source = str(template_string)  # May be lazy.'], 'context_line': '        self.nodelist = self.compile_nodelist()', 'post_context': ['', '    def __repr__(self):', '        return \'<%s template_string="%s...">\' % (', '            self.__class__.__qualname__,', '            self.source[:20].replace("\\n", ""),', '        )'], 'pre_context_lineno': 147, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fc8780>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'compile_nodelist', 'lineno': 196, 'vars': [('self', '<Template template_string="<!-- templates/heade...">'), ('lexer', '<DebugLexer template_string="<!-- templates/heade...", verbatim=False>'), ('tokens', '[<Text token: "<!-- templates/heade...">,\n <Block token: "static \'css/styles.c...">,\n <Text token: ""></head><nav cla...">,\n <Block token: "if user.is_authentic...">,\n <Text token: "                   ...">,\n <Block token: "else...">,\n <Text token: "                   ...">,\n <Block token: "endif...">,\n <Text token: "            </ul> ...">]'), ('parser', '<Parser tokens=[<Text token: "            </ul> ...">, <Block token: "endif...">, <Text token: "                   ...">, <Block token: "else...">, <Text token: "                   ...">, <Block token: "if user.is_authentic...">, <Text token: ""></head><nav cla...">]>')], 'id': 140163120138112, 'pre_context': ['            tokens,', '            self.engine.template_libraries,', '            self.engine.template_builtins,', '            self.origin,', '        )', '', '        try:'], 'context_line': '            nodelist = parser.parse()', 'post_context': ['            self.extra_data = parser.extra_data', '            return nodelist', '        except Exception as e:', '            if self.engine.debug:', '                e.template_debug = self.get_exception_info(e, e.token)', '            raise'], 'pre_context_lineno': 189, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fbb880>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'parse', 'lineno': 512, 'vars': [('self', '<Parser tokens=[<Text token: "            </ul> ...">, <Block token: "endif...">, <Text token: "                   ...">, <Block token: "else...">, <Text token: "                   ...">, <Block token: "if user.is_authentic...">, <Text token: ""></head><nav cla...">]>'), ('parse_until', '[]'), ('nodelist', "[<TextNode: '<!-- templates/header.htm'>]"), ('token', '<Block token: "static \'css/styles.c...">'), ('token_type', '2'), ('command', "'static'")], 'id': 140163120085120, 'pre_context': ['                # tag.', '                self.command_stack.append((command, token))', '                # Get the tag callback function from the ones registered with', '                # the parser.', '                try:', '                    compile_func = self.tags[command]', '                except KeyError:'], 'context_line': '                    self.invalid_block_tag(token, command, parse_until)', 'post_context': ['                # Compile the callback into a node object and add it to', '                # the node list.', '                try:', '                    compiled_result = compile_func(self, token)', '                except Exception as e:', '                    raise self.error(token, e)'], 'pre_context_lineno': 505, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fbb540>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'invalid_block_tag', 'lineno': 577, 'vars': [('self', '<Parser tokens=[<Text token: "            </ul> ...">, <Block token: "endif...">, <Text token: "                   ...">, <Block token: "else...">, <Text token: "                   ...">, <Block token: "if user.is_authentic...">, <Text token: ""></head><nav cla...">]>'), ('token', '<Block token: "static \'css/styles.c...">'), ('command', "'static'"), ('parse_until', '[]')], 'id': 140163120084288, 'pre_context': ['                "forget to register or load this tag?"', '                % (', '                    token.lineno,', '                    command,', '                    get_text_list(["\'%s\'" % p for p in parse_until], "or"),', '                ),', '            )'], 'context_line': '        raise self.error(', 'post_context': ['            token,', '            "Invalid block tag on line %d: \'%s\'. Did you forget to register "', '            "or load this tag?" % (token.lineno, command),', '        )', '', '    def unclosed_block_tag(self, parse_until):'], 'pre_context_lineno': 570, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '33962', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x7f7a44f61030>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7f7a44f45c30>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.session.SessionStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 12, 21, 54, 491020, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': {'message': "Invalid block tag on line 3: 'static'. Did you forget to register or load this tag?", 'source_lines': [(1, '<!-- templates/header.html -->\n'), (2, '<head>\n'), (3, '    <link rel="stylesheet" href="{% static \'css/styles.css\' %}">\n'), (4, '</head>\n'), (5, '\n'), (6, '<nav class="navbar navbar-expand-lg navbar-dark bg-dark">\n'), (7, '    <div class="container-fluid">\n'), (8, '        <a class="navbar-brand" href="/">Домашняя страница</a>\n'), (9, '        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Переключить навигацию">\n'), (10, '            <span class="navbar-toggler-icon"></span>\n'), (11, '        </button>\n'), (12, '        <div class="collapse navbar-collapse" id="navbarNav">\n'), (13, '            <ul class="navbar-nav ms-auto">\n')], 'before': '    <link rel="stylesheet" href="', 'during': "{% static 'css/styles.css' %}", 'after': '">\n', 'top': 1, 'bottom': 14, 'total': 43, 'line': 3, 'name': '/home/yahuokhoja/chatbot/bot/templates/header.html', 'start': 71, 'end': 100}, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7f7a44f7b140>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7f7a44f7b060>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'TemplateSyntaxError', 'exception_value': "Invalid block tag on line 3: 'static'. Did you forget to register or load this tag?", 'lastframe': {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7f7a44fbb540>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'invalid_block_tag', 'lineno': 577, 'vars': [('self', '<Parser tokens=[<Text token: "            </ul> ...">, <Block token: "endif...">, <Text token: "                   ...">, <Block token: "else...">, <Text token: "                   ...">, <Block token: "if user.is_authentic...">, <Text token: ""></head><nav cla...">]>'), ('token', '<Block token: "static \'css/styles.c...">'), ('command', "'static'"), ('parse_until', '[]')], 'id': 140163120084288, 'pre_context': ['                "forget to register or load this tag?"', '                % (', '                    token.lineno,', '                    command,', '                    get_text_list(["\'%s\'" % p for p in parse_until], "or"),', '                ),', '            )'], 'context_line': '        raise self.error(', 'post_context': ['            token,', '            "Invalid block tag on line %d: \'%s\'. Did you forget to register "', '            "or load this tag?" % (token.lineno, command),', '        )', '', '    def unclosed_block_tag(self, parse_until):'], 'pre_context_lineno': 570, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 12:21:54,579] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 510, in parse
    compile_func = self.tags[command]
KeyError: 'static'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 5, in index
    return render(request, 'index.html')  # Здесь загружается главная страница
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py", line 25, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 62, in render_to_string
    return template.render(context, request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/backends/django.py", line 107, in render
    return self.template.render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 171, in render
    return self._render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 163, in _render
    return self.nodelist.render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 1016, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 1016, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 977, in render_annotated
    return self.render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader_tags.py", line 199, in render
    template = context.template.engine.select_template(template_name)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py", line 208, in select_template
    return self.get_template(template_name)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py", line 177, in get_template
    template, origin = self.find_template(template_name)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py", line 159, in find_template
    template = loader.get_template(name, skip=skip)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loaders/cached.py", line 57, in get_template
    template = super().get_template(template_name, skip)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loaders/base.py", line 28, in get_template
    return Template(
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 154, in __init__
    self.nodelist = self.compile_nodelist()
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 196, in compile_nodelist
    nodelist = parser.parse()
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 512, in parse
    self.invalid_block_tag(token, command, parse_until)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 577, in invalid_block_tag
    raise self.error(
django.template.exceptions.TemplateSyntaxError: Invalid block tag on line 3: 'static'. Did you forget to register or load this tag?
[2025-04-25 12:24:21,494] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 510, in parse
    compile_func = self.tags[command]
KeyError: 'static'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 5, in index
    return render(request, 'index.html')  # Здесь загружается главная страница
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py", line 25, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 62, in render_to_string
    return template.render(context, request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/backends/django.py", line 107, in render
    return self.template.render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 171, in render
    return self._render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 163, in _render
    return self.nodelist.render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 1016, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 1016, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 977, in render_annotated
    return self.render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader_tags.py", line 199, in render
    template = context.template.engine.select_template(template_name)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py", line 208, in select_template
    return self.get_template(template_name)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py", line 177, in get_template
    template, origin = self.find_template(template_name)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py", line 159, in find_template
    template = loader.get_template(name, skip=skip)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loaders/cached.py", line 57, in get_template
    template = super().get_template(template_name, skip)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loaders/base.py", line 28, in get_template
    return Template(
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 154, in __init__
    self.nodelist = self.compile_nodelist()
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 196, in compile_nodelist
    nodelist = parser.parse()
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 512, in parse
    self.invalid_block_tag(token, command, parse_until)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 577, in invalid_block_tag
    raise self.error(
django.template.exceptions.TemplateSyntaxError: Invalid block tag on line 3: 'static'. Did you forget to register or load this tag?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43ea32c0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'parse', 'lineno': 510, 'vars': [('self', '<Parser tokens=[<Text token: "            </ul> ...">, <Block token: "endif...">, <Text token: "                   ...">, <Block token: "else...">, <Text token: "                   ...">, <Block token: "if user.is_authentic...">, <Text token: ""></head><nav cla...">]>'), ('parse_until', '[]'), ('nodelist', "[<TextNode: '<!-- templates/header.htm'>]"), ('token', '<Block token: "static \'css/styles.c...">'), ('token_type', '2'), ('command', "'static'")], 'id': 134884587352768, 'pre_context': ['                # Add the token to the command stack. This is used for error', '                # messages if further parsing fails due to an unclosed block', '                # tag.', '                self.command_stack.append((command, token))', '                # Get the tag callback function from the ones registered with', '                # the parser.', '                try:'], 'context_line': '                    compile_func = self.tags[command]', 'post_context': ['                except KeyError:', '                    self.invalid_block_tag(token, command, parse_until)', '                # Compile the callback into a node object and add it to', '                # the node list.', '                try:', '                    compiled_result = compile_func(self, token)'], 'pre_context_lineno': 503, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb3c00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'TemplateSyntaxError("Invalid block tag on line 3: \'static\'. Did you forget to register or load this tag?")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7aad43f9bb80>>')], 'id': 134884587420672, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb3b80>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7aad43f9bb80>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7aad43e65510>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7aad43e65510>')], 'id': 134884587420544, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb3bc0>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 5, 'vars': [('request', "<WSGIRequest: GET '/'>")], 'id': 134884587420608, 'pre_context': ['# chatbot/views.py', 'from django.shortcuts import render', '', 'def index(request):'], 'context_line': "    return render(request, 'index.html')  # Здесь загружается главная страница", 'post_context': ['', '', 'def login(request):', "    return render(request, 'login.html')", '', ''], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43e7a180>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py', 'function': 'render', 'lineno': 25, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('template_name', "'index.html'"), ('context', 'None'), ('content_type', 'None'), ('status', 'None'), ('using', 'None')], 'id': 134884587184512, 'pre_context': ['def render(', '    request, template_name, context=None, content_type=None, status=None, using=None', '):', '    """', '    Return an HttpResponse whose content is filled with the result of calling', '    django.template.loader.render_to_string() with the passed arguments.', '    """'], 'context_line': '    content = loader.render_to_string(template_name, context, request, using=using)', 'post_context': ['    return HttpResponse(content, content_type, status)', '', '', 'def redirect(to, *args, permanent=False, preserve_request=False, **kwargs):', '    """', '    Return an HttpResponseRedirect to the appropriate URL for the arguments'], 'pre_context_lineno': 18, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43e97a40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'render_to_string', 'lineno': 62, 'vars': [('template_name', "'index.html'"), ('context', 'None'), ('request', "<WSGIRequest: GET '/'>"), ('using', 'None'), ('template', '<django.template.backends.django.Template object at 0x7aad43e6faf0>')], 'id': 134884587305536, 'pre_context': ['', '    template_name may be a string or a list of strings.', '    """', '    if isinstance(template_name, (list, tuple)):', '        template = select_template(template_name, using=using)', '    else:', '        template = get_template(template_name, using=using)'], 'context_line': '    return template.render(context, request)', 'post_context': ['', '', 'def _engine_list(using=None):', '    return engines.all() if using is None else [engines[using]]'], 'pre_context_lineno': 55, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43e55040>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/backends/django.py', 'function': 'render', 'lineno': 107, 'vars': [('self', '<django.template.backends.django.Template object at 0x7aad43e6faf0>'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]"), ('request', "<WSGIRequest: GET '/'>")], 'id': 134884587032640, 'pre_context': ['        return self.template.origin', '', '    def render(self, context=None, request=None):', '        context = make_context(', '            context, request, autoescape=self.backend.engine.autoescape', '        )', '        try:'], 'context_line': '            return self.template.render(context)', 'post_context': ['        except TemplateDoesNotExist as exc:', '            reraise(exc, self.backend)', '', '', 'def copy_exception(exc, backend=None):', '    """'], 'pre_context_lineno': 100, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb3b40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'render', 'lineno': 171, 'vars': [('self', '<Template template_string="<!-- templates/index...">'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 134884587420480, 'pre_context': ['', '    def render(self, context):', '        "Display stage -- can be called many times"', '        with context.render_context.push_state(self):', '            if context.template is None:', '                with context.bind_template(self):', '                    context.template_name = self.name'], 'context_line': '                    return self._render(context)', 'post_context': ['            else:', '                return self._render(context)', '', '    def compile_nodelist(self):', '        """', '        Parse and compile the template source into a nodelist. If debug'], 'pre_context_lineno': 164, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb3b00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': '_render', 'lineno': 163, 'vars': [('self', '<Template template_string="<!-- templates/index...">'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 134884587420416, 'pre_context': ['    def __repr__(self):', '        return \'<%s template_string="%s...">\' % (', '            self.__class__.__qualname__,', '            self.source[:20].replace("\\n", ""),', '        )', '', '    def _render(self, context):'], 'context_line': '        return self.nodelist.render(context)', 'post_context': ['', '    def render(self, context):', '        "Display stage -- can be called many times"', '        with context.render_context.push_state(self):', '            if context.template is None:', '                with context.bind_template(self):'], 'pre_context_lineno': 156, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb3900>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'render', 'lineno': 1016, 'vars': [('self', '[<TextNode: \'<!-- templates/index.html\'>,\n <IncludeNode: template=<FilterExpression "\'header.html\'">>,\n <TextNode: \'\\n\\n<!-- templates/index.ht\'>]'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 134884587419904, 'pre_context': ['', 'class NodeList(list):', '    # Set to True the first time a non-TextNode is inserted by', '    # extend_nodelist().', '    contains_nontext = False', '', '    def render(self, context):'], 'context_line': '        return SafeString("".join([node.render_annotated(context) for node in self]))', 'post_context': ['', '    def get_nodes_by_type(self, nodetype):', '        "Return a list of all nodes of the given type"', '        nodes = []', '        for node in self:', '            nodes.extend(node.get_nodes_by_type(nodetype))'], 'pre_context_lineno': 1009, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43e78e40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': '<listcomp>', 'lineno': 1016, 'vars': [('.0', '<list_iterator object at 0x7aad43e8ec50>'), ('node', '<IncludeNode: template=<FilterExpression "\'header.html\'">>'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 134884587179584, 'pre_context': ['', 'class NodeList(list):', '    # Set to True the first time a non-TextNode is inserted by', '    # extend_nodelist().', '    contains_nontext = False', '', '    def render(self, context):'], 'context_line': '        return SafeString("".join([node.render_annotated(context) for node in self]))', 'post_context': ['', '    def get_nodes_by_type(self, nodetype):', '        "Return a list of all nodes of the given type"', '        nodes = []', '        for node in self:', '            nodes.extend(node.get_nodes_by_type(nodetype))'], 'pre_context_lineno': 1009, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb29c0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'render_annotated', 'lineno': 977, 'vars': [('self', '<IncludeNode: template=<FilterExpression "\'header.html\'">>'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 134884587416000, 'pre_context': ['        """', '        Render the node. If debug is True and an exception occurs during', '        rendering, the exception is annotated with contextual line information', '        where it occurred in the template. For internal usage this method is', '        preferred over using the render method directly.', '        """', '        try:'], 'context_line': '            return self.render(context)', 'post_context': ['        except Exception as e:', '            if context.template.engine.debug:', '                # Store the actual node that caused the exception.', '                if not hasattr(e, "_culprit_node"):', '                    e._culprit_node = self', '                if ('], 'pre_context_lineno': 970, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb0400>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader_tags.py', 'function': 'render', 'lineno': 199, 'vars': [('self', '<IncludeNode: template=<FilterExpression "\'header.html\'">>'), ('template', 'None'), ('template_name', "('header.html',)"), ('cache', '{}'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 134884587406336, 'pre_context': ['                    ),', '                )', '            else:', '                template_name = tuple(template_name)', '            cache = context.render_context.dicts[0].setdefault(self, {})', '            template = cache.get(template_name)', '            if template is None:'], 'context_line': '                template = context.template.engine.select_template(template_name)', 'post_context': ['                cache[template_name] = template', '        # Use the base.Template of a backends.django.Template.', '        elif hasattr(template, "template"):', '            template = template.template', '        values = {', '            name: var.resolve(context) for name, var in self.extra_context.items()'], 'pre_context_lineno': 192, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb2580>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py', 'function': 'select_template', 'lineno': 208, 'vars': [('self', "<Engine: app_dirs=True context_processors=['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages'] debug=True loaders=[('django.template.loaders.cached.Loader', ['django.template.loaders.filesystem.Loader', 'django.template.loaders.app_directories.Loader'])] string_if_invalid='' file_charset='utf-8' libraries={'cache': 'django.templatetags.cache', 'i18n': 'django.templatetags.i18n', 'l10n': 'django.templatetags.l10n', 'static': 'django.templatetags.static', 'tz': 'django.templatetags.tz', 'admin_list': 'django.contrib.admin.templatetags.admin_list', 'admin_modify': 'django.contrib.admin.templatetags.admin_modify', 'admin_urls': 'django.contrib.admin.templatetags.admin_urls', 'log': 'django.contrib.admin.templatetags.log'} builtins=['django.template.defaulttags', 'django.template.defaultfilters', 'django.template.loader_tags'] autoescape=True>"), ('template_name_list', "('header.html',)"), ('not_found', '[]'), ('template_name', "'header.html'")], 'id': 134884587414912, 'pre_context': ['        Given a list of template names, return the first that can be loaded.', '        """', '        if not template_name_list:', '            raise TemplateDoesNotExist("No template names provided")', '        not_found = []', '        for template_name in template_name_list:', '            try:'], 'context_line': '                return self.get_template(template_name)', 'post_context': ['            except TemplateDoesNotExist as exc:', '                if exc.args[0] not in not_found:', '                    not_found.append(exc.args[0])', '                continue', '        # If we get here, none of the templates could be loaded', '        raise TemplateDoesNotExist(", ".join(not_found))'], 'pre_context_lineno': 201, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb2300>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py', 'function': 'get_template', 'lineno': 177, 'vars': [('self', "<Engine: app_dirs=True context_processors=['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages'] debug=True loaders=[('django.template.loaders.cached.Loader', ['django.template.loaders.filesystem.Loader', 'django.template.loaders.app_directories.Loader'])] string_if_invalid='' file_charset='utf-8' libraries={'cache': 'django.templatetags.cache', 'i18n': 'django.templatetags.i18n', 'l10n': 'django.templatetags.l10n', 'static': 'django.templatetags.static', 'tz': 'django.templatetags.tz', 'admin_list': 'django.contrib.admin.templatetags.admin_list', 'admin_modify': 'django.contrib.admin.templatetags.admin_modify', 'admin_urls': 'django.contrib.admin.templatetags.admin_urls', 'log': 'django.contrib.admin.templatetags.log'} builtins=['django.template.defaulttags', 'django.template.defaultfilters', 'django.template.loader_tags'] autoescape=True>"), ('template_name', "'header.html'")], 'id': 134884587414272, 'pre_context': ['        return Template(template_code, engine=self)', '', '    def get_template(self, template_name):', '        """', '        Return a compiled Template object for the given template name,', '        handling template inheritance recursively.', '        """'], 'context_line': '        template, origin = self.find_template(template_name)', 'post_context': ['        if not hasattr(template, "render"):', '            # template needs to be compiled', '            template = Template(template, origin, template_name, engine=self)', '        return template', '', '    def render_to_string(self, template_name, context=None):'], 'pre_context_lineno': 170, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43e3ef00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py', 'function': 'find_template', 'lineno': 159, 'vars': [('self', "<Engine: app_dirs=True context_processors=['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages'] debug=True loaders=[('django.template.loaders.cached.Loader', ['django.template.loaders.filesystem.Loader', 'django.template.loaders.app_directories.Loader'])] string_if_invalid='' file_charset='utf-8' libraries={'cache': 'django.templatetags.cache', 'i18n': 'django.templatetags.i18n', 'l10n': 'django.templatetags.l10n', 'static': 'django.templatetags.static', 'tz': 'django.templatetags.tz', 'admin_list': 'django.contrib.admin.templatetags.admin_list', 'admin_modify': 'django.contrib.admin.templatetags.admin_modify', 'admin_urls': 'django.contrib.admin.templatetags.admin_urls', 'log': 'django.contrib.admin.templatetags.log'} builtins=['django.template.defaulttags', 'django.template.defaultfilters', 'django.template.loader_tags'] autoescape=True>"), ('name', "'header.html'"), ('dirs', 'None'), ('skip', 'None'), ('tried', '[]'), ('loader', '<django.template.loaders.cached.Loader object at 0x7aad43e6fa60>')], 'id': 134884586942208, 'pre_context': ['                "Invalid value in template loaders configuration: %r" % loader', '            )', '', '    def find_template(self, name, dirs=None, skip=None):', '        tried = []', '        for loader in self.template_loaders:', '            try:'], 'context_line': '                template = loader.get_template(name, skip=skip)', 'post_context': ['                return template, template.origin', '            except TemplateDoesNotExist as e:', '                tried.extend(e.tried)', '        raise TemplateDoesNotExist(name, tried=tried)', '', '    def from_string(self, template_code):'], 'pre_context_lineno': 152, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43ea2fc0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loaders/cached.py', 'function': 'get_template', 'lineno': 57, 'vars': [('self', '<django.template.loaders.cached.Loader object at 0x7aad43e6fa60>'), ('template_name', "'header.html'"), ('skip', 'None'), ('key', "'header.html'"), ('cached', 'None'), ('__class__', "<class 'django.template.loaders.cached.Loader'>")], 'id': 134884587352000, 'pre_context': ['            if isinstance(cached, type) and issubclass(cached, TemplateDoesNotExist):', '                raise cached(template_name)', '            elif isinstance(cached, TemplateDoesNotExist):', '                raise copy_exception(cached)', '            return cached', '', '        try:'], 'context_line': '            template = super().get_template(template_name, skip)', 'post_context': ['        except TemplateDoesNotExist as e:', '            self.get_template_cache[key] = (', '                copy_exception(e) if self.engine.debug else TemplateDoesNotExist', '            )', '            raise', '        else:'], 'pre_context_lineno': 50, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb1ec0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loaders/base.py', 'function': 'get_template', 'lineno': 28, 'vars': [('self', '<django.template.loaders.cached.Loader object at 0x7aad43e6fa60>'), ('template_name', "'header.html'"), ('skip', 'None'), ('tried', "[(<Origin name='/home/yahuokhoja/venv/lib/python3.10/site-packages/django/contrib/admin/templates/header.html'>,\n  'Source does not exist'),\n (<Origin name='/home/yahuokhoja/venv/lib/python3.10/site-packages/django/contrib/auth/templates/header.html'>,\n  'Source does not exist')]"), ('origin', "<Origin name='/home/yahuokhoja/chatbot/bot/templates/header.html'>"), ('contents', '(\'<!-- templates/header.html -->\\n\'\n \'<head>\\n\'\n \'    <link rel="stylesheet" href="{% static \\\'css/styles.css\\\' %}">\\n\'\n \'</head>\\n\'\n \'\\n\'\n \'<nav class="navbar navbar-expand-lg navbar-dark bg-dark">\\n\'\n \'    <div class="container-fluid">\\n\'\n \'        <a class="navbar-brand" href="/">Домашняя страница</a>\\n\'\n \'        <button class="navbar-toggler" type="button" \'\n \'data-bs-toggle="collapse" data-bs-target="#navbarNav" \'\n \'aria-controls="navbarNav" aria-expanded="false" aria-label="Переключить \'\n \'навигацию">\\n\'\n \'            <span class="navbar-toggler-icon"></span>\\n\'\n \'        </button>\\n\'\n \'        <div class="collapse navbar-collapse" id="navbarNav">\\n\'\n \'            <ul class="navbar-nav ms-auto">\\n\'\n \'                <li class="nav-item">\\n\'\n \'                    <a class="nav-link" href="/">Главная</a>\\n\'\n \'                </li>\\n\'\n \'\\n\'\n \'                {% if user.is_authenticated %}\\n\'\n \'                    <!-- Если пользователь авторизован -->\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/profile/">Профиль</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/orders/">Заказы</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/logout/">Выйти</a>\\n\'\n \'                    </li>\\n\'\n \'                {% else %}\\n\'\n \'                    <!-- Если пользователь не авторизован -->\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/login/">Войти</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/signup/">Регистрация</a>\\n\'\n \'                    </li>\\n\'\n \'                {% endif %}\\n\'\n \'            </ul>\\n\'\n \'        </div>\\n\'\n \'    </div>\\n\'\n \'</nav>\\n\')')], 'id': 134884587413184, 'pre_context': ['', '            try:', '                contents = self.get_contents(origin)', '            except TemplateDoesNotExist:', '                tried.append((origin, "Source does not exist"))', '                continue', '            else:'], 'context_line': '                return Template(', 'post_context': ['                    contents,', '                    origin,', '                    origin.template_name,', '                    self.engine,', '                )', ''], 'pre_context_lineno': 21, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43e57b00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': '__init__', 'lineno': 154, 'vars': [('self', '<Template template_string="<!-- templates/heade...">'), ('template_string', '(\'<!-- templates/header.html -->\\n\'\n \'<head>\\n\'\n \'    <link rel="stylesheet" href="{% static \\\'css/styles.css\\\' %}">\\n\'\n \'</head>\\n\'\n \'\\n\'\n \'<nav class="navbar navbar-expand-lg navbar-dark bg-dark">\\n\'\n \'    <div class="container-fluid">\\n\'\n \'        <a class="navbar-brand" href="/">Домашняя страница</a>\\n\'\n \'        <button class="navbar-toggler" type="button" \'\n \'data-bs-toggle="collapse" data-bs-target="#navbarNav" \'\n \'aria-controls="navbarNav" aria-expanded="false" aria-label="Переключить \'\n \'навигацию">\\n\'\n \'            <span class="navbar-toggler-icon"></span>\\n\'\n \'        </button>\\n\'\n \'        <div class="collapse navbar-collapse" id="navbarNav">\\n\'\n \'            <ul class="navbar-nav ms-auto">\\n\'\n \'                <li class="nav-item">\\n\'\n \'                    <a class="nav-link" href="/">Главная</a>\\n\'\n \'                </li>\\n\'\n \'\\n\'\n \'                {% if user.is_authenticated %}\\n\'\n \'                    <!-- Если пользователь авторизован -->\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/profile/">Профиль</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/orders/">Заказы</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/logout/">Выйти</a>\\n\'\n \'                    </li>\\n\'\n \'                {% else %}\\n\'\n \'                    <!-- Если пользователь не авторизован -->\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/login/">Войти</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/signup/">Регистрация</a>\\n\'\n \'                    </li>\\n\'\n \'                {% endif %}\\n\'\n \'            </ul>\\n\'\n \'        </div>\\n\'\n \'    </div>\\n\'\n \'</nav>\\n\')'), ('origin', "<Origin name='/home/yahuokhoja/chatbot/bot/templates/header.html'>"), ('name', "'header.html'"), ('engine', "<Engine: app_dirs=True context_processors=['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages'] debug=True loaders=[('django.template.loaders.cached.Loader', ['django.template.loaders.filesystem.Loader', 'django.template.loaders.app_directories.Loader'])] string_if_invalid='' file_charset='utf-8' libraries={'cache': 'django.templatetags.cache', 'i18n': 'django.templatetags.i18n', 'l10n': 'django.templatetags.l10n', 'static': 'django.templatetags.static', 'tz': 'django.templatetags.tz', 'admin_list': 'django.contrib.admin.templatetags.admin_list', 'admin_modify': 'django.contrib.admin.templatetags.admin_modify', 'admin_urls': 'django.contrib.admin.templatetags.admin_urls', 'log': 'django.contrib.admin.templatetags.log'} builtins=['django.template.defaulttags', 'django.template.defaultfilters', 'django.template.loader_tags'] autoescape=True>")], 'id': 134884587043584, 'pre_context': ['            engine = Engine.get_default()', '        if origin is None:', '            origin = Origin(UNKNOWN_SOURCE)', '        self.name = name', '        self.origin = origin', '        self.engine = engine', '        self.source = str(template_string)  # May be lazy.'], 'context_line': '        self.nodelist = self.compile_nodelist()', 'post_context': ['', '    def __repr__(self):', '        return \'<%s template_string="%s...">\' % (', '            self.__class__.__qualname__,', '            self.source[:20].replace("\\n", ""),', '        )'], 'pre_context_lineno': 147, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb1a40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'compile_nodelist', 'lineno': 196, 'vars': [('self', '<Template template_string="<!-- templates/heade...">'), ('lexer', '<DebugLexer template_string="<!-- templates/heade...", verbatim=False>'), ('tokens', '[<Text token: "<!-- templates/heade...">,\n <Block token: "static \'css/styles.c...">,\n <Text token: ""></head><nav cla...">,\n <Block token: "if user.is_authentic...">,\n <Text token: "                   ...">,\n <Block token: "else...">,\n <Text token: "                   ...">,\n <Block token: "endif...">,\n <Text token: "            </ul> ...">]'), ('parser', '<Parser tokens=[<Text token: "            </ul> ...">, <Block token: "endif...">, <Text token: "                   ...">, <Block token: "else...">, <Text token: "                   ...">, <Block token: "if user.is_authentic...">, <Text token: ""></head><nav cla...">]>')], 'id': 134884587412032, 'pre_context': ['            tokens,', '            self.engine.template_libraries,', '            self.engine.template_builtins,', '            self.origin,', '        )', '', '        try:'], 'context_line': '            nodelist = parser.parse()', 'post_context': ['            self.extra_data = parser.extra_data', '            return nodelist', '        except Exception as e:', '            if self.engine.debug:', '                e.template_debug = self.get_exception_info(e, e.token)', '            raise'], 'pre_context_lineno': 189, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb0f80>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'parse', 'lineno': 512, 'vars': [('self', '<Parser tokens=[<Text token: "            </ul> ...">, <Block token: "endif...">, <Text token: "                   ...">, <Block token: "else...">, <Text token: "                   ...">, <Block token: "if user.is_authentic...">, <Text token: ""></head><nav cla...">]>'), ('parse_until', '[]'), ('nodelist', "[<TextNode: '<!-- templates/header.htm'>]"), ('token', '<Block token: "static \'css/styles.c...">'), ('token_type', '2'), ('command', "'static'")], 'id': 134884587409280, 'pre_context': ['                # tag.', '                self.command_stack.append((command, token))', '                # Get the tag callback function from the ones registered with', '                # the parser.', '                try:', '                    compile_func = self.tags[command]', '                except KeyError:'], 'context_line': '                    self.invalid_block_tag(token, command, parse_until)', 'post_context': ['                # Compile the callback into a node object and add it to', '                # the node list.', '                try:', '                    compiled_result = compile_func(self, token)', '                except Exception as e:', '                    raise self.error(token, e)'], 'pre_context_lineno': 505, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43ea3500>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'invalid_block_tag', 'lineno': 577, 'vars': [('self', '<Parser tokens=[<Text token: "            </ul> ...">, <Block token: "endif...">, <Text token: "                   ...">, <Block token: "else...">, <Text token: "                   ...">, <Block token: "if user.is_authentic...">, <Text token: ""></head><nav cla...">]>'), ('token', '<Block token: "static \'css/styles.c...">'), ('command', "'static'"), ('parse_until', '[]')], 'id': 134884587353344, 'pre_context': ['                "forget to register or load this tag?"', '                % (', '                    token.lineno,', '                    command,', '                    get_text_list(["\'%s\'" % p for p in parse_until], "or"),', '                ),', '            )'], 'context_line': '        raise self.error(', 'post_context': ['            token,', '            "Invalid block tag on line %d: \'%s\'. Did you forget to register "', '            "or load this tag?" % (token.lineno, command),', '        )', '', '    def unclosed_block_tag(self, parse_until):'], 'pre_context_lineno': 570, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '37854', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x7aad43e49050>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7aad43e2dc00>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.session.SessionStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 12, 24, 21, 493766, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': {'message': "Invalid block tag on line 3: 'static'. Did you forget to register or load this tag?", 'source_lines': [(1, '<!-- templates/header.html -->\n'), (2, '<head>\n'), (3, '    <link rel="stylesheet" href="{% static \'css/styles.css\' %}">\n'), (4, '</head>\n'), (5, '\n'), (6, '<nav class="navbar navbar-expand-lg navbar-dark bg-dark">\n'), (7, '    <div class="container-fluid">\n'), (8, '        <a class="navbar-brand" href="/">Домашняя страница</a>\n'), (9, '        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Переключить навигацию">\n'), (10, '            <span class="navbar-toggler-icon"></span>\n'), (11, '        </button>\n'), (12, '        <div class="collapse navbar-collapse" id="navbarNav">\n'), (13, '            <ul class="navbar-nav ms-auto">\n')], 'before': '    <link rel="stylesheet" href="', 'during': "{% static 'css/styles.css' %}", 'after': '">\n', 'top': 1, 'bottom': 14, 'total': 43, 'line': 3, 'name': '/home/yahuokhoja/chatbot/bot/templates/header.html', 'start': 71, 'end': 100}, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7aad43e631b0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7aad43e630d0>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'TemplateSyntaxError', 'exception_value': "Invalid block tag on line 3: 'static'. Did you forget to register or load this tag?", 'lastframe': {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43ea3500>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'invalid_block_tag', 'lineno': 577, 'vars': [('self', '<Parser tokens=[<Text token: "            </ul> ...">, <Block token: "endif...">, <Text token: "                   ...">, <Block token: "else...">, <Text token: "                   ...">, <Block token: "if user.is_authentic...">, <Text token: ""></head><nav cla...">]>'), ('token', '<Block token: "static \'css/styles.c...">'), ('command', "'static'"), ('parse_until', '[]')], 'id': 134884587353344, 'pre_context': ['                "forget to register or load this tag?"', '                % (', '                    token.lineno,', '                    command,', '                    get_text_list(["\'%s\'" % p for p in parse_until], "or"),', '                ),', '            )'], 'context_line': '        raise self.error(', 'post_context': ['            token,', '            "Invalid block tag on line %d: \'%s\'. Did you forget to register "', '            "or load this tag?" % (token.lineno, command),', '        )', '', '    def unclosed_block_tag(self, parse_until):'], 'pre_context_lineno': 570, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 12:24:21,536] DEBUG django.template: Exception while resolving variable 'exception_notes' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 510, in parse
    compile_func = self.tags[command]
KeyError: 'static'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 5, in index
    return render(request, 'index.html')  # Здесь загружается главная страница
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py", line 25, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 62, in render_to_string
    return template.render(context, request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/backends/django.py", line 107, in render
    return self.template.render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 171, in render
    return self._render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 163, in _render
    return self.nodelist.render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 1016, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 1016, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 977, in render_annotated
    return self.render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader_tags.py", line 199, in render
    template = context.template.engine.select_template(template_name)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py", line 208, in select_template
    return self.get_template(template_name)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py", line 177, in get_template
    template, origin = self.find_template(template_name)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py", line 159, in find_template
    template = loader.get_template(name, skip=skip)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loaders/cached.py", line 57, in get_template
    template = super().get_template(template_name, skip)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loaders/base.py", line 28, in get_template
    return Template(
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 154, in __init__
    self.nodelist = self.compile_nodelist()
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 196, in compile_nodelist
    nodelist = parser.parse()
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 512, in parse
    self.invalid_block_tag(token, command, parse_until)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 577, in invalid_block_tag
    raise self.error(
django.template.exceptions.TemplateSyntaxError: Invalid block tag on line 3: 'static'. Did you forget to register or load this tag?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'Context' has no attribute 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'exception_notes'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [exception_notes] in [{'True': True, 'False': False, 'None': None}, {'is_email': False, 'unicode_hint': '', 'frames': [{'exc_cause': None, 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43ea32c0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'parse', 'lineno': 510, 'vars': [('self', '<Parser tokens=[<Text token: "            </ul> ...">, <Block token: "endif...">, <Text token: "                   ...">, <Block token: "else...">, <Text token: "                   ...">, <Block token: "if user.is_authentic...">, <Text token: ""></head><nav cla...">]>'), ('parse_until', '[]'), ('nodelist', "[<TextNode: '<!-- templates/header.htm'>]"), ('token', '<Block token: "static \'css/styles.c...">'), ('token_type', '2'), ('command', "'static'")], 'id': 134884587352768, 'pre_context': ['                # Add the token to the command stack. This is used for error', '                # messages if further parsing fails due to an unclosed block', '                # tag.', '                self.command_stack.append((command, token))', '                # Get the tag callback function from the ones registered with', '                # the parser.', '                try:'], 'context_line': '                    compile_func = self.tags[command]', 'post_context': ['                except KeyError:', '                    self.invalid_block_tag(token, command, parse_until)', '                # Compile the callback into a node object and add it to', '                # the node list.', '                try:', '                    compiled_result = compile_func(self, token)'], 'pre_context_lineno': 503, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb3c00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py', 'function': 'inner', 'lineno': 55, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('exc', 'TemplateSyntaxError("Invalid block tag on line 3: \'static\'. Did you forget to register or load this tag?")'), ('get_response', '<bound method BaseHandler._get_response of <django.core.handlers.wsgi.WSGIHandler object at 0x7aad43f9bb80>>')], 'id': 134884587420672, 'pre_context': ['', '        return inner', '    else:', '', '        @wraps(get_response)', '        def inner(request):', '            try:'], 'context_line': '                response = get_response(request)', 'post_context': ['            except Exception as exc:', '                response = response_for_exception(request, exc)', '            return response', '', '        return inner', ''], 'pre_context_lineno': 48, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb3b80>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py', 'function': '_get_response', 'lineno': 197, 'vars': [('self', '<django.core.handlers.wsgi.WSGIHandler object at 0x7aad43f9bb80>'), ('request', "<WSGIRequest: GET '/'>"), ('response', 'None'), ('callback', '<function index at 0x7aad43e65510>'), ('callback_args', '()'), ('callback_kwargs', '{}'), ('middleware_method', '<bound method CsrfViewMiddleware.process_view of <CsrfViewMiddleware get_response=convert_exception_to_response.<locals>.inner>>'), ('wrapped_callback', '<function index at 0x7aad43e65510>')], 'id': 134884587420544, 'pre_context': ['', '        if response is None:', '            wrapped_callback = self.make_view_atomic(callback)', '            # If it is an asynchronous view, run it in a subthread.', '            if iscoroutinefunction(wrapped_callback):', '                wrapped_callback = async_to_sync(wrapped_callback)', '            try:'], 'context_line': '                response = wrapped_callback(request, *callback_args, **callback_kwargs)', 'post_context': ['            except Exception as e:', '                response = self.process_exception_by_middleware(e, request)', '                if response is None:', '                    raise', '', '        # Complain if the view returned None (a common error).'], 'pre_context_lineno': 190, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb3bc0>, 'type': 'user', 'filename': '/home/yahuokhoja/chatbot/bot/views.py', 'function': 'index', 'lineno': 5, 'vars': [('request', "<WSGIRequest: GET '/'>")], 'id': 134884587420608, 'pre_context': ['# chatbot/views.py', 'from django.shortcuts import render', '', 'def index(request):'], 'context_line': "    return render(request, 'index.html')  # Здесь загружается главная страница", 'post_context': ['', '', 'def login(request):', "    return render(request, 'login.html')", '', ''], 'pre_context_lineno': 1, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43e7a180>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py', 'function': 'render', 'lineno': 25, 'vars': [('request', "<WSGIRequest: GET '/'>"), ('template_name', "'index.html'"), ('context', 'None'), ('content_type', 'None'), ('status', 'None'), ('using', 'None')], 'id': 134884587184512, 'pre_context': ['def render(', '    request, template_name, context=None, content_type=None, status=None, using=None', '):', '    """', '    Return an HttpResponse whose content is filled with the result of calling', '    django.template.loader.render_to_string() with the passed arguments.', '    """'], 'context_line': '    content = loader.render_to_string(template_name, context, request, using=using)', 'post_context': ['    return HttpResponse(content, content_type, status)', '', '', 'def redirect(to, *args, permanent=False, preserve_request=False, **kwargs):', '    """', '    Return an HttpResponseRedirect to the appropriate URL for the arguments'], 'pre_context_lineno': 18, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43e97a40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py', 'function': 'render_to_string', 'lineno': 62, 'vars': [('template_name', "'index.html'"), ('context', 'None'), ('request', "<WSGIRequest: GET '/'>"), ('using', 'None'), ('template', '<django.template.backends.django.Template object at 0x7aad43e6faf0>')], 'id': 134884587305536, 'pre_context': ['', '    template_name may be a string or a list of strings.', '    """', '    if isinstance(template_name, (list, tuple)):', '        template = select_template(template_name, using=using)', '    else:', '        template = get_template(template_name, using=using)'], 'context_line': '    return template.render(context, request)', 'post_context': ['', '', 'def _engine_list(using=None):', '    return engines.all() if using is None else [engines[using]]'], 'pre_context_lineno': 55, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43e55040>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/backends/django.py', 'function': 'render', 'lineno': 107, 'vars': [('self', '<django.template.backends.django.Template object at 0x7aad43e6faf0>'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]"), ('request', "<WSGIRequest: GET '/'>")], 'id': 134884587032640, 'pre_context': ['        return self.template.origin', '', '    def render(self, context=None, request=None):', '        context = make_context(', '            context, request, autoescape=self.backend.engine.autoescape', '        )', '        try:'], 'context_line': '            return self.template.render(context)', 'post_context': ['        except TemplateDoesNotExist as exc:', '            reraise(exc, self.backend)', '', '', 'def copy_exception(exc, backend=None):', '    """'], 'pre_context_lineno': 100, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb3b40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'render', 'lineno': 171, 'vars': [('self', '<Template template_string="<!-- templates/index...">'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 134884587420480, 'pre_context': ['', '    def render(self, context):', '        "Display stage -- can be called many times"', '        with context.render_context.push_state(self):', '            if context.template is None:', '                with context.bind_template(self):', '                    context.template_name = self.name'], 'context_line': '                    return self._render(context)', 'post_context': ['            else:', '                return self._render(context)', '', '    def compile_nodelist(self):', '        """', '        Parse and compile the template source into a nodelist. If debug'], 'pre_context_lineno': 164, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb3b00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': '_render', 'lineno': 163, 'vars': [('self', '<Template template_string="<!-- templates/index...">'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 134884587420416, 'pre_context': ['    def __repr__(self):', '        return \'<%s template_string="%s...">\' % (', '            self.__class__.__qualname__,', '            self.source[:20].replace("\\n", ""),', '        )', '', '    def _render(self, context):'], 'context_line': '        return self.nodelist.render(context)', 'post_context': ['', '    def render(self, context):', '        "Display stage -- can be called many times"', '        with context.render_context.push_state(self):', '            if context.template is None:', '                with context.bind_template(self):'], 'pre_context_lineno': 156, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb3900>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'render', 'lineno': 1016, 'vars': [('self', '[<TextNode: \'<!-- templates/index.html\'>,\n <IncludeNode: template=<FilterExpression "\'header.html\'">>,\n <TextNode: \'\\n\\n<!-- templates/index.ht\'>]'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 134884587419904, 'pre_context': ['', 'class NodeList(list):', '    # Set to True the first time a non-TextNode is inserted by', '    # extend_nodelist().', '    contains_nontext = False', '', '    def render(self, context):'], 'context_line': '        return SafeString("".join([node.render_annotated(context) for node in self]))', 'post_context': ['', '    def get_nodes_by_type(self, nodetype):', '        "Return a list of all nodes of the given type"', '        nodes = []', '        for node in self:', '            nodes.extend(node.get_nodes_by_type(nodetype))'], 'pre_context_lineno': 1009, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43e78e40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': '<listcomp>', 'lineno': 1016, 'vars': [('.0', '<list_iterator object at 0x7aad43e8ec50>'), ('node', '<IncludeNode: template=<FilterExpression "\'header.html\'">>'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 134884587179584, 'pre_context': ['', 'class NodeList(list):', '    # Set to True the first time a non-TextNode is inserted by', '    # extend_nodelist().', '    contains_nontext = False', '', '    def render(self, context):'], 'context_line': '        return SafeString("".join([node.render_annotated(context) for node in self]))', 'post_context': ['', '    def get_nodes_by_type(self, nodetype):', '        "Return a list of all nodes of the given type"', '        nodes = []', '        for node in self:', '            nodes.extend(node.get_nodes_by_type(nodetype))'], 'pre_context_lineno': 1009, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb29c0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'render_annotated', 'lineno': 977, 'vars': [('self', '<IncludeNode: template=<FilterExpression "\'header.html\'">>'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 134884587416000, 'pre_context': ['        """', '        Render the node. If debug is True and an exception occurs during', '        rendering, the exception is annotated with contextual line information', '        where it occurred in the template. For internal usage this method is', '        preferred over using the render method directly.', '        """', '        try:'], 'context_line': '            return self.render(context)', 'post_context': ['        except Exception as e:', '            if context.template.engine.debug:', '                # Store the actual node that caused the exception.', '                if not hasattr(e, "_culprit_node"):', '                    e._culprit_node = self', '                if ('], 'pre_context_lineno': 970, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb0400>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader_tags.py', 'function': 'render', 'lineno': 199, 'vars': [('self', '<IncludeNode: template=<FilterExpression "\'header.html\'">>'), ('template', 'None'), ('template_name', "('header.html',)"), ('cache', '{}'), ('context', "[{'True': True, 'False': False, 'None': None}, {}, {}]")], 'id': 134884587406336, 'pre_context': ['                    ),', '                )', '            else:', '                template_name = tuple(template_name)', '            cache = context.render_context.dicts[0].setdefault(self, {})', '            template = cache.get(template_name)', '            if template is None:'], 'context_line': '                template = context.template.engine.select_template(template_name)', 'post_context': ['                cache[template_name] = template', '        # Use the base.Template of a backends.django.Template.', '        elif hasattr(template, "template"):', '            template = template.template', '        values = {', '            name: var.resolve(context) for name, var in self.extra_context.items()'], 'pre_context_lineno': 192, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb2580>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py', 'function': 'select_template', 'lineno': 208, 'vars': [('self', "<Engine: app_dirs=True context_processors=['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages'] debug=True loaders=[('django.template.loaders.cached.Loader', ['django.template.loaders.filesystem.Loader', 'django.template.loaders.app_directories.Loader'])] string_if_invalid='' file_charset='utf-8' libraries={'cache': 'django.templatetags.cache', 'i18n': 'django.templatetags.i18n', 'l10n': 'django.templatetags.l10n', 'static': 'django.templatetags.static', 'tz': 'django.templatetags.tz', 'admin_list': 'django.contrib.admin.templatetags.admin_list', 'admin_modify': 'django.contrib.admin.templatetags.admin_modify', 'admin_urls': 'django.contrib.admin.templatetags.admin_urls', 'log': 'django.contrib.admin.templatetags.log'} builtins=['django.template.defaulttags', 'django.template.defaultfilters', 'django.template.loader_tags'] autoescape=True>"), ('template_name_list', "('header.html',)"), ('not_found', '[]'), ('template_name', "'header.html'")], 'id': 134884587414912, 'pre_context': ['        Given a list of template names, return the first that can be loaded.', '        """', '        if not template_name_list:', '            raise TemplateDoesNotExist("No template names provided")', '        not_found = []', '        for template_name in template_name_list:', '            try:'], 'context_line': '                return self.get_template(template_name)', 'post_context': ['            except TemplateDoesNotExist as exc:', '                if exc.args[0] not in not_found:', '                    not_found.append(exc.args[0])', '                continue', '        # If we get here, none of the templates could be loaded', '        raise TemplateDoesNotExist(", ".join(not_found))'], 'pre_context_lineno': 201, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb2300>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py', 'function': 'get_template', 'lineno': 177, 'vars': [('self', "<Engine: app_dirs=True context_processors=['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages'] debug=True loaders=[('django.template.loaders.cached.Loader', ['django.template.loaders.filesystem.Loader', 'django.template.loaders.app_directories.Loader'])] string_if_invalid='' file_charset='utf-8' libraries={'cache': 'django.templatetags.cache', 'i18n': 'django.templatetags.i18n', 'l10n': 'django.templatetags.l10n', 'static': 'django.templatetags.static', 'tz': 'django.templatetags.tz', 'admin_list': 'django.contrib.admin.templatetags.admin_list', 'admin_modify': 'django.contrib.admin.templatetags.admin_modify', 'admin_urls': 'django.contrib.admin.templatetags.admin_urls', 'log': 'django.contrib.admin.templatetags.log'} builtins=['django.template.defaulttags', 'django.template.defaultfilters', 'django.template.loader_tags'] autoescape=True>"), ('template_name', "'header.html'")], 'id': 134884587414272, 'pre_context': ['        return Template(template_code, engine=self)', '', '    def get_template(self, template_name):', '        """', '        Return a compiled Template object for the given template name,', '        handling template inheritance recursively.', '        """'], 'context_line': '        template, origin = self.find_template(template_name)', 'post_context': ['        if not hasattr(template, "render"):', '            # template needs to be compiled', '            template = Template(template, origin, template_name, engine=self)', '        return template', '', '    def render_to_string(self, template_name, context=None):'], 'pre_context_lineno': 170, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43e3ef00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py', 'function': 'find_template', 'lineno': 159, 'vars': [('self', "<Engine: app_dirs=True context_processors=['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages'] debug=True loaders=[('django.template.loaders.cached.Loader', ['django.template.loaders.filesystem.Loader', 'django.template.loaders.app_directories.Loader'])] string_if_invalid='' file_charset='utf-8' libraries={'cache': 'django.templatetags.cache', 'i18n': 'django.templatetags.i18n', 'l10n': 'django.templatetags.l10n', 'static': 'django.templatetags.static', 'tz': 'django.templatetags.tz', 'admin_list': 'django.contrib.admin.templatetags.admin_list', 'admin_modify': 'django.contrib.admin.templatetags.admin_modify', 'admin_urls': 'django.contrib.admin.templatetags.admin_urls', 'log': 'django.contrib.admin.templatetags.log'} builtins=['django.template.defaulttags', 'django.template.defaultfilters', 'django.template.loader_tags'] autoescape=True>"), ('name', "'header.html'"), ('dirs', 'None'), ('skip', 'None'), ('tried', '[]'), ('loader', '<django.template.loaders.cached.Loader object at 0x7aad43e6fa60>')], 'id': 134884586942208, 'pre_context': ['                "Invalid value in template loaders configuration: %r" % loader', '            )', '', '    def find_template(self, name, dirs=None, skip=None):', '        tried = []', '        for loader in self.template_loaders:', '            try:'], 'context_line': '                template = loader.get_template(name, skip=skip)', 'post_context': ['                return template, template.origin', '            except TemplateDoesNotExist as e:', '                tried.extend(e.tried)', '        raise TemplateDoesNotExist(name, tried=tried)', '', '    def from_string(self, template_code):'], 'pre_context_lineno': 152, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43ea2fc0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loaders/cached.py', 'function': 'get_template', 'lineno': 57, 'vars': [('self', '<django.template.loaders.cached.Loader object at 0x7aad43e6fa60>'), ('template_name', "'header.html'"), ('skip', 'None'), ('key', "'header.html'"), ('cached', 'None'), ('__class__', "<class 'django.template.loaders.cached.Loader'>")], 'id': 134884587352000, 'pre_context': ['            if isinstance(cached, type) and issubclass(cached, TemplateDoesNotExist):', '                raise cached(template_name)', '            elif isinstance(cached, TemplateDoesNotExist):', '                raise copy_exception(cached)', '            return cached', '', '        try:'], 'context_line': '            template = super().get_template(template_name, skip)', 'post_context': ['        except TemplateDoesNotExist as e:', '            self.get_template_cache[key] = (', '                copy_exception(e) if self.engine.debug else TemplateDoesNotExist', '            )', '            raise', '        else:'], 'pre_context_lineno': 50, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb1ec0>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loaders/base.py', 'function': 'get_template', 'lineno': 28, 'vars': [('self', '<django.template.loaders.cached.Loader object at 0x7aad43e6fa60>'), ('template_name', "'header.html'"), ('skip', 'None'), ('tried', "[(<Origin name='/home/yahuokhoja/venv/lib/python3.10/site-packages/django/contrib/admin/templates/header.html'>,\n  'Source does not exist'),\n (<Origin name='/home/yahuokhoja/venv/lib/python3.10/site-packages/django/contrib/auth/templates/header.html'>,\n  'Source does not exist')]"), ('origin', "<Origin name='/home/yahuokhoja/chatbot/bot/templates/header.html'>"), ('contents', '(\'<!-- templates/header.html -->\\n\'\n \'<head>\\n\'\n \'    <link rel="stylesheet" href="{% static \\\'css/styles.css\\\' %}">\\n\'\n \'</head>\\n\'\n \'\\n\'\n \'<nav class="navbar navbar-expand-lg navbar-dark bg-dark">\\n\'\n \'    <div class="container-fluid">\\n\'\n \'        <a class="navbar-brand" href="/">Домашняя страница</a>\\n\'\n \'        <button class="navbar-toggler" type="button" \'\n \'data-bs-toggle="collapse" data-bs-target="#navbarNav" \'\n \'aria-controls="navbarNav" aria-expanded="false" aria-label="Переключить \'\n \'навигацию">\\n\'\n \'            <span class="navbar-toggler-icon"></span>\\n\'\n \'        </button>\\n\'\n \'        <div class="collapse navbar-collapse" id="navbarNav">\\n\'\n \'            <ul class="navbar-nav ms-auto">\\n\'\n \'                <li class="nav-item">\\n\'\n \'                    <a class="nav-link" href="/">Главная</a>\\n\'\n \'                </li>\\n\'\n \'\\n\'\n \'                {% if user.is_authenticated %}\\n\'\n \'                    <!-- Если пользователь авторизован -->\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/profile/">Профиль</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/orders/">Заказы</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/logout/">Выйти</a>\\n\'\n \'                    </li>\\n\'\n \'                {% else %}\\n\'\n \'                    <!-- Если пользователь не авторизован -->\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/login/">Войти</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/signup/">Регистрация</a>\\n\'\n \'                    </li>\\n\'\n \'                {% endif %}\\n\'\n \'            </ul>\\n\'\n \'        </div>\\n\'\n \'    </div>\\n\'\n \'</nav>\\n\')')], 'id': 134884587413184, 'pre_context': ['', '            try:', '                contents = self.get_contents(origin)', '            except TemplateDoesNotExist:', '                tried.append((origin, "Source does not exist"))', '                continue', '            else:'], 'context_line': '                return Template(', 'post_context': ['                    contents,', '                    origin,', '                    origin.template_name,', '                    self.engine,', '                )', ''], 'pre_context_lineno': 21, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43e57b00>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': '__init__', 'lineno': 154, 'vars': [('self', '<Template template_string="<!-- templates/heade...">'), ('template_string', '(\'<!-- templates/header.html -->\\n\'\n \'<head>\\n\'\n \'    <link rel="stylesheet" href="{% static \\\'css/styles.css\\\' %}">\\n\'\n \'</head>\\n\'\n \'\\n\'\n \'<nav class="navbar navbar-expand-lg navbar-dark bg-dark">\\n\'\n \'    <div class="container-fluid">\\n\'\n \'        <a class="navbar-brand" href="/">Домашняя страница</a>\\n\'\n \'        <button class="navbar-toggler" type="button" \'\n \'data-bs-toggle="collapse" data-bs-target="#navbarNav" \'\n \'aria-controls="navbarNav" aria-expanded="false" aria-label="Переключить \'\n \'навигацию">\\n\'\n \'            <span class="navbar-toggler-icon"></span>\\n\'\n \'        </button>\\n\'\n \'        <div class="collapse navbar-collapse" id="navbarNav">\\n\'\n \'            <ul class="navbar-nav ms-auto">\\n\'\n \'                <li class="nav-item">\\n\'\n \'                    <a class="nav-link" href="/">Главная</a>\\n\'\n \'                </li>\\n\'\n \'\\n\'\n \'                {% if user.is_authenticated %}\\n\'\n \'                    <!-- Если пользователь авторизован -->\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/profile/">Профиль</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/orders/">Заказы</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/logout/">Выйти</a>\\n\'\n \'                    </li>\\n\'\n \'                {% else %}\\n\'\n \'                    <!-- Если пользователь не авторизован -->\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/login/">Войти</a>\\n\'\n \'                    </li>\\n\'\n \'                    <li class="nav-item">\\n\'\n \'                        <a class="nav-link" href="/signup/">Регистрация</a>\\n\'\n \'                    </li>\\n\'\n \'                {% endif %}\\n\'\n \'            </ul>\\n\'\n \'        </div>\\n\'\n \'    </div>\\n\'\n \'</nav>\\n\')'), ('origin', "<Origin name='/home/yahuokhoja/chatbot/bot/templates/header.html'>"), ('name', "'header.html'"), ('engine', "<Engine: app_dirs=True context_processors=['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages'] debug=True loaders=[('django.template.loaders.cached.Loader', ['django.template.loaders.filesystem.Loader', 'django.template.loaders.app_directories.Loader'])] string_if_invalid='' file_charset='utf-8' libraries={'cache': 'django.templatetags.cache', 'i18n': 'django.templatetags.i18n', 'l10n': 'django.templatetags.l10n', 'static': 'django.templatetags.static', 'tz': 'django.templatetags.tz', 'admin_list': 'django.contrib.admin.templatetags.admin_list', 'admin_modify': 'django.contrib.admin.templatetags.admin_modify', 'admin_urls': 'django.contrib.admin.templatetags.admin_urls', 'log': 'django.contrib.admin.templatetags.log'} builtins=['django.template.defaulttags', 'django.template.defaultfilters', 'django.template.loader_tags'] autoescape=True>")], 'id': 134884587043584, 'pre_context': ['            engine = Engine.get_default()', '        if origin is None:', '            origin = Origin(UNKNOWN_SOURCE)', '        self.name = name', '        self.origin = origin', '        self.engine = engine', '        self.source = str(template_string)  # May be lazy.'], 'context_line': '        self.nodelist = self.compile_nodelist()', 'post_context': ['', '    def __repr__(self):', '        return \'<%s template_string="%s...">\' % (', '            self.__class__.__qualname__,', '            self.source[:20].replace("\\n", ""),', '        )'], 'pre_context_lineno': 147, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb1a40>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'compile_nodelist', 'lineno': 196, 'vars': [('self', '<Template template_string="<!-- templates/heade...">'), ('lexer', '<DebugLexer template_string="<!-- templates/heade...", verbatim=False>'), ('tokens', '[<Text token: "<!-- templates/heade...">,\n <Block token: "static \'css/styles.c...">,\n <Text token: ""></head><nav cla...">,\n <Block token: "if user.is_authentic...">,\n <Text token: "                   ...">,\n <Block token: "else...">,\n <Text token: "                   ...">,\n <Block token: "endif...">,\n <Text token: "            </ul> ...">]'), ('parser', '<Parser tokens=[<Text token: "            </ul> ...">, <Block token: "endif...">, <Text token: "                   ...">, <Block token: "else...">, <Text token: "                   ...">, <Block token: "if user.is_authentic...">, <Text token: ""></head><nav cla...">]>')], 'id': 134884587412032, 'pre_context': ['            tokens,', '            self.engine.template_libraries,', '            self.engine.template_builtins,', '            self.origin,', '        )', '', '        try:'], 'context_line': '            nodelist = parser.parse()', 'post_context': ['            self.extra_data = parser.extra_data', '            return nodelist', '        except Exception as e:', '            if self.engine.debug:', '                e.template_debug = self.get_exception_info(e, e.token)', '            raise'], 'pre_context_lineno': 189, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43eb0f80>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'parse', 'lineno': 512, 'vars': [('self', '<Parser tokens=[<Text token: "            </ul> ...">, <Block token: "endif...">, <Text token: "                   ...">, <Block token: "else...">, <Text token: "                   ...">, <Block token: "if user.is_authentic...">, <Text token: ""></head><nav cla...">]>'), ('parse_until', '[]'), ('nodelist', "[<TextNode: '<!-- templates/header.htm'>]"), ('token', '<Block token: "static \'css/styles.c...">'), ('token_type', '2'), ('command', "'static'")], 'id': 134884587409280, 'pre_context': ['                # tag.', '                self.command_stack.append((command, token))', '                # Get the tag callback function from the ones registered with', '                # the parser.', '                try:', '                    compile_func = self.tags[command]', '                except KeyError:'], 'context_line': '                    self.invalid_block_tag(token, command, parse_until)', 'post_context': ['                # Compile the callback into a node object and add it to', '                # the node list.', '                try:', '                    compiled_result = compile_func(self, token)', '                except Exception as e:', '                    raise self.error(token, e)'], 'pre_context_lineno': 505, 'colno': '', 'tb_area_colno': ''}, {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43ea3500>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'invalid_block_tag', 'lineno': 577, 'vars': [('self', '<Parser tokens=[<Text token: "            </ul> ...">, <Block token: "endif...">, <Text token: "                   ...">, <Block token: "else...">, <Text token: "                   ...">, <Block token: "if user.is_authentic...">, <Text token: ""></head><nav cla...">]>'), ('token', '<Block token: "static \'css/styles.c...">'), ('command', "'static'"), ('parse_until', '[]')], 'id': 134884587353344, 'pre_context': ['                "forget to register or load this tag?"', '                % (', '                    token.lineno,', '                    command,', '                    get_text_list(["\'%s\'" % p for p in parse_until], "or"),', '                ),', '            )'], 'context_line': '        raise self.error(', 'post_context': ['            token,', '            "Invalid block tag on line %d: \'%s\'. Did you forget to register "', '            "or load this tag?" % (token.lineno, command),', '        )', '', '    def unclosed_block_tag(self, parse_until):'], 'pre_context_lineno': 570, 'colno': '', 'tb_area_colno': ''}], 'request': <WSGIRequest: GET '/'>, 'request_meta': {'QUERY_STRING': '', 'REQUEST_METHOD': 'GET', 'CONTENT_TYPE': '', 'CONTENT_LENGTH': '', 'REQUEST_URI': '/', 'PATH_INFO': '/', 'DOCUMENT_ROOT': '/usr/local/openresty/nginx/html', 'SERVER_PROTOCOL': 'HTTP/1.1', 'REMOTE_ADDR': '10.0.4.170', 'REMOTE_PORT': '37854', 'SERVER_PORT': '80', 'SERVER_NAME': 'yahuokhoja.pythonanywhere.com', 'SCRIPT_NAME': '', 'HTTP_X_REAL_IP': '3.91.95.203', 'HTTP_X_FORWARDED_FOR': '3.91.95.203', 'HTTP_HOST': 'yahuokhoja.pythonanywhere.com', 'HTTP_CONNECTION': 'upgrade', 'HTTP_USER_AGENT': 'python-requests/2.31.0', 'HTTP_ACCEPT_ENCODING': 'gzip, deflate', 'HTTP_ACCEPT': '*/*', 'wsgi.input': <uwsgi._Input object at 0x7aad43e49050>, 'wsgi.file_wrapper': <built-in function uwsgi_sendfile>, 'wsgi.version': (1, 0), 'wsgi.errors': <uwsgi_file__bin_user_wsgi_wrapper.ErrorLogFile object at 0x7aad43e2dc00>, 'wsgi.run_once': False, 'wsgi.multithread': False, 'wsgi.multiprocess': False, 'wsgi.url_scheme': 'http', 'uwsgi.version': b'2.0.20', 'uwsgi.node': b'green-liveweb44'}, 'request_COOKIES_items': dict_items([]), 'user_str': 'AnonymousUser', 'filtered_POST_items': [], 'settings': {'ABSOLUTE_URL_OVERRIDES': {}, 'ADMINS': [], 'ALLOWED_HOSTS': ['yahuokhoja.pythonanywhere.com'], 'APPEND_SLASH': True, 'AUTHENTICATION_BACKENDS': '********************', 'AUTH_PASSWORD_VALIDATORS': '********************', 'AUTH_USER_MODEL': '********************', 'BASE_DIR': PosixPath('/home/yahuokhoja/chatbot'), 'CACHES': {'default': {'BACKEND': 'django.core.cache.backends.locmem.LocMemCache'}}, 'CACHE_MIDDLEWARE_ALIAS': 'default', 'CACHE_MIDDLEWARE_KEY_PREFIX': '********************', 'CACHE_MIDDLEWARE_SECONDS': 600, 'CSRF_COOKIE_AGE': 31449600, 'CSRF_COOKIE_DOMAIN': None, 'CSRF_COOKIE_HTTPONLY': False, 'CSRF_COOKIE_NAME': 'csrftoken', 'CSRF_COOKIE_PATH': '/', 'CSRF_COOKIE_SAMESITE': 'Lax', 'CSRF_COOKIE_SECURE': False, 'CSRF_FAILURE_VIEW': 'django.views.csrf.csrf_failure', 'CSRF_HEADER_NAME': 'HTTP_X_CSRFTOKEN', 'CSRF_TRUSTED_ORIGINS': [], 'CSRF_USE_SESSIONS': False, 'DATABASES': {'default': {'ENGINE': 'django.db.backends.sqlite3', 'NAME': PosixPath('/home/yahuokhoja/chatbot/db.sqlite3'), 'ATOMIC_REQUESTS': False, 'AUTOCOMMIT': True, 'CONN_MAX_AGE': 0, 'CONN_HEALTH_CHECKS': False, 'OPTIONS': {}, 'TIME_ZONE': None, 'USER': '', 'PASSWORD': '********************', 'HOST': '', 'PORT': '', 'TEST': {'CHARSET': None, 'COLLATION': None, 'MIGRATE': True, 'MIRROR': None, 'NAME': None}}}, 'DATABASE_ROUTERS': [], 'DATA_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'DATA_UPLOAD_MAX_NUMBER_FIELDS': 1000, 'DATA_UPLOAD_MAX_NUMBER_FILES': 100, 'DATETIME_FORMAT': 'N j, Y, P', 'DATETIME_INPUT_FORMATS': ['%Y-%m-%d %H:%M:%S', '%Y-%m-%d %H:%M:%S.%f', '%Y-%m-%d %H:%M', '%m/%d/%Y %H:%M:%S', '%m/%d/%Y %H:%M:%S.%f', '%m/%d/%Y %H:%M', '%m/%d/%y %H:%M:%S', '%m/%d/%y %H:%M:%S.%f', '%m/%d/%y %H:%M'], 'DATE_FORMAT': 'N j, Y', 'DATE_INPUT_FORMATS': ['%Y-%m-%d', '%m/%d/%Y', '%m/%d/%y', '%b %d %Y', '%b %d, %Y', '%d %b %Y', '%d %b, %Y', '%B %d %Y', '%B %d, %Y', '%d %B %Y', '%d %B, %Y'], 'DEBUG': True, 'DEBUG_PROPAGATE_EXCEPTIONS': False, 'DECIMAL_SEPARATOR': '.', 'DEFAULT_AUTO_FIELD': 'django.db.models.BigAutoField', 'DEFAULT_CHARSET': 'utf-8', 'DEFAULT_EXCEPTION_REPORTER': 'django.views.debug.ExceptionReporter', 'DEFAULT_EXCEPTION_REPORTER_FILTER': 'django.views.debug.SafeExceptionReporterFilter', 'DEFAULT_FROM_EMAIL': 'webmaster@localhost', 'DEFAULT_INDEX_TABLESPACE': '', 'DEFAULT_TABLESPACE': '', 'DISALLOWED_USER_AGENTS': [], 'EMAIL_BACKEND': 'django.core.mail.backends.smtp.EmailBackend', 'EMAIL_HOST': 'localhost', 'EMAIL_HOST_PASSWORD': '********************', 'EMAIL_HOST_USER': '', 'EMAIL_PORT': 25, 'EMAIL_SSL_CERTFILE': None, 'EMAIL_SSL_KEYFILE': '********************', 'EMAIL_SUBJECT_PREFIX': '[Django] ', 'EMAIL_TIMEOUT': None, 'EMAIL_USE_LOCALTIME': False, 'EMAIL_USE_SSL': False, 'EMAIL_USE_TLS': False, 'FILE_UPLOAD_DIRECTORY_PERMISSIONS': None, 'FILE_UPLOAD_HANDLERS': ['django.core.files.uploadhandler.MemoryFileUploadHandler', 'django.core.files.uploadhandler.TemporaryFileUploadHandler'], 'FILE_UPLOAD_MAX_MEMORY_SIZE': 2621440, 'FILE_UPLOAD_PERMISSIONS': 420, 'FILE_UPLOAD_TEMP_DIR': None, 'FIRST_DAY_OF_WEEK': 0, 'FIXTURE_DIRS': [], 'FORCE_SCRIPT_NAME': None, 'FORMAT_MODULE_PATH': None, 'FORMS_URLFIELD_ASSUME_HTTPS': False, 'FORM_RENDERER': 'django.forms.renderers.DjangoTemplates', 'IGNORABLE_404_URLS': [], 'INSTALLED_APPS': ['django.contrib.admin', 'django.contrib.auth', 'django.contrib.contenttypes', 'django.contrib.sessions', 'django.contrib.messages', 'django.contrib.staticfiles', 'bot'], 'INTERNAL_IPS': [], 'LANGUAGES': [('af', 'Afrikaans'), ('ar', 'Arabic'), ('ar-dz', 'Algerian Arabic'), ('ast', 'Asturian'), ('az', 'Azerbaijani'), ('bg', 'Bulgarian'), ('be', 'Belarusian'), ('bn', 'Bengali'), ('br', 'Breton'), ('bs', 'Bosnian'), ('ca', 'Catalan'), ('ckb', 'Central Kurdish (Sorani)'), ('cs', 'Czech'), ('cy', 'Welsh'), ('da', 'Danish'), ('de', 'German'), ('dsb', 'Lower Sorbian'), ('el', 'Greek'), ('en', 'English'), ('en-au', 'Australian English'), ('en-gb', 'British English'), ('eo', 'Esperanto'), ('es', 'Spanish'), ('es-ar', 'Argentinian Spanish'), ('es-co', 'Colombian Spanish'), ('es-mx', 'Mexican Spanish'), ('es-ni', 'Nicaraguan Spanish'), ('es-ve', 'Venezuelan Spanish'), ('et', 'Estonian'), ('eu', 'Basque'), ('fa', 'Persian'), ('fi', 'Finnish'), ('fr', 'French'), ('fy', 'Frisian'), ('ga', 'Irish'), ('gd', 'Scottish Gaelic'), ('gl', 'Galician'), ('he', 'Hebrew'), ('hi', 'Hindi'), ('hr', 'Croatian'), ('hsb', 'Upper Sorbian'), ('hu', 'Hungarian'), ('hy', 'Armenian'), ('ia', 'Interlingua'), ('id', 'Indonesian'), ('ig', 'Igbo'), ('io', 'Ido'), ('is', 'Icelandic'), ('it', 'Italian'), ('ja', 'Japanese'), ('ka', 'Georgian'), ('kab', 'Kabyle'), ('kk', 'Kazakh'), ('km', 'Khmer'), ('kn', 'Kannada'), ('ko', 'Korean'), ('ky', 'Kyrgyz'), ('lb', 'Luxembourgish'), ('lt', 'Lithuanian'), ('lv', 'Latvian'), ('mk', 'Macedonian'), ('ml', 'Malayalam'), ('mn', 'Mongolian'), ('mr', 'Marathi'), ('ms', 'Malay'), ('my', 'Burmese'), ('nb', 'Norwegian Bokmål'), ('ne', 'Nepali'), ('nl', 'Dutch'), ('nn', 'Norwegian Nynorsk'), ('os', 'Ossetic'), ('pa', 'Punjabi'), ('pl', 'Polish'), ('pt', 'Portuguese'), ('pt-br', 'Brazilian Portuguese'), ('ro', 'Romanian'), ('ru', 'Russian'), ('sk', 'Slovak'), ('sl', 'Slovenian'), ('sq', 'Albanian'), ('sr', 'Serbian'), ('sr-latn', 'Serbian Latin'), ('sv', 'Swedish'), ('sw', 'Swahili'), ('ta', 'Tamil'), ('te', 'Telugu'), ('tg', 'Tajik'), ('th', 'Thai'), ('tk', 'Turkmen'), ('tr', 'Turkish'), ('tt', 'Tatar'), ('udm', 'Udmurt'), ('ug', 'Uyghur'), ('uk', 'Ukrainian'), ('ur', 'Urdu'), ('uz', 'Uzbek'), ('vi', 'Vietnamese'), ('zh-hans', 'Simplified Chinese'), ('zh-hant', 'Traditional Chinese')], 'LANGUAGES_BIDI': ['he', 'ar', 'ar-dz', 'ckb', 'fa', 'ug', 'ur'], 'LANGUAGE_CODE': 'en-us', 'LANGUAGE_COOKIE_AGE': None, 'LANGUAGE_COOKIE_DOMAIN': None, 'LANGUAGE_COOKIE_HTTPONLY': False, 'LANGUAGE_COOKIE_NAME': 'django_language', 'LANGUAGE_COOKIE_PATH': '/', 'LANGUAGE_COOKIE_SAMESITE': None, 'LANGUAGE_COOKIE_SECURE': False, 'LOCALE_PATHS': [], 'LOGGING': {'version': 1, 'disable_existing_loggers': False, 'formatters': {'verbose': {'format': '[{asctime}] {levelname} {name}: {message}', 'style': '{'}, 'simple': {'format': '{levelname} {message}', 'style': '{'}}, 'handlers': {'file': {'level': 'DEBUG', 'class': 'logging.FileHandler', 'filename': '/home/yahuokhoja/chatbot/debug.log', 'formatter': 'verbose'}}, 'loggers': {'django': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}, 'bot': {'handlers': ['file'], 'level': 'DEBUG', 'propagate': True}}}, 'LOGGING_CONFIG': 'logging.config.dictConfig', 'LOGIN_REDIRECT_URL': '/accounts/profile/', 'LOGIN_URL': '/accounts/login/', 'LOGOUT_REDIRECT_URL': None, 'MANAGERS': [], 'MEDIA_ROOT': '/home/yahuokhoja/chatbot/media', 'MEDIA_URL': '/media/', 'MESSAGE_STORAGE': 'django.contrib.messages.storage.session.SessionStorage', 'MIDDLEWARE': ['django.middleware.security.SecurityMiddleware', 'django.contrib.sessions.middleware.SessionMiddleware', 'django.middleware.common.CommonMiddleware', 'django.middleware.csrf.CsrfViewMiddleware', 'django.contrib.auth.middleware.AuthenticationMiddleware', 'django.contrib.messages.middleware.MessageMiddleware', 'django.middleware.clickjacking.XFrameOptionsMiddleware'], 'MIGRATION_MODULES': {}, 'MONTH_DAY_FORMAT': 'F j', 'NUMBER_GROUPING': 0, 'PASSWORD_HASHERS': '********************', 'PASSWORD_RESET_TIMEOUT': '********************', 'PREPEND_WWW': False, 'ROOT_URLCONF': 'chatbot.urls', 'SECRET_KEY': '********************', 'SECRET_KEY_FALLBACKS': '********************', 'SECURE_CONTENT_TYPE_NOSNIFF': True, 'SECURE_CROSS_ORIGIN_OPENER_POLICY': 'same-origin', 'SECURE_HSTS_INCLUDE_SUBDOMAINS': False, 'SECURE_HSTS_PRELOAD': False, 'SECURE_HSTS_SECONDS': 0, 'SECURE_PROXY_SSL_HEADER': None, 'SECURE_REDIRECT_EXEMPT': [], 'SECURE_REFERRER_POLICY': 'same-origin', 'SECURE_SSL_HOST': None, 'SECURE_SSL_REDIRECT': False, 'SERVER_EMAIL': 'root@localhost', 'SESSION_CACHE_ALIAS': 'default', 'SESSION_COOKIE_AGE': 1209600, 'SESSION_COOKIE_DOMAIN': None, 'SESSION_COOKIE_HTTPONLY': True, 'SESSION_COOKIE_NAME': 'sessionid', 'SESSION_COOKIE_PATH': '/', 'SESSION_COOKIE_SAMESITE': 'Lax', 'SESSION_COOKIE_SECURE': False, 'SESSION_ENGINE': 'django.contrib.sessions.backends.db', 'SESSION_EXPIRE_AT_BROWSER_CLOSE': False, 'SESSION_FILE_PATH': None, 'SESSION_SAVE_EVERY_REQUEST': False, 'SESSION_SERIALIZER': 'django.contrib.sessions.serializers.JSONSerializer', 'SETTINGS_MODULE': 'chatbot.settings', 'SHORT_DATETIME_FORMAT': 'm/d/Y P', 'SHORT_DATE_FORMAT': 'm/d/Y', 'SIGNING_BACKEND': 'django.core.signing.TimestampSigner', 'SILENCED_SYSTEM_CHECKS': [], 'STATICFILES_DIRS': [], 'STATICFILES_FINDERS': ['django.contrib.staticfiles.finders.FileSystemFinder', 'django.contrib.staticfiles.finders.AppDirectoriesFinder'], 'STATIC_ROOT': '/home/yahuokhoja/chatbot/static', 'STATIC_URL': '/static/', 'STORAGES': {'default': {'BACKEND': 'django.core.files.storage.FileSystemStorage'}, 'staticfiles': {'BACKEND': 'django.contrib.staticfiles.storage.StaticFilesStorage'}}, 'TEMPLATES': [{'BACKEND': 'django.template.backends.django.DjangoTemplates', 'DIRS': [], 'APP_DIRS': True, 'OPTIONS': {'context_processors': ['django.template.context_processors.debug', 'django.template.context_processors.request', 'django.contrib.auth.context_processors.auth', 'django.contrib.messages.context_processors.messages']}}], 'TEST_NON_SERIALIZED_APPS': [], 'TEST_RUNNER': 'django.test.runner.DiscoverRunner', 'THOUSAND_SEPARATOR': ',', 'TIME_FORMAT': 'P', 'TIME_INPUT_FORMATS': ['%H:%M:%S', '%H:%M:%S.%f', '%H:%M'], 'TIME_ZONE': 'UTC', 'USE_I18N': True, 'USE_THOUSAND_SEPARATOR': False, 'USE_TZ': True, 'USE_X_FORWARDED_HOST': False, 'USE_X_FORWARDED_PORT': False, 'WSGI_APPLICATION': 'chatbot.wsgi.application', 'X_FRAME_OPTIONS': 'DENY', 'YEAR_MONTH_FORMAT': 'F Y'}, 'sys_executable': '/usr/local/bin/uwsgi', 'sys_version_info': '3.10.5', 'server_time': datetime.datetime(2025, 4, 25, 12, 24, 21, 493766, tzinfo=datetime.timezone.utc), 'django_version_info': '5.2', 'sys_path': ['/home/yahuokhoja/chatbot', '/var/www', '.', '', '/var/www', '/usr/local/lib/python310.zip', '/usr/local/lib/python3.10', '/usr/local/lib/python3.10/lib-dynload', '/home/yahuokhoja/venv/lib/python3.10/site-packages'], 'template_info': {'message': "Invalid block tag on line 3: 'static'. Did you forget to register or load this tag?", 'source_lines': [(1, '<!-- templates/header.html -->\n'), (2, '<head>\n'), (3, '    <link rel="stylesheet" href="{% static \'css/styles.css\' %}">\n'), (4, '</head>\n'), (5, '\n'), (6, '<nav class="navbar navbar-expand-lg navbar-dark bg-dark">\n'), (7, '    <div class="container-fluid">\n'), (8, '        <a class="navbar-brand" href="/">Домашняя страница</a>\n'), (9, '        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Переключить навигацию">\n'), (10, '            <span class="navbar-toggler-icon"></span>\n'), (11, '        </button>\n'), (12, '        <div class="collapse navbar-collapse" id="navbarNav">\n'), (13, '            <ul class="navbar-nav ms-auto">\n')], 'before': '    <link rel="stylesheet" href="', 'during': "{% static 'css/styles.css' %}", 'after': '">\n', 'top': 1, 'bottom': 14, 'total': 43, 'line': 3, 'name': '/home/yahuokhoja/chatbot/bot/templates/header.html', 'start': 71, 'end': 100}, 'template_does_not_exist': False, 'postmortem': None, 'request_GET_items': <generator object MultiValueDict.items at 0x7aad43e631b0>, 'request_FILES_items': <generator object MultiValueDict.items at 0x7aad43e630d0>, 'request_insecure_uri': 'http://yahuokhoja.pythonanywhere.com/', 'raising_view_name': 'bot.views.index', 'exception_type': 'TemplateSyntaxError', 'exception_value': "Invalid block tag on line 3: 'static'. Did you forget to register or load this tag?", 'lastframe': {'exc_cause': KeyError('static'), 'exc_cause_explicit': None, 'tb': <traceback object at 0x7aad43ea3500>, 'type': 'django', 'filename': '/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py', 'function': 'invalid_block_tag', 'lineno': 577, 'vars': [('self', '<Parser tokens=[<Text token: "            </ul> ...">, <Block token: "endif...">, <Text token: "                   ...">, <Block token: "else...">, <Text token: "                   ...">, <Block token: "if user.is_authentic...">, <Text token: ""></head><nav cla...">]>'), ('token', '<Block token: "static \'css/styles.c...">'), ('command', "'static'"), ('parse_until', '[]')], 'id': 134884587353344, 'pre_context': ['                "forget to register or load this tag?"', '                % (', '                    token.lineno,', '                    command,', '                    get_text_list(["\'%s\'" % p for p in parse_until], "or"),', '                ),', '            )'], 'context_line': '        raise self.error(', 'post_context': ['            token,', '            "Invalid block tag on line %d: \'%s\'. Did you forget to register "', '            "or load this tag?" % (token.lineno, command),', '        )', '', '    def unclosed_block_tag(self, parse_until):'], 'pre_context_lineno': 570, 'colno': '', 'tb_area_colno': ''}}]
[2025-04-25 12:24:21,553] ERROR django.request: Internal Server Error: /
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 510, in parse
    compile_func = self.tags[command]
KeyError: 'static'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/home/yahuokhoja/chatbot/bot/views.py", line 5, in index
    return render(request, 'index.html')  # Здесь загружается главная страница
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/shortcuts.py", line 25, in render
    content = loader.render_to_string(template_name, context, request, using=using)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader.py", line 62, in render_to_string
    return template.render(context, request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/backends/django.py", line 107, in render
    return self.template.render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 171, in render
    return self._render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 163, in _render
    return self.nodelist.render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 1016, in render
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 1016, in <listcomp>
    return SafeString("".join([node.render_annotated(context) for node in self]))
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 977, in render_annotated
    return self.render(context)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loader_tags.py", line 199, in render
    template = context.template.engine.select_template(template_name)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py", line 208, in select_template
    return self.get_template(template_name)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py", line 177, in get_template
    template, origin = self.find_template(template_name)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/engine.py", line 159, in find_template
    template = loader.get_template(name, skip=skip)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loaders/cached.py", line 57, in get_template
    template = super().get_template(template_name, skip)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/loaders/base.py", line 28, in get_template
    return Template(
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 154, in __init__
    self.nodelist = self.compile_nodelist()
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 196, in compile_nodelist
    nodelist = parser.parse()
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 512, in parse
    self.invalid_block_tag(token, command, parse_until)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 577, in invalid_block_tag
    raise self.error(
django.template.exceptions.TemplateSyntaxError: Invalid block tag on line 3: 'static'. Did you forget to register or load this tag?
[2025-04-25 12:41:52,089] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern '' [name='index']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'login/' [name='login']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'profile/' [name='profile']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'orders/' [name='orders']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'logout/' [name='logout']>]], 'path': 'login'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-25 12:41:52,101] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern '' [name='index']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'login/' [name='login']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'profile/' [name='profile']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'orders/' [name='orders']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'logout/' [name='logout']>]], 'path': 'login'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-25 12:47:47,325] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 12:47:47.314341' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 12:47:47.314341', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 12:47:52,840] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 12:47:52.834174' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 12:47:52.834174', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 12:47:54,722] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 12:47:54.716301' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 12:47:54.716301', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 12:48:23,876] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 12:48:23.870931' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 12:48:23.870931', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 12:50:34,124] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 12:50:34.115878' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 12:50:34.115878', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 12:50:44,159] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 12:50:44.154624' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 12:50:44.154624', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 12:50:47,239] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 12:50:47.234553' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 12:50:47.234553', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 12:50:49,759] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 12:50:49.752980' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 12:50:49.752980', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 12:52:24,684] DEBUG django.db.backends: (0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 12:52:24.676816' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 12:52:24.676816', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 12:52:25,947] DEBUG django.db.backends: (0.064) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 12:52:25.874196' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 12:52:25.874196', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 12:52:27,567] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 12:52:27.560393' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 12:52:27.560393', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 12:55:43,471] DEBUG django.db.backends: (0.006) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 12:55:43.453535' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 12:55:43.453535', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 12:55:45,893] DEBUG django.db.backends: (0.008) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 12:55:45.883537' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-25 12:55:45.883537', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-25 13:14:52,037] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 13:14:52.030485' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 13:14:52.030485', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 13:15:11,641] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 13:15:11.635675' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 13:15:11.635675', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 13:15:50,780] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 13:15:50.775967' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 13:15:50.775967', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 13:16:30,661] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 13:16:30.656421' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 13:16:30.656421', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 13:18:24,152] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern '' [name='index']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'login/' [name='login']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'profile/' [name='profile']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'orders/' [name='orders']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'logout/' [name='logout']>]], 'path': 'food/api/foods/'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-25 13:18:24,182] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern '' [name='index']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'login/' [name='login']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'profile/' [name='profile']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'orders/' [name='orders']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'logout/' [name='logout']>]], 'path': 'food/api/foods/'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-25 13:18:24,188] WARNING django.request: Not Found: /food/api/foods/
[2025-04-25 13:27:59,975] DEBUG django.db.backends: (0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 13:27:59.965193' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 13:27:59.965193', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 13:28:03,415] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 13:28:03.409163' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 13:28:03.409163', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 13:28:03,701] DEBUG django.db.backends: (0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 13:28:03.693530' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 13:28:03.693530', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 13:28:04,318] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 13:28:04.313038' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 13:28:04.313038', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 13:28:05,980] DEBUG django.db.backends: (0.007) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 13:28:05.971890' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 13:28:05.971890', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 13:28:06,534] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 13:28:06.517398' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 13:28:06.517398', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 13:28:11,914] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 13:28:11.908846' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 13:28:11.908846', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 13:28:17,683] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 13:28:17.677143' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 13:28:17.677143', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 13:28:18,451] DEBUG django.db.backends: (0.008) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 13:28:18.440403' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 13:28:18.440403', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 13:28:19,209] DEBUG django.db.backends: (0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 13:28:19.200020' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 13:28:19.200020', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 13:28:33,371] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 13:28:33.366478' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 13:28:33.366478', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 13:30:31,191] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 13:30:31.183565' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 13:30:31.183565', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 13:30:32,745] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 13:30:32.739941' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 13:30:32.739941', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 13:30:33,962] DEBUG django.db.backends: (0.012) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 13:30:33.948888' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 13:30:33.948888', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 13:30:35,501] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 13:30:35.495525' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 13:30:35.495525', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 13:30:36,174] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 13:30:36.169194' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 13:30:36.169194', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 13:30:41,465] DEBUG django.db.backends: (0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-25 13:30:41.458331' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-25 13:30:41.458331', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-25 14:55:23,029] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern '' [name='index']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'login/' [name='login']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'profile/' [name='profile']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'orders/' [name='orders']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'logout/' [name='logout']>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-25 14:55:23,048] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern '' [name='index']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'login/' [name='login']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'profile/' [name='profile']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'orders/' [name='orders']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'logout/' [name='logout']>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-25 14:55:23,055] WARNING django.request: Not Found: /favicon.ico
[2025-04-25 15:20:25,172] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x729e4ed47ac0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x729e4ed5a500>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x729e4ed5a500>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-25 15:20:45,020] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x729e4ed749d0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x729e4ed59b40>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x729e4ed59b40>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-25 15:21:46,834] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x729e4ed748b0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x729e4ed5b340>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x729e4ed5b340>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-25 15:22:18,828] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x76839dce7ac0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x76839dcfa530>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x76839dcfa530>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-25 15:22:29,977] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x76839dd149d0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x76839dcf9b70>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x76839dcf9b70>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-25 15:23:30,202] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x76839dd16ef0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x76839dd6c070>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x76839dd6c070>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-25 16:38:10,910] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7a8e9105bac0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7a8e9106e530>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7a8e9106e530>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-25 16:38:28,096] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7a8e910889d0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7a8e9106db70>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7a8e9106db70>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-25 16:48:50,287] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7a8e9108aef0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7a8e910e0070>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7a8e910e0070>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-25 16:49:56,600] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7a8e9108b010>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7a8e9106ee30>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7a8e9106ee30>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-25 16:50:07,445] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7a8e910889d0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7a8e910e0f70>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7a8e910e0f70>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-25 23:22:41,995] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x76697ef87ac0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x76697ef9a530>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x76697ef9a530>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 00:11:45,439] DEBUG django.db.backends: (0.002) 
            SELECT name, type FROM sqlite_master
            WHERE type in ('table', 'view') AND NOT name='sqlite_sequence'
            ORDER BY name; args=None; alias=default
[2025-04-26 00:11:45,446] DEBUG django.db.backends: (0.001) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-04-26 00:12:22,304] DEBUG django.db.backends: (0.002) 
            SELECT name, type FROM sqlite_master
            WHERE type in ('table', 'view') AND NOT name='sqlite_sequence'
            ORDER BY name; args=None; alias=default
[2025-04-26 00:12:22,309] DEBUG django.db.backends: (0.001) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-04-26 00:12:22,311] DEBUG django.db.backends: (0.001) 
            SELECT name, type FROM sqlite_master
            WHERE type in ('table', 'view') AND NOT name='sqlite_sequence'
            ORDER BY name; args=None; alias=default
[2025-04-26 00:12:22,312] DEBUG django.db.backends: (0.001) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-04-26 00:12:22,321] DEBUG django.db.backends: (0.001) 
            SELECT name, type FROM sqlite_master
            WHERE type in ('table', 'view') AND NOT name='sqlite_sequence'
            ORDER BY name; args=None; alias=default
[2025-04-26 00:12:22,322] DEBUG django.db.backends: (0.000) PRAGMA foreign_keys = OFF; args=None; alias=default
[2025-04-26 00:12:22,322] DEBUG django.db.backends: (0.000) PRAGMA foreign_keys; args=None; alias=default
[2025-04-26 00:12:22,322] DEBUG django.db.backends: (0.000) BEGIN; args=None; alias=default
[2025-04-26 00:12:22,329] DEBUG django.db.backends.schema: CREATE TABLE "bot_apikey" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "api_key" varchar(255) NOT NULL, "api_secret" varchar(255) NOT NULL, "user_id" integer NOT NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED); (params None)
[2025-04-26 00:12:22,334] DEBUG django.db.backends: (0.005) CREATE TABLE "bot_apikey" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "api_key" varchar(255) NOT NULL, "api_secret" varchar(255) NOT NULL, "user_id" integer NOT NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED); args=None; alias=default
[2025-04-26 00:12:22,335] DEBUG django.db.backends.schema: DROP TABLE "bot_activeorder"; (params ())
[2025-04-26 00:12:22,335] DEBUG django.db.backends: (0.000) DROP TABLE "bot_activeorder"; args=(); alias=default
[2025-04-26 00:12:22,336] DEBUG django.db.backends: (0.001) PRAGMA foreign_key_check; args=None; alias=default
[2025-04-26 00:12:22,336] DEBUG django.db.backends.schema: CREATE INDEX "bot_apikey_user_id_e0914d04" ON "bot_apikey" ("user_id"); (params None)
[2025-04-26 00:12:22,337] DEBUG django.db.backends: (0.000) CREATE INDEX "bot_apikey_user_id_e0914d04" ON "bot_apikey" ("user_id"); args=None; alias=default
[2025-04-26 00:12:22,356] DEBUG django.db.backends: (0.019) COMMIT; args=None; alias=default
[2025-04-26 00:12:22,357] DEBUG django.db.backends: (0.000) PRAGMA foreign_keys = ON; args=None; alias=default
[2025-04-26 00:12:22,380] DEBUG django.db.backends: (0.023) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('bot', '0003_apikey_delete_activeorder', '2025-04-26 00:12:22.357468'); args=['bot', '0003_apikey_delete_activeorder', '2025-04-26 00:12:22.357468']; alias=default
[2025-04-26 00:12:22,382] DEBUG django.db.backends: (0.001) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-04-26 00:12:22,385] DEBUG django.db.backends: (0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'admin'; args=('admin',); alias=default
[2025-04-26 00:12:22,388] DEBUG django.db.backends: (0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'admin' AND "django_content_type"."model" IN ('logentry')); args=('admin', 'logentry'); alias=default
[2025-04-26 00:12:22,392] DEBUG django.db.backends: (0.001) SELECT "auth_permission"."content_type_id" AS "content_type", "auth_permission"."codename" AS "codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (1) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, 2 ASC; args=(1,); alias=default
[2025-04-26 00:12:22,394] DEBUG django.db.backends: (0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'admin'; args=('admin',); alias=default
[2025-04-26 00:12:22,396] DEBUG django.db.backends: (0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'auth'; args=('auth',); alias=default
[2025-04-26 00:12:22,398] DEBUG django.db.backends: (0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'auth' AND "django_content_type"."model" IN ('user', 'group', 'permission')); args=('auth', 'user', 'group', 'permission'); alias=default
[2025-04-26 00:12:22,401] DEBUG django.db.backends: (0.001) SELECT "auth_permission"."content_type_id" AS "content_type", "auth_permission"."codename" AS "codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (2, 3, 4) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, 2 ASC; args=(2, 3, 4); alias=default
[2025-04-26 00:12:22,403] DEBUG django.db.backends: (0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'auth'; args=('auth',); alias=default
[2025-04-26 00:12:22,405] DEBUG django.db.backends: (0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'contenttypes'; args=('contenttypes',); alias=default
[2025-04-26 00:12:22,407] DEBUG django.db.backends: (0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'contenttypes' AND "django_content_type"."model" IN ('contenttype')); args=('contenttypes', 'contenttype'); alias=default
[2025-04-26 00:12:22,409] DEBUG django.db.backends: (0.001) SELECT "auth_permission"."content_type_id" AS "content_type", "auth_permission"."codename" AS "codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (5) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, 2 ASC; args=(5,); alias=default
[2025-04-26 00:12:22,411] DEBUG django.db.backends: (0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'contenttypes'; args=('contenttypes',); alias=default
[2025-04-26 00:12:22,413] DEBUG django.db.backends: (0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'sessions'; args=('sessions',); alias=default
[2025-04-26 00:12:22,415] DEBUG django.db.backends: (0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'sessions' AND "django_content_type"."model" IN ('session')); args=('sessions', 'session'); alias=default
[2025-04-26 00:12:22,417] DEBUG django.db.backends: (0.001) SELECT "auth_permission"."content_type_id" AS "content_type", "auth_permission"."codename" AS "codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (6) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, 2 ASC; args=(6,); alias=default
[2025-04-26 00:12:22,419] DEBUG django.db.backends: (0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'sessions'; args=('sessions',); alias=default
[2025-04-26 00:12:22,421] DEBUG django.db.backends: (0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'bot'; args=('bot',); alias=default
[2025-04-26 00:12:22,421] DEBUG django.db.backends: (0.000) BEGIN; args=None; alias=default
[2025-04-26 00:12:22,426] DEBUG django.db.backends: (0.004) INSERT INTO "django_content_type" ("app_label", "model") VALUES ('bot', 'apikey'); args=('bot', 'apikey'); alias=default
[2025-04-26 00:12:22,440] DEBUG django.db.backends: (0.014) COMMIT; args=None; alias=default
[2025-04-26 00:12:22,441] DEBUG django.db.backends: (0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'bot' AND "django_content_type"."model" IN ('apikey')); args=('bot', 'apikey'); alias=default
[2025-04-26 00:12:22,444] DEBUG django.db.backends: (0.001) SELECT "auth_permission"."content_type_id" AS "content_type", "auth_permission"."codename" AS "codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (9) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, 2 ASC; args=(9,); alias=default
[2025-04-26 00:12:22,444] DEBUG django.db.backends: (0.000) BEGIN; args=None; alias=default
[2025-04-26 00:12:22,448] DEBUG django.db.backends: (0.004) INSERT INTO "auth_permission" ("name", "content_type_id", "codename") VALUES ('Can add api key', 9, 'add_apikey'), ('Can change api key', 9, 'change_apikey'), ('Can delete api key', 9, 'delete_apikey'), ('Can view api key', 9, 'view_apikey'); args=('Can add api key', 9, 'add_apikey', 'Can change api key', 9, 'change_apikey', 'Can delete api key', 9, 'delete_apikey', 'Can view api key', 9, 'view_apikey'); alias=default
[2025-04-26 00:12:22,464] DEBUG django.db.backends: (0.016) COMMIT; args=None; alias=default
[2025-04-26 00:12:22,466] DEBUG django.db.backends: (0.001) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'bot'; args=('bot',); alias=default
[2025-04-26 00:35:30,188] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x764756063490>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7647560887c0>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7647560887c0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 00:35:34,291] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x76475608c3a0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x764756089840>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x764756089840>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 00:35:42,414] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x76475608db40>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x764756089e10>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x764756089e10>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 00:44:22,409] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7556cff1f490>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff40790>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff40790>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 00:44:25,410] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7556cff44550>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff41f60>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff41f60>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 00:44:59,292] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7556cff44310>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff40760>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff40760>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 00:45:18,371] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7556cff45c60>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff43700>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff43700>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 02:53:29,286] DEBUG django.db.backends: (0.009) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 02:53:29.265314' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-26 02:53:29.265314', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-26 02:53:29,288] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7556cff45f30>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff42c20>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff42c20>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 02:53:39,580] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 02:53:39.575091' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-26 02:53:39.575091', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-26 02:53:39,581] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7556cff460e0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff42170>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff42170>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 02:53:48,949] DEBUG django.db.backends: (0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 02:53:48.942380' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-26 02:53:48.942380', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-26 02:53:48,950] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7556cff46050>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff41d80>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff41d80>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 02:53:49,197] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 02:53:49.191422' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-26 02:53:49.191422', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-26 02:53:49,199] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7556cffac700>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff41e40>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff41e40>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 02:54:31,751] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern '' [name='index']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'login/' [name='login']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'profile/' [name='profile']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'orders/' [name='orders']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'logout/' [name='logout']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'narh/' [name='narh']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'add-api-key/' [name='add_api_key']>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-26 02:54:31,759] WARNING django.request: Not Found: /favicon.ico
[2025-04-26 02:56:47,550] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 02:56:47.545418' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-26 02:56:47.545418', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-26 03:04:17,440] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 03:04:17.434084' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-26 03:04:17.434084', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-26 03:04:17,442] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7556cffac820>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff43f40>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff43f40>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 03:05:50,151] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 03:05:50.145593' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-26 03:05:50.145593', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-26 03:05:50,152] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7556cffae710>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff86bc0>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff86bc0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 03:12:23,832] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern '' [name='index']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'login/' [name='login']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'profile/' [name='profile']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'orders/' [name='orders']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'logout/' [name='logout']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'narh/' [name='narh']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'add-api-key/' [name='add_api_key']>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-26 03:12:23,837] WARNING django.request: Not Found: /favicon.ico
[2025-04-26 03:12:36,629] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 03:12:36.624616' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 03:12:36.624616', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 03:12:36,630] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7556cff46050>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff43dc0>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff43dc0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 03:25:18,833] DEBUG django.db.backends: (0.006) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 03:25:18.824833' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 03:25:18.824833', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 03:25:18,835] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7556cffaea70>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff42b00>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff42b00>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:20:27,698] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 04:20:27.691801' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 04:20:27.691801', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 04:20:27,701] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7556cffaeb00>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff41b10>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff41b10>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:20:39,354] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 04:20:39.348814' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 04:20:39.348814', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 04:27:05,884] DEBUG django.db.backends: (0.011) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 04:27:05.870229' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 04:27:05.870229', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 04:27:05,885] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7556cffac820>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff85cc0>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7556cff85cc0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:30:07,847] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 04:30:07.840006' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 04:30:07.840006', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 04:30:41,456] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 04:30:41.447312' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 04:30:41.447312', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 04:33:12,042] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7ddb26cff400>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d1c760>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d1c760>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:33:16,737] DEBUG django.db.backends: (0.067) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 04:33:16.663545' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 04:33:16.663545', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 04:33:16,738] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7ddb26d20280>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26ce1270>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26ce1270>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:33:48,979] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 04:33:48.974464' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 04:33:48.974464', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 04:33:48,980] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7ddb26d21a20>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d1fdc0>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d1fdc0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:35:33,086] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7ddb26d21a20>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8c0d0>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8c0d0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:35:38,417] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern '' [name='index']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'login/' [name='login']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'profile/' [name='profile']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'orders/' [name='orders']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'logout/' [name='logout']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'narh/' [name='narh']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'add-api-key/' [name='add_api_key']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'some-protected-view/' [name='some_protected_view']>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-26 04:35:38,428] WARNING django.request: Not Found: /favicon.ico
[2025-04-26 04:36:43,306] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7ddb26d20280>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8d660>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8d660>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:37:11,131] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7ddb26d70430>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8db40>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8db40>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:37:13,867] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7ddb26d72710>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8dde0>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8dde0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:37:23,801] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7ddb26d728c0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8e230>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8e230>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:37:53,662] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 04:37:53.656721' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 04:37:53.656721', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 04:37:53,663] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7ddb26d72830>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26ce3520>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26ce3520>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:37:55,628] DEBUG django.db.backends: (0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 04:37:55.621770' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 04:37:55.621770', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 04:38:37,039] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7ddb26d728c0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8dbd0>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8dbd0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:39:12,239] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern '' [name='index']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'login/' [name='login']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'profile/' [name='profile']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'orders/' [name='orders']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'logout/' [name='logout']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'narh/' [name='narh']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'add-api-key/' [name='add_api_key']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'some-protected-view/' [name='some_protected_view']>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-26 04:39:12,246] WARNING django.request: Not Found: /favicon.ico
[2025-04-26 04:39:18,963] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7ddb26d21ab0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8d360>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8d360>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:39:22,066] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7ddb26d223b0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8fb50>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8fb50>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:39:48,986] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 04:39:48.981455' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 04:39:48.981455', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 04:39:48,988] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7ddb26d705e0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8f010>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8f010>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:41:29,986] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7ddb26d72c20>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8d7e0>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8d7e0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:42:11,369] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 04:42:11.363379' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 04:42:11.363379', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 04:42:11,371] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7ddb26d728c0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8e6b0>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26d8e6b0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:42:49,446] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 04:42:49.436704' AND "django_session"."session_key" = 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs') LIMIT 21; args=('2025-04-26 04:42:49.436704', 'mvx6mcn5s5wnx7lxrwpfb22poofs27vs'); alias=default
[2025-04-26 04:42:49,447] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7ddb26d72cb0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26ce3520>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ddb26ce3520>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:43:08,619] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x719364623400>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x719364640760>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x719364640760>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:43:24,588] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x73abc2bbf400>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x73abc2bdc760>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x73abc2bdc760>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:43:39,009] DEBUG django.db.backends: (0.007) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 04:43:38.988621' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 04:43:38.988621', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 04:43:39,011] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x73abc2be0280>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x73abc2b9d270>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x73abc2b9d270>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:46:48,964] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x73abc2be0280>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x73abc2bdfdc0>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x73abc2bdfdc0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:46:51,803] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x73abc2be1ab0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x73abc2c50280>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x73abc2c50280>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:51:18,454] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x73abc2c30550>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x73abc2bdfc10>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x73abc2bdfc10>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:53:25,263] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7ed4b64f7400>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ed4b6514730>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ed4b6514730>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:53:25,267] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7ed4b64f7400>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ed4b6514730>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7ed4b6514730>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:53:35,796] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7828f5f33400>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7828f5f50760>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7828f5f50760>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:53:35,800] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7828f5f33400>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7828f5f50760>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7828f5f50760>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:53:37,912] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 04:53:37.903512' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 04:53:37.903512', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 04:53:37,914] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7828f5f54280>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7828f5f11270>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7828f5f11270>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:53:37,919] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7828f5f54280>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7828f5f11270>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7828f5f11270>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:54:24,911] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 04:54:24.905369' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 04:54:24.905369', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 04:54:24,912] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7828f5f55b40>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7828f5f53f70>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7828f5f53f70>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:54:24,915] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7828f5f55b40>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7828f5f53f70>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7828f5f53f70>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:54:35,634] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7f752445f400>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f752447c760>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7f752447c760>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:54:58,356] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x77001b2bf400>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x77001b2dc760>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x77001b2dc760>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 04:54:59,470] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 04:54:59.462332' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 04:54:59.462332', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 04:54:59,471] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x77001b2e0280>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x77001b29d270>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x77001b29d270>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 05:18:18,782] DEBUG django.db.backends: (0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 05:18:18.774021' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 05:18:18.774021', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 05:18:18,786] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x77001b2e1a20>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x77001b2dfdc0>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x77001b2dfdc0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 05:43:02,701] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern '' [name='index']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'login/' [name='login']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'profile/' [name='profile']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'orders/' [name='orders']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'logout/' [name='logout']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'narh/' [name='narh']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'add-api-key/' [name='add_api_key']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'some-protected-view/' [name='some_protected_view']>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-26 05:43:02,712] WARNING django.request: Not Found: /favicon.ico
[2025-04-26 07:02:52,058] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7d4eb6b73400>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7d4eb6b90760>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7d4eb6b90760>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 07:02:59,447] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7279b622f400>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7279b624c760>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7279b624c760>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 07:03:01,336] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 07:03:01.325671' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 07:03:01.325671', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 07:03:01,338] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7279b6250280>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7279b620d270>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7279b620d270>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 07:03:07,481] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 07:03:07.475376' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 07:03:07.475376', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 07:03:07,482] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7279b6251a20>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7279b624fdc0>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7279b624fdc0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 07:03:08,680] DEBUG django.db.backends: (0.003) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 07:03:08.675476' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 07:03:08.675476', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 07:03:59,784] DEBUG django.db.backends: (0.005) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 07:03:59.771688' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 07:03:59.771688', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 07:03:59,785] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7279b62a05e0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7279b62bd060>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7279b62bd060>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 08:48:26,813] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern '' [name='index']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'login/' [name='login']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'profile/' [name='profile']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'orders/' [name='orders']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'logout/' [name='logout']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'narh/' [name='narh']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'add-api-key/' [name='add_api_key']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'some-protected-view/' [name='some_protected_view']>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-26 08:48:26,828] WARNING django.request: Not Found: /favicon.ico
[2025-04-26 08:49:31,056] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 08:49:31.049053' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 08:49:31.049053', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 08:49:31,057] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7279b62a0430>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7279b624dc60>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7279b624dc60>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 09:11:25,997] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x710bb2c33400>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x710bb2c507c0>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x710bb2c507c0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 09:11:51,666] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 09:11:51.657746' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 09:11:51.657746', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 09:11:51,668] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x710bb2c54280>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x710bb2c112d0>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x710bb2c112d0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 09:12:06,261] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 09:12:06.255178' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 09:12:06.255178', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 09:12:18,257] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern '' [name='index']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'login/' [name='login']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'profile/' [name='profile']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'orders/' [name='orders']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'logout/' [name='logout']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'narh/' [name='narh']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'add-api-key/' [name='add_api_key']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'some-protected-view/' [name='some_protected_view']>]], 'path': 'narh'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-26 09:18:05,606] DEBUG django.db.backends: (0.011) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 09:18:05.592704' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 09:18:05.592704', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 09:18:05,612] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x710bb2ca3250>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x710bb2cc0d90>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x710bb2cc0d90>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 10:01:25,235] DEBUG django.db.backends: (0.126) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 10:01:25.103642' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 10:01:25.103642', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 10:01:25,240] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7e3de9643490>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7e3de9ada0e0>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7e3de9ada0e0>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
[2025-04-26 10:04:51,741] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern '' [name='index']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'login/' [name='login']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'profile/' [name='profile']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'orders/' [name='orders']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'logout/' [name='logout']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'narh/' [name='narh']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'add-api-key/' [name='add_api_key']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'some-protected-view/' [name='some_protected_view']>]], 'path': 'favicon.ico'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-26 10:04:51,748] WARNING django.request: Not Found: /favicon.ico
[2025-04-26 10:05:17,311] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern '' [name='index']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'login/' [name='login']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'profile/' [name='profile']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'orders/' [name='orders']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'logout/' [name='logout']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'narh/' [name='narh']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'add-api-key/' [name='add_api_key']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'some-protected-view/' [name='some_protected_view']>]], 'path': 'food/api/foods/'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-26 10:05:17,316] WARNING django.request: Not Found: /food/api/foods/
[2025-04-26 10:05:27,792] DEBUG django.template: Exception while resolving variable 'name' in template 'unknown'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 181, in _get_response
    callback, callback_args, callback_kwargs = self.resolve_request(request)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/core/handlers/base.py", line 313, in resolve_request
    resolver_match = resolver.resolve(request.path_info)
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/urls/resolvers.py", line 705, in resolve
    raise Resolver404({"tried": tried, "path": new_path})
django.urls.exceptions.Resolver404: {'tried': [[<URLResolver <URLPattern list> (admin:admin) 'admin/'>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern '' [name='index']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'login/' [name='login']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'signup/' [name='signup']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'profile/' [name='profile']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'orders/' [name='orders']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'logout/' [name='logout']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'narh/' [name='narh']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'add-api-key/' [name='add_api_key']>], [<URLResolver <module 'bot.urls' from '/home/yahuokhoja/chatbot/bot/urls.py'> (None:None) ''>, <URLPattern 'some-protected-view/' [name='some_protected_view']>]], 'path': 'food/api/foods/'}

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 890, in _resolve_lookup
    raise TypeError
TypeError

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 901, in _resolve_lookup
    current = getattr(current, bit)
AttributeError: 'URLResolver' object has no attribute 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'name'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [name] in <URLResolver <URLPattern list> (admin:admin) 'admin/'>
[2025-04-26 10:05:27,797] WARNING django.request: Not Found: /food/api/foods/
[2025-04-26 10:56:45,120] DEBUG django.db.backends: (0.004) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-04-26 10:56:45.109601' AND "django_session"."session_key" = 'l36fjstta8zpdh4veaz3xrhtq8589nrj') LIMIT 21; args=('2025-04-26 10:56:45.109601', 'l36fjstta8zpdh4veaz3xrhtq8589nrj'); alias=default
[2025-04-26 10:56:45,129] DEBUG django.template: Exception while resolving variable 'price' in template 'index.html'.
Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 891, in _resolve_lookup
    current = current[bit]
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/context.py", line 88, in __getitem__
    raise KeyError(key)
KeyError: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 897, in _resolve_lookup
    if isinstance(current, BaseContext) and getattr(
AttributeError: type object 'RequestContext' has no attribute 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 907, in _resolve_lookup
    current = current[int(bit)]
ValueError: invalid literal for int() with base 10: 'price'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/yahuokhoja/venv/lib/python3.10/site-packages/django/template/base.py", line 914, in _resolve_lookup
    raise VariableDoesNotExist(
django.template.base.VariableDoesNotExist: Failed lookup for key [price] in [{'True': True, 'False': False, 'None': None}, {'csrf_token': <SimpleLazyObject: <function csrf.<locals>._get_val at 0x7e3de96bc4c0>>, 'request': <WSGIRequest: GET '/'>, 'user': <SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7e3de96d1540>>, 'perms': PermWrapper(<SimpleLazyObject: <django.contrib.auth.models.AnonymousUser object at 0x7e3de96d1540>>), 'messages': <SessionStorage: request=<WSGIRequest: GET '/'>>, 'DEFAULT_MESSAGE_LEVELS': {'DEBUG': 10, 'INFO': 20, 'SUCCESS': 25, 'WARNING': 30, 'ERROR': 40}}, {}, {}]
